{"version":3,"sources":["add-data-on-change.js","add-data-to-tabs.js","add-tab-data.js","add-warning-msg.js","bottom-table.js","check-box.js","color-manager.js","create-field.js","engine.js","image_assets.js","interface.js","load-plate.js","overlay.js","plate-map.js","preset.js","svg-create.js","svg-events.js","tabs.js","undo-redo-manager.js"],"names":["plateMapWidget","$","addDataOnChange","_addAllData","data","wells","this","selectedIndices","noOfSelectedObjects","length","forEach","index","well","engine","derivative","extend","defaultWell","processWellData","wellEmpty","disableAddDeleteWell","hasOwnProperty","emptyWellWithDefaultVal","_getAllMultipleVal","applyFieldWarning","_colorMixer","derivativeChange","addToUndoRedo","newData","curWell","id","newVal","multi","preData","_getMultiData","JSON","parse","stringify","curData","fieldId","addNew","added","removed","value","add","listIdx","toString","map","val","subFieldId","push","indexOf","removeIndex","removeListIndex","newPreData","idx","parseInt","searchAndStack","applyColors","_trigger","createState","checkboxes","getCheckboxes","slice","requiredField","getPlate","address","indexToAddress","selectedAddresses","getSelectedAddresses","jQuery","addDataToFields","_addDataToTabFields","i","fieldList","field","v","undefined","setValue","addTabData","fieldMap","autoId","_addTabData","tabData","options","attributes","tabs","that","multiplexFieldArray","tab","tabPointer","tabFields","fieldArray","console","log","type","_makeMultiplexField","_makeRegularField","allDataTabs","multipleFieldList","_makeSubField","mainField","wrapperDiv","_createElement","addClass","wrapperDivLeftSide","wrapperDivRightSide","nameContainer","text","name","fieldContainer","append","full_id","root","required","checkbox","_addCheckBox","_createField","onChange","getValue","subFieldList","requiredSubField","multiplexFields","subFieldData","subField","multiplexId","subFields","subfield","mainMultiplexField","mainRefField","curId","singleSelectValue","curVal","returnVal","_changeMultiFieldValue","curDataLs","detailData","addWarningMsg","fieldWarningMsg","include","imgId","img","html","_assets","warningImg","attr","find","prepend","popText","hover","style","display","hide","remove","removeWarningMsg","fieldData","applyMultiplexSubFieldColor","Array","bottomTable","_bottomScreen","bottomContainer","bottomTableContainer","bottomTableHead","bottomTableBody","container","addBottomTableHeadings","row","singleField","rowCounter","globalSelectedAttributes","empty","adjustFieldWidth","bottomRow","tileAttrText","tile","getText","addBottomTableRow","color","singleStack","modelTile","allTiles","plateIdDiv","numberText","click","evt","addressToSelect","ctrlKey","setSelectedAddresses","colorPairs","colorStops","css","dataDiv","bottomForFirstTime","createExportButton","downloadCSV","csv","filename","csvFile","downloadLink","Blob","document","createElement","download","href","window","URL","createObjectURL","body","appendChild","exportData","format","rows","querySelectorAll","colorLocMap","colorLocIdxMap","stackUpWithColor","colorIdx","cols","j","innerText","replace","loc","join","overlayContainer","descriptionDiv","buttonContainer","exportButton","resetExportText","classList","setTimeout","clipboardButton","clipboard","ClipboardJS","get","resetClipboardText","on","checkBox","globalSelectedMultiplexSubfield","allCheckboxes","checkImage","dontImg","linkedFieldId","_applyCheckboxHandler","checkBoxImage","changes","changeCheckboxes","filter","changeSubFieldsCheckboxes","subFieldToInclude","clicked","Boolean","doImg","noUndoRedo","gsa","multiplexCheckedSubField","_clearPresetSelection","setSubFieldCheckboxes","fieldIds","setCheckboxes","colorManager","select2close","ev","params","args","originalEvent","stopPropagation","one","preventDefault","select2fix","input","select2setData","selected","dataAdapter","addOptions","convertToOptions","createField","_createTextField","_createNumericField","_createSelectField","_createMultiSelectField","_createBooleanField","_createMultiplexField","parseValue","String","trim","disabled","bool","prop","parseText","_createOpts","config","opts","allowClear","placeholder","minimumResultsForSearch","data_specified","ajax","optMap","opt","select2","trigger","multiple","_parseOne","_parseMany","vals","multiOnChange","e","_createDeleteButton","units","defaultUnit","unitInput","hasUnits","unitText","unit","setUnitOpts","newUnits","curUnit","cleanUnit","isPlainObject","parseRegularValue","parseUnit","getRegularValue","isNaN","_ret","getUnit","hasMultiplexUnit","unitMap","_loop","unitTypeKey","_typeof","setUnit","setRegularValue","Number","toLowerCase","u","getRegularText","textVal","removeClass","nameContainer1","fieldContainer1","singleSelect","appendTo","multiselectSetValue","setSingleSelectOptions","singleSelectChange","updateSubFieldUnitOpts","curSubField","readOnlyHandler","newSubFieldValue","multiselectValues","newOptions","valMap","_loop2","curOpts","unitOptions","curIds","curOpt","newMultiplexVal","selectList","selectedVal","selectVal","_ret3","checkedSubfields","_loop3","valIdx","subV","subText","optId","x","_loop4","checkMultiplexCompletion","valList","valCount","completionPct","getSubfieldStatus","req","fill","subFieldWarningMap","warningStatus","multiplexVals","multiplexIdx","updateSubFieldWarningMap","mainFieldStatus","warningText","mainFieldWarning","parseMainFieldVal","_deleteDialog","valToRemove","allSelectedMultipleVal","Object","keys","dialogDiv","killDialog","dialogContent","tableArea","buttonRow","table","_deleteDialogTable","readOnly","deleteCheckedButton","each","decideSelectedFields","cancelButton","show","onclick","event","target","colName","thead","tbody","tr","deleteButton","THIS","colorMap","Map","stackPointer","isArray","derivativeJson","wellData","selectedSubFields","_loop5","curMultiplexVals","isEmptyObject","parseFloat","sort","a","b","refDerivativeIndex","referenceDerivative","arr","wholeNoTiles","wholePercentage","setTileVisible","set","setTileColor","completion","checkCompletion","setTileComplete","Math","floor","overLayTextContainer","selectObjectInBottomTab","multiplexStatus","assets","_createInterface","topSection","topLeft","topRight","overLayContainer","canvasContainer","_createOverLay","element","_createSvg","_createTabAtRight","_createTabs","_placePresetTabs","_setShortcuts","keyup","_handleShortcuts","_configureUndoRedoArray","addEventListener","activeElement","copyCriteria","clearCriteria","pasteCriteria","keyCode","metaKey","shiftKey","redo","undo","loadPlate","indices","addressToIndex","sanitizeWell","sanitizeCheckboxes","sanitizeAddresses","getSelectedIndices","sanitized","setData","newWell","quiet","setSelectedIndices","overlay","overLayButtonContainer","clearCriteriaButton","copyCriteriaButton","pasteCriteriaButton","undoButton","redoButton","hasWellUpdate","alert","_getSelectedWells","commonData","_getCommonData","widget","addressToLoc","m","exec","toUpperCase","row_v","col","c","charCodeAt","locToIndex","dimensions","r","c1","c2","code","fromCharCode","_colKey","locToAddress","_rowKey","indexToLoc","getDimensions","_create","numCols","rowIndex","component","className","isReadOnly","_init","getTextDerivative","wellsData","textDerivative","textValWell","textFieldIdWell","curWellData","textFieldVal","getWellsDifferences","wellsHash","wellId","differentWellsVals","commonWell","_getCommonWell","allFieldVal","fieldIdx","diffWellVal","commonVal","curMultiVal","containsObject","setFieldsDisabled","key","addressAllowToEdit","getWellSetAddressWithData","actionPointer","undoRedoArray","trs","td","children","isSelected","colors","querySelector","innerHTML","addresses","setSelection","selectedAddress","preset","presets","_this","wellAttrContainer","tabContainer","presetTabContainer","_loop6","divText","title","presetButton","fields","_selectPreset","SVG","svgCreate","baseSizes","spacing","tile_radius","center_radius_complete","center_radius_incomplete","label_size","label_spacing","text_size","stroke","gap","svg","ls","viewbox","wellShadow","gradient","stop","at","from","to","radius","wellColors","pair","_fixRowAndColumn","_putCircles","_svgEvents","rh","nested","ch","y","plain","_createTile","g","move","d","rect","circle","center","tf","group","complete","visible","colorIndex","label","svgEvents","colorToIndex","selectionBox","getMousePosition","CTM","node","getScreenCTM","clientX","clientY","f","dimCoord","max","trunc","posToLoc","pos","s","selectionBoxPosition","pos0","pos1","d0","d1","x0","min","y0","width","height","endDrag","secondary","extending","startIdx","c0","r0","r1","selectTiles","attrs","_setSelectedTiles","blur","obj","list","deepEqual","wellVal","commonArr","inArray","multiplexField","curMultipleVal","multipleVal","allTabs","tabHead","tabIndex","_tabClickHandler","tabDataContainer","_addDataTabs","clickedTab","selectedTab","previouslyClickedTabIndex","clickedTabIndex","undoRedoManager","state","splice","clearHistory","shiftUndoRedo","pointerDiff","pointer","setUndoRedo"],"mappings":"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","file":"plate-map.min.js","sourcesContent":["var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.addDataOnChange = function() {\n    // This object is invoked when something in the tab fields change\n    return {\n\n      _addAllData: function(data) {\n        let wells = [];\n        if (this.selectedIndices) {\n          let noOfSelectedObjects = this.selectedIndices.length;\n          this.selectedIndices.forEach(function (index) {\n            let well;\n            if (index in this.engine.derivative) {\n              well = this.engine.derivative[index];\n            } else {\n              well = $.extend(true, {}, this.defaultWell);\n              this.engine.derivative[index] = well;\n            }\n            well = this.processWellData(data, well, noOfSelectedObjects);\n            let empty = this.engine.wellEmpty(well);\n            if (empty) {\n              if (this.disableAddDeleteWell) {\n                if (this.engine.derivative.hasOwnProperty(index)) {\n                  well = $.extend(true, {}, this.emptyWellWithDefaultVal);\n                  this.engine.derivative[index] = well;\n                }\n              } else {\n                delete this.engine.derivative[index];\n              }\n            }\n          }, this);\n        }\n        // update multiplex remove all field\n        this._getAllMultipleVal(wells);\n        this.applyFieldWarning(wells);\n        // create well when default field is sent for the cases when user delete all fields during disabledNewDeleteWell mode\n        this._colorMixer();\n        this.derivativeChange();\n        this.addToUndoRedo();\n      },\n\n      processWellData: function(newData, curWell, noOfSelectedObjects) {\n        for (let id in newData) {\n          if (!newData.hasOwnProperty(id)) {\n            continue;\n          }\n          let newVal = newData[id];\n          if (newVal !== undefined && newVal !== null) {\n            if (newVal.multi) {\n              let preData = curWell[id];\n              newVal = this._getMultiData(preData, newVal, id, noOfSelectedObjects);\n            }\n            newVal = JSON.parse(JSON.stringify(newVal));\n          } else {\n            newVal = null;\n          }\n          curWell[id] = newVal;\n        }\n\n        return curWell\n      },\n\n      _getMultiData: function(preData, curData, fieldId, noOfSelectedObjects) {\n        let addNew = curData.added;\n        let removed = curData.removed;\n        if (addNew) {\n          if (preData) {\n            if (addNew.value) {\n              let add = true;\n              for (let listIdx in preData) {\n                if (!preData.hasOwnProperty(listIdx)) {\n                  continue;\n                }\n                let multiplexData = preData[listIdx];\n                // for cases when the add new data exist in well\n                if (multiplexData[fieldId].toString() === addNew.id.toString()) {\n                  add = false;\n                  // update subfield value\n                  preData = preData.map(function(val) {\n                    if (val[fieldId].toString() === addNew.id.toString()) {\n                      for (let subFieldId in val) {\n                        if (!val.hasOwnProperty(subFieldId)) {\n                          continue;\n                        }\n                        // over write previous data if only one well is selected\n                        if (subFieldId in addNew.value && subFieldId !== fieldId) {\n                          if (noOfSelectedObjects === 1) {\n                            val[subFieldId] = addNew.value[subFieldId];\n                          } else if (addNew.value[subFieldId]) {\n                            val[subFieldId] = addNew.value[subFieldId];\n                          }\n                        }\n                      }\n                    }\n                    return val;\n                  })\n                }\n              }\n              if (add) {\n                preData.push(addNew.value);\n              }\n            } else if (preData.indexOf(addNew) < 0) {\n              preData.push(addNew);\n            }\n          } else {\n            preData = [];\n            if (addNew.value) {\n              preData.push(addNew.value);\n            } else if (addNew) {\n              preData.push(addNew);\n            }\n          }\n        }\n\n        let removeListIndex = function(preData, removeIndex) {\n          let newPreData = [];\n          for (let idx in preData) {\n            if (!preData.hasOwnProperty(idx)) {\n              continue;\n            }\n            if (parseInt(idx) !== parseInt(removeIndex)) {\n              newPreData.push(preData[idx]);\n            }\n          }\n          return newPreData;\n        };\n\n        if (removed) {\n          let removeIndex;\n          // for multiplex field\n          if (removed.value) {\n            for (let listIdx in preData) {\n              let multiplexData = preData[listIdx];\n              if (multiplexData[fieldId].toString() === removed.id.toString()) {\n                removeIndex = listIdx;\n              }\n            }\n            // remove nested element\n            preData = removeListIndex(preData, removeIndex);\n          } else {\n            if (preData) {\n              removeIndex = preData.indexOf(removed);\n              if (removeIndex >= 0) {\n                preData = removeListIndex(preData, removeIndex);\n              }\n            }\n          }\n        }\n        if (preData && (preData.length === 0)) {\n          preData = null;\n        }\n        return preData\n      },\n\n      _colorMixer: function() {\n        this.engine.searchAndStack();\n        this.engine.applyColors();\n      },\n\n      derivativeChange: function() {\n        this._trigger(\"updateWells\", null, this);\n      },\n\n      createState: function() {\n        let derivative = $.extend(true, {}, this.engine.derivative);\n        let checkboxes = this.getCheckboxes();\n        let selectedIndices = this.selectedIndices.slice();\n\n        return {\n          \"derivative\": derivative,\n          \"checkboxes\": checkboxes,\n          \"selectedIndices\": selectedIndices,\n          \"requiredField\": this.requiredField\n        };\n      },\n\n      getPlate: function() {\n        let wells = {};\n        let derivative = this.engine.derivative;\n        for (let index in derivative) {\n          if (!derivative.hasOwnProperty(index)) {\n            continue;\n          }\n\n          let address = this.indexToAddress(index);\n          let well = derivative[index];\n          wells[address] = $.extend(true, {}, well);\n        }\n        let checkboxes = this.getCheckboxes();\n        let selectedAddresses = this.getSelectedAddresses();\n\n        return {\n          \"wells\": wells,\n          \"checkboxes\": checkboxes,\n          \"selectedAddresses\": selectedAddresses,\n          \"requiredField\": this.requiredField\n        };\n      }\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\nplateMapWidget.addDataToFields = function() {\n\n  return {\n\n    _addDataToTabFields: function(well) {\n      // Configure how data is added to tab fields\n      for (let i = 0; i < this.fieldList.length; i++) {\n        let field = this.fieldList[i];\n        let v = well[field.id];\n        if (v === undefined) {\n          v = null;\n        }\n        field.setValue(v);\n      }\n    }\n  }\n};\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.addTabData = function() {\n\n    return {\n\n      fieldList: [],\n      fieldMap: {},\n      autoId: 1,\n\n      _addTabData: function() {\n        // Here we may need more changes because attributes format likely to change\n        let tabData = this.options.attributes.tabs;\n        let that = this;\n        this.requiredField = [];\n        let multiplexFieldArray = [];\n        tabData.forEach(function(tab, tabPointer) {\n          if (tab[\"fields\"]) {\n            let tabFields = tab[\"fields\"];\n            let fieldArray = [];\n            // Now we look for fields in the json\n            for (var i = 0; i < tabFields.length; i++) {\n              let data = tabFields[i];\n\n              if (!data.id) {\n                data.id = \"Auto\" + that.autoId++;\n                console.log(\"Field autoassigned id \" + data.id);\n              }\n              if (!data.type) {\n                data.type = \"text\";\n                console.log(\"Field \" + data.id + \" autoassigned type \" + data.type);\n              }\n\n              let field;\n              if (data.type === \"multiplex\") {\n                field = that._makeMultiplexField(data, tabPointer, fieldArray);\n                that.defaultWell[field.id] = [];\n                multiplexFieldArray.push(field);\n              } else {\n                field = that._makeRegularField(data, tabPointer, fieldArray, true);\n                if (data.type === \"multiselect\") {\n                  that.defaultWell[field.id] = [];\n                  multiplexFieldArray.push(field);\n                } else {\n                  that.defaultWell[field.id] = null;\n                }\n              }\n            }\n\n            that.allDataTabs[tabPointer][\"fields\"] = fieldArray;\n          } else {\n            console.log(\"unknown format in field initialization\");\n          }\n        });\n        that.multipleFieldList = multiplexFieldArray;\n      },\n\n      _makeSubField: function(mainField, data, tabPointer, fieldArray) {\n        let that = this;\n        if (!data.id) {\n          data.id = \"Auto\" + that.autoId++;\n          console.log(\"Field autoassigned id \" + data.id);\n        }\n        if (!data.type) {\n          data.type = \"text\";\n          console.log(\"Field \" + data.id + \" autoassigned type \" + data.type);\n        }\n        let wrapperDiv = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-default-field\");\n        let wrapperDivLeftSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-left-side\");\n        let wrapperDivRightSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-right-side\");\n        let nameContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-name\").text(data.name);\n        let fieldContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-container\");\n\n        $(wrapperDivRightSide).append(nameContainer);\n        $(wrapperDivRightSide).append(fieldContainer);\n        $(wrapperDiv).append(wrapperDivLeftSide);\n        $(wrapperDiv).append(wrapperDivRightSide);\n        $(that.allDataTabs[tabPointer]).append(wrapperDiv);\n\n        let field = {\n          id: data.id,\n          full_id: mainField.id + \"_\" + data.id,\n          name: data.name,\n          root: wrapperDiv,\n          data: data,\n          required: data.required || false\n        };\n\n        fieldArray.push(field);\n        that.fieldMap[field.full_id] = field;\n\n        return field;\n      },\n\n      _makeRegularField: function(data, tabPointer, fieldArray, checkbox) {\n        let that = this;\n        let wrapperDiv = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-default-field\");\n        let wrapperDivLeftSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-left-side\");\n        let wrapperDivRightSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-right-side \");\n        let nameContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-name\").text(data.name);\n        let fieldContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-container\");\n\n        wrapperDivRightSide.append(nameContainer);\n        wrapperDivRightSide.append(fieldContainer);\n        wrapperDiv.append(wrapperDivLeftSide);\n        wrapperDiv.append(wrapperDivRightSide);\n        that.allDataTabs[tabPointer].append(wrapperDiv);\n\n        let field = {\n          id: data.id,\n          full_id: data.id,\n          name: data.name,\n          root: wrapperDiv,\n          data: data,\n          required: data.required\n        };\n\n        if (field.required) {\n          that.requiredField.push(field.id);\n        }\n\n        fieldArray.push(field);\n        that.fieldList.push(field);\n        that.fieldMap[field.full_id] = field;\n\n        // Adding checkbox\n        if (checkbox) {\n          that._addCheckBox(field);\n        }\n        that._createField(field);\n\n        field.onChange = function() {\n          let v = field.getValue();\n          let data = {};\n          data[field.id] = v;\n          that._addAllData(data);\n        };\n        return field;\n      },\n\n      _makeMultiplexField: function(data, tabPointer, fieldArray) {\n        let that = this;\n        let wrapperDiv = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-default-field\");\n        let wrapperDivLeftSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-left-side\");\n        let wrapperDivRightSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-right-side \");\n        let nameContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-name\").text(data.name);\n        let fieldContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-container\");\n\n        wrapperDivRightSide.append(nameContainer);\n        wrapperDivRightSide.append(fieldContainer);\n        wrapperDiv.append(wrapperDivLeftSide);\n        wrapperDiv.append(wrapperDivRightSide);\n        that.allDataTabs[tabPointer].append(wrapperDiv);\n\n        let field = {\n          id: data.id,\n          full_id: data.id,\n          name: data.name,\n          root: wrapperDiv,\n          data: data,\n          required: data.required\n        };\n\n        fieldArray.push(field);\n        that.fieldList.push(field);\n        that.fieldMap[field.full_id] = field;\n\n        let subFieldList = [];\n        //create subfields\n        let requiredSubField = [];\n        for (let i = 0; i < data.multiplexFields.length; i++) {\n          let subFieldData = data.multiplexFields[i];\n          let subField = that._makeSubField(field, subFieldData, tabPointer, fieldArray);\n          subFieldList.push(subField);\n\n          // stores required  subField\n          if (subFieldData.required) {\n            requiredSubField.push(subField.id);\n          }\n        }\n\n        //store required field\n        if (field.required || requiredSubField.length) {\n          this.requiredField.push({\n            multiplexId: field.id,\n            subFields: requiredSubField\n          });\n        }\n\n        field.subFieldList = subFieldList;\n        that._createField(field);\n        that._addCheckBox(field);\n\n        subFieldList.forEach(function(subfield) {\n          subfield.mainMultiplexField = field;\n          that._createField(subfield);\n          that._addCheckBox(subfield);\n          // overwrite subField setvalue\n          subfield.onChange = function() {\n            let v = subfield.getValue();\n            let mainRefField = subfield.mainMultiplexField;\n            let curId = mainRefField.singleSelectValue();\n            //let curDataLs = mainRefField.detailData;\n            let curVal = {};\n            curVal[mainRefField.id] = curId;\n            //append subfields\n            curVal[subfield.id] = v;\n            let returnVal = {\n              id: curId,\n              value: curVal\n            };\n\n            field._changeMultiFieldValue(returnVal, null);\n            let curDataLs = mainRefField.detailData;\n            if (curDataLs !== null) {\n              curId = mainRefField.singleSelectValue();\n              curDataLs = curDataLs.map(function(curData) {\n                if (curData[mainRefField.id] === curId) {\n                  curData[subfield.id] = v;\n                }\n                return curData;\n              });\n            }\n            mainRefField.detailData = curDataLs;\n          };\n\n        });\n\n        return field;\n      }\n    }\n  }\n\n})(jQuery);\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.addWarningMsg = function() {\n    // For those check boxes associated with every field in the tab\n    return {\n      fieldWarningMsg: function(field, text, include) {\n        let that = this;\n        let imgId = \"fieldWarning\" + field.full_id;\n        let img = $(\"<span>\").html(that._assets.warningImg).attr(\"id\", imgId).addClass(\"plate-field-warning-image\");\n        if (include) {\n          if (field.root.find(\"#\" + imgId).length <= 0) {\n            field.root.find(\".plate-setup-tab-name\").text(\" \" + field.name);\n            field.root.find(\".plate-setup-tab-name\").prepend(img);\n\n            let popText = $(\"<div/>\").addClass(\"pop-out-text\");\n            popText.text(text);\n            field.root.find(\".plate-setup-tab-name\").append(popText);\n\n            $(\"#\" + imgId).hover(function() {\n              popText[0].style.display = 'flex';\n            }, function() {\n              popText.hide();\n            });\n          }\n\n\n        } else {\n          if (field.root.find(\"#\" + imgId).length > 0) {\n            field.root.find(\".plate-setup-tab-name\").text(field.name);\n            $(\"#\" + imgId).remove();\n          }\n        }\n      },\n\n      removeWarningMsg: function(field, text, include) {\n        let that = this;\n        let imgId = \"fieldWarning\" + field.full_id;\n        if (include) {\n          let img = $(\"<span>\").html(that._assets.warningImg).attr(\"id\", imgId).addClass(\"plate-field-warning-image\");\n          field.root.find(\".plate-setup-tab-name\").append(img);\n\n          let popText = $(\"<div/>\").addClass(\"pop-out-text\");\n          popText.text(text);\n          field.root.find(\".plate-setup-tab-name\").append(popText);\n\n          img.hover(function() {\n            popText[0].style.display = 'inline-block';\n          }, function() {\n            popText.hide();\n          });\n        } else {\n          $(\"#\" + imgId).remove();\n        }\n      },\n\n      applyFieldWarning: function(wells) {\n        let that = this;\n        let fieldData = {};\n        that.fieldList.forEach(function(field) {\n          fieldData[field.id] = [];\n        });\n        wells.forEach(function(well) {\n          if (!that.engine.wellEmpty(well)) {\n            for (let fieldId in fieldData) {\n              if (fieldData.hasOwnProperty(fieldId)) {\n                if (fieldId in well) {\n                  fieldData[fieldId].push(well[fieldId]);\n                } else {\n                  fieldData[fieldId].push(null);\n                }\n              }\n            }\n          }\n        });\n        for (let i = 0; i < that.fieldList.length; i++) {\n          let field = that.fieldList[i];\n          if (field.applyMultiplexSubFieldColor) {\n            field.applyMultiplexSubFieldColor(fieldData[field.id]);\n          } else {\n            if (field.required) {\n              let include = false;\n              fieldData[field.id].forEach(function(val) {\n                // for multiselect\n                if (val instanceof Array) {\n                  if (val.length === 0) {\n                    include = true;\n                  }\n                } else {\n                  if (val === null) {\n                    include = true;\n                  }\n                }\n              });\n              //field.root.find(\".plate-setup-tab-name\").css(\"background\", color);\n              that.fieldWarningMsg(field, \"required field\", include);\n            }\n          }\n        }\n      }\n    }\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.bottomTable = function() {\n    // for bottom table\n    return {\n      _bottomScreen: function() {\n        this.bottomContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-bottom-container\");\n        this.bottomTableContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-bottom-table-container\");\n        this.bottomTable = this._createElement(\"<table></table>\").addClass(\"plate-setup-bottom-table\");\n        this.bottomTableHead = this._createElement(\"<thead></thead>\");\n        this.bottomTableBody = this._createElement(\"<tbody></tbody>\");\n        this.bottomTable.append(this.bottomTableHead);\n        this.bottomTable.append(this.bottomTableBody);\n        this.bottomTableContainer.append(this.bottomTable);\n        this.bottomContainer.append(this.bottomTableContainer);\n        this.container.append(this.bottomContainer);\n      },\n\n      addBottomTableHeadings: function() {\n\n        let row = this._createElement(\"<tr></tr>\");\n\n        let singleField = this._createElement(\"<th></th>\")\n          .text(\"Group\");\n        row.prepend(singleField);\n\n        this.rowCounter = 1;\n\n        for (let i = 0; i < this.globalSelectedAttributes.length; i++) {\n          let attr = this.globalSelectedAttributes[i];\n          let field = this.fieldMap[attr];\n          let singleField = this._createElement(\"<th></th>\").text(field.name);\n          row.append(singleField);\n          this.rowCounter = this.rowCounter + 1;\n        }\n\n        // Now we append all the captions at the place.\n        this.bottomTableBody.empty();\n        this.bottomTableHead.empty();\n        this.bottomTableHead.append(row);\n        this.adjustFieldWidth(this.bottomRow);\n      },\n\n      tileAttrText: function(tile, attr) {\n        let well = this.engine.derivative[tile.index];\n        let field = this.fieldMap[attr];\n        return field.getText(well[attr]);\n      },\n\n      addBottomTableRow: function(color, singleStack) {\n        let that = this;\n        let modelTile = this.allTiles[singleStack[0]];\n        let row = this._createElement(\"<tr></tr>\");\n        let plateIdDiv = this._createElement(\"<td></td>\").addClass(\"plate-setup-bottom-id\");\n        let numberText = this._createElement(\"<button/>\");\n        numberText.addClass(\"plate-setup-color-text\");\n        numberText.text(color);\n        plateIdDiv.append(numberText);\n\n        numberText.click(function(evt) {\n          let addressToSelect = singleStack.map(that.indexToAddress, that);\n          if (evt.ctrlKey) {\n            that.getSelectedAddresses().forEach(function(val) {\n              if (addressToSelect.indexOf(val) < 0) {\n                addressToSelect.push(val);\n              }\n            })\n          }\n          that.setSelectedAddresses(addressToSelect);\n        });\n\n        if (color > 0) {\n          color = ((color - 1) % (this.colorPairs.length - 1)) + 1;\n        }\n        let colorStops = this.colorPairs[color];\n\n        plateIdDiv.css(\"background\", \"linear-gradient(to right, \" + colorStops[0] + \" , \" + colorStops[1] + \")\");\n\n        row.append(plateIdDiv);\n\n        for (let i = 0; i < this.globalSelectedAttributes.length; i++) {\n          let attr = this.globalSelectedAttributes[i];\n          let text = this.tileAttrText(modelTile, attr);\n          let dataDiv = this._createElement(\"<td></td>\").text(text);\n          row.append(dataDiv);\n        }\n        this.bottomTableBody.append(row);\n        this.adjustFieldWidth(row);\n      },\n\n      bottomForFirstTime: function() {\n        this.addBottomTableHeadings();\n        // This is executed for the very first time.. !\n        let row = this._createElement(\"<tr></tr>\");\n\n        let colorStops = this.colorPairs[0];\n        let plateIdDiv = this._createElement(\"<td></td>\");\n        plateIdDiv.css(\"background\", \"-webkit-linear-gradient(left, \" + colorStops[0] + \" , \" + colorStops[1] + \")\");\n        row.append(plateIdDiv);\n        this.bottomTableBody.append(row);\n        this.createExportButton();\n      },\n\n      adjustFieldWidth: function(row) {\n\n        let length = this.rowCounter;\n        if ((length) * 150 > 1024) {\n          row.css(\"width\", (length) * 152 + \"px\");\n        }\n      },\n\n      downloadCSV: function(csv, filename) {\n        let csvFile;\n        let downloadLink;\n\n        // CSV file\n        csvFile = new Blob([csv], {\n          type: \"text/csv\"\n        });\n\n        // Download link\n        downloadLink = document.createElement(\"a\");\n\n        // File name\n        downloadLink.download = filename;\n\n        // Create a link to the file\n        downloadLink.href = window.URL.createObjectURL(csvFile);\n\n        // Hide download link\n        downloadLink.style.display = \"none\";\n\n        // Add the link to DOM\n        document.body.appendChild(downloadLink);\n\n        // Click download link\n        downloadLink.click();\n      },\n\n      exportData: function(format) {\n        let data = [];\n        let rows = document.querySelectorAll(\"table tr\");\n\n        let colorLocMap = {};\n        let colorLocIdxMap = this.engine.stackUpWithColor;\n        for (let colorIdx in colorLocIdxMap) {\n          if (colorLocIdxMap.hasOwnProperty(colorIdx)) {\n            colorLocMap[colorIdx] = colorLocIdxMap[colorIdx].map(this.indexToAddress, this);\n          }\n        }\n\n        for (let i = 0; i < rows.length; i++) {\n          let row = [],\n            cols = rows[i].querySelectorAll(\"td, th\");\n\n          for (let j = 0; j < cols.length; j++) {\n            let v = \"\";\n            if (cols[j].innerText) {\n              if (format === \"csv\") {\n                v = '\"' + cols[j].innerText.replace(/\"/g, '\"\"') + '\"';\n              } else {\n                v = cols[j].innerText;\n              }\n            }\n            row.push(v);\n\n            // add location column\n            if (i === 0 && j === 0) {\n              if (format === \"csv\") {\n                row.push('\"Location\"');\n              } else if (format === 'clipboard') {\n                row.push(\"Location\");\n              }\n\n            }\n            if (i !== 0 && j === 0) {\n              let loc = '';\n              if (colorLocMap[parseInt(cols[j].innerText)]) {\n                if (format === \"csv\") {\n                  loc = '\"' + colorLocMap[parseInt(cols[j].innerText)].join(\",\") + '\"';\n                } else if (format === 'clipboard') {\n                  loc = colorLocMap[parseInt(cols[j].innerText)].join(\",\");\n                }\n              }\n              row.push(loc);\n            }\n          }\n\n          if (format === \"csv\") {\n            data.push(row.join(\",\"));\n          } else if (format === 'clipboard') {\n            data.push(row.join(\"\\t\"));\n            //data.push(row);   // for text type\n          }\n\n        }\n        if (format === \"csv\") {\n          // Download CSV file\n          this.downloadCSV(data.join(\"\\n\"), 'table.csv');\n        } else if (format === 'clipboard') {\n          //return formatTableToString(data);   // for text type\n          return data.join(\"\\n\");\n        }\n      },\n\n      createExportButton: function() {\n        let that = this;\n        let overlayContainer = $(\"<div>\").addClass(\"plate-setup-bottom-control-container\");\n\n        let descriptionDiv = $(\"<div>\").addClass(\"plate-setup-overlay-text-container\");\n        descriptionDiv.text(\"Color groups\");\n        overlayContainer.append(descriptionDiv);\n\n        let buttonContainer = $(\"<div>\").addClass(\"plate-setup-overlay-bottom-button-container\");\n\n        // create export csv option\n        let exportButton = $(\"<button/>\").addClass(\"plate-setup-button\");\n        exportButton.text(\"Export CSV\");\n        buttonContainer.append(exportButton);\n\n        exportButton.click(function() {\n          that.exportData('csv');\n          exportButton.text(\"Exported\");\n          exportButton[0].classList.remove(\"plate-setup-button\");\n          exportButton.addClass(\"plate-setup-clicked-button\");\n          setTimeout(resetExportText, 3000);\n        });\n\n        function resetExportText() {\n          exportButton.text(\"Export CSV\");\n          exportButton[0].classList.remove(\"plate-setup-clicked-button\");\n          exportButton.addClass(\"plate-setup-button\");\n        }\n\n        // creat clipboard option, CLipboard is an external js file located in vendor/asset/javascripts\n        let clipboardButton = $(\"<button/>\").addClass(\"plate-setup-button\");\n        clipboardButton.text(\"Copy To Clipboard\");\n        buttonContainer.append(clipboardButton);\n\n        let clipboard = new ClipboardJS(clipboardButton.get(0), {\n          text: function() {\n            return that.exportData(\"clipboard\");\n          }\n        });\n\n        clipboard.on('success', function() {\n          clipboardButton.text(\"Copied as tab-delimited format\");\n          clipboardButton[0].classList.remove(\"plate-setup-button\");\n          clipboardButton.addClass(\"plate-setup-clicked-button\");\n          setTimeout(resetClipboardText, 3000);\n        });\n\n        function resetClipboardText() {\n          clipboardButton.text(\"Copy To Clipboard\");\n          clipboardButton[0].classList.remove(\"plate-setup-clicked-button\");\n          clipboardButton.addClass(\"plate-setup-button\");\n        }\n\n        clipboard.on('error', function() {\n          clipboardButton.text(\"Failed to copy table to clipboard: browser may be incompatible\");\n          setTimeout(resetClipboardText, 3000);\n        });\n\n        overlayContainer.append(buttonContainer);\n        this.bottomContainer.prepend(overlayContainer);\n      }\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.checkBox = function() {\n    // For those check boxes associated with every field in the tab\n    return {\n\n      globalSelectedAttributes: [],\n      globalSelectedMultiplexSubfield: [],\n      allCheckboxes: [],\n\n      _addCheckBox: function(field) {\n        let checkImage = $(\"<span>\").html(this._assets.dontImg).addClass(\"plate-setup-tab-check-box bg-light\")\n          .data(\"clicked\", false);\n        let linkedFieldId = field.full_id;\n        checkImage.data(\"linkedFieldId\", linkedFieldId);\n        field.root.find(\".plate-setup-tab-field-left-side\").empty().append(checkImage);\n        this._applyCheckboxHandler(checkImage); // Adding handler for change the image when clicked\n        field.checkbox = checkImage;\n        this.allCheckboxes.push(linkedFieldId);\n      },\n\n      _applyCheckboxHandler: function(checkBoxImage) {\n        let that = this;\n        checkBoxImage.click(function() {\n          let checkBox = $(this);\n\n          let changes = {};\n          changes[checkBox.data(\"linkedFieldId\")] = !checkBox.data(\"clicked\");\n\n          that.changeCheckboxes(changes);\n        });\n      },\n\n      getCheckboxes: function () {\n        return this.allCheckboxes.filter(function (fieldId) {\n          let field = this.fieldMap[fieldId];\n          if (field.mainMultiplexField) {\n            let subfields = this.globalSelectedMultiplexSubfield[field.mainMultiplexField.id] || [];\n            return subfields.indexOf(field.id);\n          } else {\n            return this.globalSelectedAttributes.indexOf(field.id) >= 0;\n          }\n        }, this);\n      },\n\n      changeSubFieldsCheckboxes: function(field, changes) {\n        let that = this;\n        let subFieldToInclude = [];\n\n        field.subFieldList.forEach(function(subField) {\n          let checkImage = subField.checkbox;\n          let fieldId = checkImage.data(\"linkedFieldId\");\n          let clicked = checkImage.data(\"clicked\");\n          if (fieldId in changes) {\n            clicked = Boolean(changes[fieldId]);\n          }\n          checkImage.data(\"clicked\", clicked);\n          if (clicked) {\n            checkImage.html(that._assets.doImg);\n            subFieldToInclude.push(subField.id);\n          } else {\n            checkImage.html(that._assets.dontImg);\n          }\n        });\n        return subFieldToInclude;\n      },\n\n      changeCheckboxes: function(changes, noUndoRedo) {\n        let gsa = [];\n        let multiplexCheckedSubField = {};\n        for (let i = 0; i < this.fieldList.length; i++) {\n          let field = this.fieldList[i];\n          if (field.checkbox) {\n            if (field.subFieldList) {\n              multiplexCheckedSubField[field.id] = this.changeSubFieldsCheckboxes(field, changes);\n            }\n\n            let checkImage = field.checkbox;\n            let fieldId = checkImage.data(\"linkedFieldId\");\n            let clicked = checkImage.data(\"clicked\");\n            if (fieldId in changes) {\n              clicked = Boolean(changes[fieldId]);\n            }\n            checkImage.data(\"clicked\", clicked);\n            if (clicked) {\n              gsa.push(fieldId);\n              checkImage.html(this._assets.doImg);\n            } else {\n              checkImage.html(this._assets.dontImg);\n            }\n          }\n        }\n        this.globalSelectedMultiplexSubfield = multiplexCheckedSubField;\n        this.globalSelectedAttributes = gsa;\n        this._clearPresetSelection();\n        this._colorMixer();\n        if (!noUndoRedo) {\n          this.addToUndoRedo();\n        }\n      },\n\n      setSubFieldCheckboxes: function(field, fieldIds) {\n        let that = this;\n        let subFieldToInclude = [];\n        field.subFieldList.forEach(function(subField) {\n          let checkImage = subField.checkbox;\n          let fieldId = checkImage.data(\"linkedFieldId\");\n          let clicked = fieldIds.indexOf(fieldId) >= 0;\n          checkImage.data(\"clicked\", clicked);\n          if (clicked) {\n            checkImage.html(that._assets.doImg);\n            subFieldToInclude.push(subField.id);\n          } else {\n            checkImage.html(that._assets.dontImg);\n          }\n        });\n        return subFieldToInclude;\n      },\n\n      setCheckboxes: function(fieldIds, noUndoRedo) {\n        fieldIds = fieldIds || [];\n        let gsa = [];\n        let multiplexCheckedSubField = {};\n\n        for (let i = 0; i < this.fieldList.length; i++) {\n          let field = this.fieldList[i];\n          if (field.checkbox) {\n            // special handling for multiplex field\n            if (field.subFieldList) {\n              multiplexCheckedSubField[field.id] = this.setSubFieldCheckboxes(field, fieldIds);\n            }\n\n            let checkImage = field.checkbox;\n            let fieldId = checkImage.data(\"linkedFieldId\");\n            let clicked = fieldIds.indexOf(fieldId) >= 0;\n            checkImage.data(\"clicked\", clicked);\n            if (clicked) {\n              gsa.push(fieldId);\n              checkImage.html(this._assets.doImg);\n            } else {\n\n              checkImage.html(this._assets.dontImg);\n            }\n          }\n        }\n        this.globalSelectedMultiplexSubfield = multiplexCheckedSubField;\n        this.globalSelectedAttributes = gsa;\n        this._clearPresetSelection();\n        this._colorMixer();\n        if (!noUndoRedo) {\n          this.addToUndoRedo();\n        }\n      }\n\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\nplateMapWidget.colorManager = function() {\n\n  return {\n    // See these are color pairs for the gradient.\n    colorPairs: [\n      [\"#e6e6e6\", \"#808080\"],\n      [\"#66e8ff\", \"#0082c8\"],\n      [\"#ff7fb1\", \"#e6194b\"],\n      [\"#a2ffb1\", \"#3cb44b\"],\n      [\"#f784ff\", \"#911eb4\"],\n      [\"#ffe897\", \"#f58231\"],\n      [\"#6666ff\", \"#0000FF\"],\n      [\"#ffff7f\", \"#ffe119\"],\n      [\"#acffff\", \"#46f0f0\"],\n      [\"#ff98ff\", \"#f032e6\"],\n      [\"#ffffa2\", \"#d2f53c\"],\n      [\"#ffffff\", \"#fabebe\"],\n      [\"#66e6e6\", \"#008080\"],\n      [\"#ffffff\", \"#e6beff\"],\n      [\"#ffd48e\", \"#aa6e28\"],\n      [\"#e66666\", \"#800000\"],\n      [\"#ffffff\", \"#aaffc3\"],\n      [\"#e6e666\", \"#808000\"],\n      [\"#ffffff\", \"#ffd8b1\"],\n      [\"#66a9ef\", \"#004389\"],\n      [\"#ff6672\", \"#a7000c\"],\n      [\"#66db72\", \"#00750c\"],\n      [\"#b866db\", \"#520075\"],\n      [\"#ffa966\", \"#b64300\"],\n      [\"#ffff66\", \"#c0a200\"],\n      [\"#6dffff\", \"#07b1b1\"],\n      [\"#ff66ff\", \"#b100a7\"],\n      [\"#f9ff66\", \"#93b600\"],\n      [\"#ffe5e5\", \"#bb7f7f\"],\n      [\"#66a7a7\", \"#004141\"],\n      [\"#ffe5ff\", \"#a77fc0\"],\n      [\"#d19566\", \"#6b2f00\"],\n      [\"#ffffef\", \"#c0bb89\"],\n      [\"#d1ffea\", \"#6bc084\"],\n      [\"#a7a766\", \"#414100\"],\n      [\"#ffffd8\", \"#c09972\"],\n      [\"#a5ffff\", \"#3fc1ff\"],\n      [\"#ffbef0\", \"#ff588a\"],\n      [\"#e1fff0\", \"#7bf38a\"],\n      [\"#ffc3ff\", \"#d05df3\"],\n      [\"#ffffd6\", \"#ffc170\"],\n      [\"#a5a5ff\", \"#3f3fff\"],\n      [\"#ffffbe\", \"#ffff58\"],\n      [\"#ebffff\", \"#85ffff\"],\n      [\"#ffd7ff\", \"#ff71ff\"],\n      [\"#a5ffff\", \"#3fbfbf\"],\n      [\"#ffffcd\", \"#e9ad67\"],\n      [\"#ffa5a5\", \"#bf3f3f\"],\n      [\"#ffffa5\", \"#bfbf3f\"]\n    ]\n  }\n};\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  function select2close(ev) {\n    if (ev.params.args.originalEvent) {\n      // When unselecting (in multiple mode)\n      ev.params.args.originalEvent.stopPropagation();\n    } else {\n      // When clearing (in single mode)\n      $(this).one('select2:opening', function(ev) { ev.preventDefault(); });\n    }\n  }\n\n  function select2fix(input) {\n    // prevents select2 open on clear as of v4.0.8\n    input.on('select2:unselecting', select2close);\n  }\n\n  function select2setData(input, data, selected) {\n    input.empty();\n    let dataAdapter = input.data('select2').dataAdapter;\n    dataAdapter.addOptions(dataAdapter.convertToOptions(data));\n    input.val(selected);\n  }\n\n  plateMapWidget.createField = function() {\n    // It creates those fields in the tab , there is 4 types of them.\n    return {\n\n      _createField: function(field) {\n        switch (field.data.type) {\n          case \"text\":\n            this._createTextField(field);\n            break;\n\n          case \"numeric\":\n            this._createNumericField(field);\n            break;\n\n          case \"select\":\n            this._createSelectField(field);\n            break;\n\n          case \"multiselect\":\n            this._createMultiSelectField(field);\n            break;\n\n          case \"boolean\":\n            this._createBooleanField(field);\n            break;\n\n          case \"multiplex\":\n            this._createMultiplexField(field);\n            break;\n        }\n      },\n\n      _createTextField: function(field) {\n        let input = this._createElement(\"<input>\").attr(\"id\", field.full_id)\n          .addClass(\"plate-setup-tab-input\");\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n\n        field.parseValue = function(v) {\n          if (v) {\n            v = String(v);\n          } else {\n            v = null;\n          }\n          return v;\n        };\n\n        field.getValue = function() {\n          return input.val().trim() || null;\n        };\n\n        field.setValue = function(v) {\n          input.val(v);\n        };\n\n        field.getText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          return v;\n        };\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n        };\n\n        field.parseText = field.parseValue;\n\n        input.on(\"input\", function() {\n          field.onChange();\n        });\n\n        field.input = input;\n      },\n\n      _createOpts: function(config) {\n        let opts = {\n          allowClear: true,\n          placeholder: \"select\",\n          minimumResultsForSearch: 10\n        };\n        let data_specified = false;\n\n        if (config.options) {\n          opts.data = config.options;\n          data_specified = true;\n        }\n        if (config.ajax) {\n          opts.ajax = ajax;\n          data_specified = true;\n        }\n        if (!data_specified) {\n          throw \"Must specify data or ajax\";\n        }\n        return opts;\n      },\n\n      _createSelectField: function(field) {\n        let full_id = field.full_id;\n        let that = this;\n        let input = this._createElement(\"<select/>\").attr(\"id\", full_id)\n          .addClass(\"plate-setup-tab-select-field\");\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n\n        let opts = that._createOpts(field.data);\n        let optMap = {};\n        opts.data.forEach(function(opt) {\n          optMap[String(opt.id)] = opt;\n        });\n\n        input.select2(opts);\n        select2fix(input);\n\n        field.parseValue = function(value) {\n          let v = value;\n\n          if (v === \"\") {\n            v = null;\n          }\n          if (v == null) {\n            return null;\n          }\n          v = String(v);\n          if (v in optMap) {\n            return optMap[v].id;\n          } else {\n            throw \"Invalid value \" + value + \" for select field \" + full_id;\n          }\n        };\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n        };\n\n        field.getValue = function() {\n          return field.parseValue(input.val());\n        };\n\n        field.setValue = function(v) {\n          input.val(v);\n          input.trigger(\"change.select2\")\n        };\n\n        field.getText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          return optMap[String(v)].text;\n        };\n\n        field.parseText = function(value) {\n          let v = value;\n\n          if (v === \"\") {\n            v = null;\n          }\n          if (v == null) {\n            return null;\n          }\n          v = String(v);\n          if (v in optMap) {\n            return optMap[v].text;\n          } else {\n            throw \"Invalid text value \" + value + \" for select field \" + full_id;\n          }\n        };\n\n        input.on(\"change\", function() {\n          field.onChange();\n        });\n\n        field.input = input;\n      },\n\n      _createMultiSelectField: function(field) {\n        let full_id = field.full_id;\n        let that = this;\n        let input = this._createElement(\"<select/>\").attr(\"id\", full_id)\n          .addClass(\"plate-setup-tab-multiselect-field\");\n        input.attr(\"multiple\", \"multiple\");\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n\n        let opts = that._createOpts(field.data);\n        opts.multiple = true;\n        let optMap = {};\n        opts.data.forEach(function(opt) {\n          optMap[String(opt.id)] = opt;\n        });\n        input.select2(opts);\n        select2fix(input);\n\n        field.disabled = function(bool) {\n          input.prop(\"disabled\", bool);\n        };\n\n        field._parseOne = function(val) {\n          val = String(val);\n          if (val in optMap) {\n            return optMap[val].id;\n          } else {\n            throw \"Invalid value \" + val + \" for multiselect field \" + full_id;\n          }\n        };\n\n        field._parseMany = function(vals) {\n          if (vals && vals.length) {\n            vals = vals.map(field._parseOne, this);\n          } else {\n            vals = null;\n          }\n          return vals;\n        };\n\n        field.parseValue = function(value) {\n          return field._parseMany(value);\n        };\n\n        field.getValue = function() {\n          return field._parseMany(input.val());\n        };\n\n        field.setValue = function(v) {\n          v = v || [];\n          input.val(v);\n          input.trigger(\"change.select2\");\n        };\n\n        field.getText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          if (v.length > 0) {\n            return v.map(v => optMap[String(v)].text).join(\"; \");\n          }\n          return \"\";\n        };\n\n        field.multiOnChange = function(added, removed) {\n          if (added) {\n            added = added.id;\n          }\n          if (removed) {\n            removed = removed.id;\n          }\n          let data = {};\n          data[field.id] = {\n            multi: true,\n            added: added,\n            removed: removed\n          };\n          that._addAllData(data);\n        };\n\n        field.parseText = function(value) {\n          let v = value;\n          if (v && v.length) {\n            v = v.map(function(opt) {\n              opt = String(opt);\n              if (opt in optMap) {\n                return optMap[opt].text;\n              } else {\n                throw \"Invalid text value \" + opt + \" for multiselect field \" + full_id;\n              }\n            });\n          } else {\n            v = null;\n          }\n          return v;\n        };\n\n        input.on(\"select2:select\", function (e) {\n          let v = field._parseOne(e.params.data.id);\n          v = {id: v};\n          field.multiOnChange(v, null);\n        });\n\n        input.on(\"select2:unselect\", function (e) {\n          let v = field._parseOne(e.params.data.id);\n          v = {id: v};\n          field.multiOnChange(null, v);\n        });\n\n        field.input = input;\n\n        that._createDeleteButton(field);\n      },\n\n      _createNumericField: function(field) {\n        let full_id = field.full_id;\n        let data = field.data;\n        let input = this._createElement(\"<input>\").addClass(\"plate-setup-tab-input\")\n          .attr(\"placeholder\", data.placeholder || \"\").attr(\"id\", full_id);\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n\n        // Adding unit\n        let units = data.units || [];\n        let defaultUnit = data.defaultUnit || null;\n        let unitInput = null;\n        if (defaultUnit) {\n          if (units.length) {\n            if (units.indexOf(defaultUnit) < 0) {\n              defaultUnit = units[0];\n            }\n          } else {\n            units = [defaultUnit];\n          }\n        } else {\n          if (units.length) {\n            defaultUnit = units[0];\n          }\n        }\n\n        if (units.length) {\n          field.units = units;\n          field.hasUnits = true;\n          field.defaultUnit = defaultUnit;\n          if (units.length === 1) {\n            let unitText = $(\"<div></div>\").addClass(\"plate-setup-tab-unit\");\n            unitText.text(defaultUnit);\n            field.root.find(\".plate-setup-tab-field-container\").append(unitText);\n          } else {\n            unitInput = this._createElement(\"<select/>\").attr(\"id\", full_id + \"Units\")\n              .addClass(\"plate-setup-tab-label-select-field\");\n\n            field.root.find(\".plate-setup-tab-field-container\").append(unitInput);\n\n            let selected = null;\n            let unitData = units.map(function(unit) {\n              let o = {\n                id: unit,\n                text: unit\n              };\n              if (unit === defaultUnit) {\n                selected = unit;\n              }\n              return o;\n            });\n\n            let opts = {\n              data: unitData,\n              allowClear: false,\n              minimumResultsForSearch: 10\n            };\n\n            unitInput.select2(opts);\n            unitInput.val(selected);\n          }\n        }\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n          if (unitInput) {\n            unitInput.prop(\"disabled\", bool);\n          }\n        };\n\n        field.setUnitOpts = function(opts) {\n          field.units = opts || null;\n          field.defaultUnit = null;\n\n          let newUnits = [];\n          let selected = null;\n          if (field.units && field.units.length) {\n            field.defaultUnit = field.units[0];\n            newUnits = field.units.map(function(curUnit) {\n              let cleanUnit = {\n                id: curUnit,\n                text: curUnit\n              };\n              if (curUnit === field.defaultUnit) {\n                selected = curUnit;\n              }\n              return cleanUnit;\n            });\n          }\n\n          select2setData(unitInput, newUnits, selected);\n        };\n\n        field.parseValue = function(value) {\n          let v;\n          if ($.isPlainObject(value)) {\n            if (field.hasUnits) {\n              v = field.parseRegularValue(value.value);\n              if (v === null) {\n                return null;\n              }\n              return {\n                value: v,\n                unit: field.parseUnit(value.unit)\n              };\n            } else {\n              throw \"Value must be plain numeric for numeric field \" + full_id;\n            }\n          } else {\n            if (field.hasUnits) {\n              v = field.parseRegularValue(value);\n              if (v === null) {\n                return null;\n              }\n              return {\n                value: v,\n                unit: field.defaultUnit\n              };\n            } else {\n              return field.parseRegularValue(value);\n            }\n          }\n        };\n\n        field.getValue = function() {\n          let v = field.getRegularValue();\n\n          if ((v === null) || isNaN(v)) {\n            return null;\n          } else if (field.hasUnits) {\n            let returnVal = {\n              value: v,\n              unit: field.getUnit()\n            };\n\n            if (field.data.hasMultiplexUnit) {\n              // include unitTypeId and UnitId to returnVal\n              let unitMap = field.data.unitMap;\n              for (let unitTypeKey in unitMap) {\n                if (!unitMap.hasOwnProperty(unitTypeKey)) {\n                  continue;\n                }\n                let unitTypeUnits = unitMap[unitTypeKey];\n                unitTypeUnits.forEach(function(unit) {\n                  if (unit.text === returnVal.unit) {\n                    returnVal['unitTypeId'] = unitTypeKey;\n                    returnVal['unitId'] = unit.id;\n                  }\n                })\n              }\n            }\n            return returnVal;\n          } else {\n            return v;\n          }\n        };\n\n        field.setValue = function(value) {\n          if (field.hasUnits) {\n            if ($.isPlainObject(value)) {\n              field.setUnit(value.unit || field.defaultUnit);\n              field.setRegularValue(value.value);\n\n            } else {\n              field.setRegularValue(value);\n              field.setUnit(field.defaultUnit)\n            }\n          } else {\n            field.setRegularValue(value);\n          }\n        };\n\n        field.parseRegularValue = function(value) {\n          if (value == null) {\n            return null;\n          }\n          let v = String(value).trim();\n          if (v === \"\") {\n            return null;\n          }\n          v = Number(value);\n          if (isNaN(v)) {\n            throw \"Invalid value \" + value + \" for numeric field \" + full_id;\n          }\n          return v;\n        };\n\n        field.getRegularValue = function() {\n          let v = input.val().trim();\n          if (v === \"\") {\n            v = null;\n          } else {\n            v = Number(v);\n          }\n          return v;\n        };\n\n        field.setRegularValue = function(value) {\n          input.val(value);\n        };\n\n        field.parseUnit = function(unit) {\n          if (unit == null || unit === \"\") {\n            return field.defaultUnit;\n          }\n          for (let i = 0; i < units.length; i++) {\n            if (unit.toLowerCase() === units[i].toLowerCase()) {\n              return units[i];\n            }\n          }\n          throw \"Invalid unit \" + unit + \" for field \" + full_id;\n        };\n\n        field.getUnit = function() {\n          if (unitInput) {\n            return unitInput.val();\n          } else {\n            return field.defaultUnit;\n          }\n        };\n\n        field.setUnit = function(unit) {\n          if (unitInput) {\n            unit = unit || field.defaultUnit;\n            unitInput.val(unit);\n            unitInput.trigger(\"change.select2\");\n          }\n        };\n\n        // val now contains unit\n        field.getText = function(val) {\n          if (typeof (val) === 'object' && val) {\n            let v = val.value;\n            let u = val.unit;\n            if (v == null) {\n              return \"\";\n            }\n            v = v.toString();\n            if (!u) {\n              u = defaultUnit;\n            }\n            if (u) {\n              v = v + \" \" + u;\n            }\n            return v;\n          } else {\n            return field.getRegularText(val);\n          }\n        };\n\n        field.getRegularText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          v = v.toString();\n          return v;\n        };\n\n        field.parseText = function(v) {\n          let textVal = field.parseValue(v);\n          if (textVal && typeof (textVal) === \"object\") {\n            return textVal.value + textVal.unit;\n          } else if (textVal) {\n            return textVal\n          } else {\n            return null;\n          }\n        };\n\n        input.on(\"input\", function() {\n          let v = field.getRegularValue();\n          if (isNaN(v)) {\n            //flag field as invalid\n            input.addClass(\"invalid\");\n          } else {\n            input.removeClass(\"invalid\");\n          }\n          field.onChange();\n        });\n        if (unitInput) {\n          unitInput.on(\"change\", function() {\n            field.onChange();\n          });\n        }\n\n        field.input = input;\n        field.unitInput = unitInput;\n      },\n\n      _createBooleanField: function(field) {\n        let full_id = field.full_id;\n        let input = this._createElement(\"<select/>\").attr(\"id\", full_id)\n          .addClass(\"plate-setup-tab-select-field\");\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n        let tval = {\n          id: \"true\",\n          text: \"true\"\n        };\n        let fval = {\n          id: \"false\",\n          text: \"false\"\n        };\n        let opts = {\n          data: [tval, fval],\n          placeholder: \"select\",\n          allowClear: true,\n          minimumResultsForSearch: -1\n        };\n\n        input.select2(opts);\n        select2fix(input);\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n        };\n\n        field.parseValue = function(value) {\n          if (value == null) {\n            return null;\n          }\n          let v = String(value).trim().toLowerCase();\n          if (v === \"true\") {\n            v = true;\n          } else if (v === \"false\") {\n            v = false;\n          } else if (v === \"\") {\n            v = null;\n          } else {\n            throw \"Invalid value \" + value + \" for boolean field \" + full_id;\n          }\n          return v;\n        };\n\n        field.getValue = function() {\n          let v = input.val();\n          switch (v) {\n            case \"true\":\n              return true;\n            case \"false\":\n              return false;\n            default:\n              return null;\n          }\n        };\n\n        field.setValue = function(v) {\n          if (v === 1 || v === true || v === \"true\") {\n            v = \"true\";\n          } else if (v === 0 || v === false || v === \"false\") {\n            v = \"false\";\n          } else {\n            v = null;\n          }\n          input.val(v);\n          input.trigger(\"change.select2\");\n        };\n\n        field.getText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          return v.toString();\n        };\n\n        field.parseText = field.parseValue;\n\n        input.on(\"change\", function() {\n          field.onChange();\n        });\n\n        field.input = input;\n      },\n\n      _createMultiplexField: function(field) {\n        let that = this;\n        // make correct multiplex data\n        this._createMultiSelectField(field);\n\n        // single select\n        let nameContainer1 = this._createElement(\"<div></div>\").addClass(\"plate-setup-tab-name-singleSelect\").text(\"Select to edit\");\n        let fieldContainer1 = this._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-container-singleSelect\");\n        field.root.find(\".plate-setup-tab-field-right-side\").append(nameContainer1, fieldContainer1);\n\n        field.singleSelect = this._createElement(\"<select/>\").attr(\"id\", field.full_id + \"SingleSelect\")\n          .addClass(\"plate-setup-tab-multiplex-single-select-field\");\n\n        field.singleSelect.appendTo(fieldContainer1);\n        let opts = {\n          allowClear: false,\n          placeholder: \"select\",\n          minimumResultsForSearch: 10,\n          data: []\n        };\n        field.singleSelect.select2(opts);\n        select2fix(field.singleSelect);\n\n        let multiselectSetValue = field.setValue;\n\n        field.singleSelectValue = function() {\n          let v = field.singleSelect.val();\n          if (v === \"\") {\n            return null;\n          }\n          if (v == null) {\n            return null;\n          }\n          return field._parseOne(v)\n        };\n\n        let setSingleSelectOptions = function(data, selected) {\n          data = data || [];\n\n          if (!selected) {\n            if (data.length) {\n              selected = data[0].id;\n            } else {\n              selected = null;\n            }\n          }\n          select2setData(field.singleSelect, data, selected);\n          field.singleSelect.prop(\"disabled\", data.length === 0);\n          field.singleSelect.trigger(\"change.select2\");\n        };\n\n        let singleSelectChange = function() {\n          let v = field.singleSelectValue();\n\n          field.updateSubFieldUnitOpts(v);\n\n          let curData = field.detailData || [];\n          let curSubField = null;\n          curData.forEach(function(val) {\n            if (val[field.id] === v) {\n              curSubField = val;\n            }\n          });\n\n          if (curSubField) {\n            // setvalue for subfield\n            field.subFieldList.forEach(function(subField) {\n              subField.disabled(false);\n              subField.setValue(curSubField[subField.id]);\n            });\n          } else {\n            field.subFieldList.forEach(function(subField) {\n              subField.disabled(true);\n              subField.setValue(null);\n            });\n          }\n          that.readOnlyHandler();\n        };\n\n        setSingleSelectOptions([]);\n        field.singleSelect.on(\"change.select2\", singleSelectChange);\n\n        field._changeMultiFieldValue = function(added, removed) {\n          let newSubFieldValue = {};\n          for (let i = 0; i < field.subFieldList.length; i++) {\n            let subFieldId = field.subFieldList[i].id;\n            newSubFieldValue[subFieldId] = null;\n          }\n\n          let val;\n          if (added) {\n            if (added.value) {\n              val = added.value;\n            } else {\n              newSubFieldValue[field.id] = added.id;\n              val = newSubFieldValue;\n            }\n            added = {\n              id: added.id,\n              value: val\n            };\n          }\n\n          if (removed) {\n            if (removed.value) {\n              val = removed.value;\n            } else {\n              newSubFieldValue[field.id] = removed.id;\n              val = newSubFieldValue;\n            }\n            removed = {\n              id: removed.id,\n              value: val\n            };\n          }\n\n          let data = {};\n          data[field.id] = {\n            multi: true,\n            added: added,\n            removed: removed\n          };\n          that._addAllData(data);\n        };\n\n        field.setValue = function(v) {\n          // used to keep track of initially loaded multiplex data\n          field.detailData = v;\n          let multiselectValues = null;\n          if (v && v.length) {\n            multiselectValues = v.map(val => val[field.id]);\n          }\n\n          multiselectSetValue(multiselectValues);\n          let newOptions = field.input.select2('data') || [];\n          setSingleSelectOptions(newOptions);\n          singleSelectChange();\n        };\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n          field.subFieldList.forEach(function(subField) {\n            subField.disabled(bool);\n          });\n          if (bool) {\n            nameContainer1.text(\"Select to inspect\");\n          } else {\n            nameContainer1.text(\"Select to edit\");\n          }\n        };\n\n        field.parseValue = function(value) {\n          let v = value;\n          if (v && v.length) {\n            v = v.map(function(opt) {\n              let valMap = {};\n              valMap[field.id] = opt[field.id];\n              for (let subFieldId in opt) {\n                if (opt.hasOwnProperty(subFieldId)) {\n                  field.subFieldList.forEach(function(subField) {\n                    if (subField.id === subFieldId) {\n                      valMap[subField.id] = subField.parseValue(opt[subFieldId]);\n                    }\n                  });\n                }\n              }\n              return valMap;\n            });\n          } else {\n            v = null;\n          }\n          return v;\n        };\n\n        field.updateSubFieldUnitOpts = function(val) {\n          let curOpts;\n          field.data.options.forEach(function(opt) {\n            if (opt.id === val) {\n              curOpts = opt;\n            }\n          });\n          field.subFieldList.forEach(function(subField) {\n            if (subField.data.hasMultiplexUnit) {\n              if (curOpts && curOpts.hasOwnProperty(\"unitOptions\")) {\n                subField.setUnitOpts(curOpts.unitOptions[subField.id]);\n              } else {\n                subField.setUnitOpts(null);\n              }\n            }\n          })\n        };\n\n        field.multiOnChange = function(added, removed) {\n          field._changeMultiFieldValue(added, removed);\n          let v = field.getValue();\n          let curData = field.detailData;\n          let curIds = [];\n          let curOpt = null;\n          //reshape data for saveback\n          if (curData) {\n            curIds = curData.map(val => val[field.id]);\n          }\n\n          let newMultiplexVal = [];\n          let selectList = [];\n          if (v) {\n            v.forEach(function(selectedVal) {\n              if (curData) {\n                curData.forEach(function(val) {\n                  if (val[field.id] === selectedVal) {\n                    newMultiplexVal.push(val)\n                  }\n                });\n              }\n              // cases when adding new data\n              if (curIds.indexOf(selectedVal) < 0) {\n                let newVal = {};\n                newVal[field.id] = selectedVal;\n\n                field.updateSubFieldUnitOpts(selectedVal);\n                field.subFieldList.forEach(function(subfield) {\n                  // special handling for subfield which has multiplexUnit\n                  if (subfield.hasUnits) {\n                    if (subfield.data.hasMultiplexUnit) {\n                      subfield.disabled(false);\n                      field.data.options.forEach(function(opt) {\n                        if (opt.id === selectedVal) {\n                          let val = {\n                            value: null,\n                            unit: subfield.units[0]\n                          };\n                          newVal[subfield.id] = subfield.parseValue(val);\n                        }\n                      });\n                    } else {\n                      if (subfield.data.units) {\n                        if (subfield.data.units.length > 1) {\n                          subfield.disabled(false);\n                        }\n                      }\n                      let val = {\n                        value: null,\n                        unit: subfield.defaultUnit\n                      };\n                      newVal[subfield.id] = subfield.parseValue(val);\n                    }\n                  } else {\n                    newVal[subfield.id] = subfield.parseValue(null);\n                  }\n                });\n                newMultiplexVal.push(newVal);\n              }\n            });\n\n            // make data for single select options\n            v.forEach(function(selectVal) {\n              field.data.options.forEach(function(opt) {\n                if (opt.id === selectVal) {\n                  selectList.push(opt);\n                }\n              });\n            });\n\n            let selected = field.singleSelectValue();\n            for (let i = 0; i < v.length; i++) {\n              if (added && (added.id === v[i])) {\n                curOpt = v[i];\n                break;\n              } else if (i === 0) {\n                curOpt = v[i];\n              } else if (v[i] === selected) {\n                curOpt = v[i];\n              }\n            }\n          }\n\n          field.detailData = newMultiplexVal;\n          setSingleSelectOptions(selectList, curOpt);\n          singleSelectChange();\n        };\n\n        field.getText = function(v) {\n          if (v === null) {\n            return \"\";\n          }\n          // get subfields that is selected from the checkbox\n          if (field.id in that.globalSelectedMultiplexSubfield) {\n            let checkedSubfields = that.globalSelectedMultiplexSubfield[field.id];\n            let returnVal = [];\n            for (let valIdx in v) {\n              if (!v.hasOwnProperty(valIdx)) {\n                continue;\n              }\n              let subV = v[valIdx];\n              let subText = [];\n              for (let optId in field.data.options) {\n                if (field.data.options.hasOwnProperty(optId)) {\n                  let opt = field.data.options[optId];\n                  if (opt.id === subV[field.id]) {\n                    subText.push(opt.text);\n                  }\n                }\n              }\n              field.subFieldList.forEach(function(subField) {\n                if (checkedSubfields.indexOf(subField.id) >= 0) {\n                  let x = subField.getText(subV[subField.id]);\n                  subText.push(subField.name + \": \" + x);\n                }\n              });\n              returnVal.push(\"{\" + subText.join(\", \") + \"}\");\n            }\n            return returnVal.join(\";\");\n          }\n        };\n\n        field.parseText = function(v) {\n          if (v === null) {\n            return \"\";\n          } else {\n            let returnVal = [];\n            for (let valIdx in v) {\n              if (!v.hasOwnProperty(valIdx)) {\n                continue;\n              }\n              let subV = v[valIdx];\n              let subText = [];\n              for (let optId in field.data.options) {\n                if (field.data.options.hasOwnProperty(optId)) {\n                  let opt = field.data.options[optId];\n                  if (opt.id === subV[field.id]) {\n                    subText.push(opt.text);\n                  }\n                }\n              }\n              field.subFieldList.forEach(function(subField) {\n                let x = subField.getText(subV[subField.id]);\n                if (x) {\n                  subText.push(x);\n                }\n              });\n              returnVal.push(subText);\n            }\n            return returnVal;\n          }\n        };\n\n        field.checkMultiplexCompletion = function(valList) {\n          let valCount = 0;\n          let completionPct = 0;\n          let include = false;\n\n          function getSubfieldStatus(vals) {\n            let req = 0;\n            let fill = 0;\n            for (let subFieldId in field.subFieldList) {\n              if (!field.subFieldList.hasOwnProperty(subFieldId)) {\n                continue;\n              }\n              let subField = field.subFieldList[subFieldId];\n              let curVal = vals[subField.id];\n              if (subField.required) {\n                include = true;\n                req++;\n                if (typeof curVal === 'object' && curVal) {\n                  if (curVal.value) {\n                    fill++;\n                  }\n                } else if (curVal) {\n                  fill++;\n                }\n              }\n            }\n            return fill / req;\n          }\n\n          // for cases has value in multiplex field\n          if (valList) {\n            if (valList.length > 0) {\n              for (let idx in valList) {\n                if (valList.hasOwnProperty(idx)) {\n                  valCount++;\n                  let vals = valList[idx];\n                  completionPct += getSubfieldStatus(vals);\n                }\n              }\n            } else if (field.required) {\n              include = true;\n              valCount = 1;\n            }\n          } else if (field.required) {\n            include = true;\n            valCount = 1;\n          }\n\n          return {\n            include: include,\n            completionPct: completionPct / valCount\n          };\n        };\n\n        // valList contains all of the vals for selected val\n        field.applyMultiplexSubFieldColor = function(valList) {\n          function updateSubFieldWarningMap(vals) {\n            for (let subFieldId in field.subFieldList) {\n              if (!field.subFieldList.hasOwnProperty(subFieldId)) {\n                continue;\n              }\n              let subField = field.subFieldList[subFieldId];\n              // loop through each well's multiplexval list\n              if (vals === null) {\n                if (field.required && subField.required) {\n                  subFieldWarningMap[subField.id].warningStatus.push(true);\n                }\n              } else if (typeof (vals) === \"object\") {\n                if (vals.length === 0) {\n                  if (field.required && subField.required) {\n                    subFieldWarningMap[subField.id].warningStatus.push(true);\n                  }\n                } else {\n                  for (let multiplexIdx in vals) {\n                    if (!vals.hasOwnProperty(multiplexIdx)) {\n                      continue;\n                    }\n                    let curVal = vals[multiplexIdx][subField.id];\n                    if (subField.required) {\n                      if (typeof (curVal) === 'object' && curVal) {\n                        if (!curVal.value) {\n                          subFieldWarningMap[subField.id].warningStatus.push(true);\n                        } else {\n                          subFieldWarningMap[subField.id].warningStatus.push(false);\n                        }\n                      } else if (!curVal) {\n                        subFieldWarningMap[subField.id].warningStatus.push(true);\n                      } else {\n                        subFieldWarningMap[subField.id].warningStatus.push(false);\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          let subFieldWarningMap = {};\n          field.subFieldList.forEach(function(subField) {\n            if (subField.required) {\n              subFieldWarningMap[subField.id] = {\n                field: subField,\n                warningStatus: []\n              };\n            }\n          });\n\n          valList.forEach(function(multiplexVals) {\n            updateSubFieldWarningMap(multiplexVals);\n          });\n          // turn off main field when all subfield are filled\n\n          let mainFieldStatus = [];\n          for (let subFieldId in subFieldWarningMap) {\n            if (!subFieldWarningMap.hasOwnProperty(subFieldId)) {\n              continue;\n            }\n            let subField = subFieldWarningMap[subFieldId].field;\n            if (subFieldWarningMap[subFieldId].warningStatus.indexOf(true) >= 0) {\n              let text = subField.name + \" is a required subfield for \" + field.name + \", please make sure all \" + field.name + \" have \" + subField.name;\n              if (field.required) {\n                that.fieldWarningMsg(subField, text, true);\n                mainFieldStatus.push(true);\n              } else {\n                that.fieldWarningMsg(subField, text, true);\n                mainFieldStatus.push(true);\n              }\n            } else {\n              that.fieldWarningMsg(subField, \"none\", false);\n              mainFieldStatus.push(false);\n            }\n          }\n          let mainFieldWarning = mainFieldStatus.indexOf(true) >= 0;\n          let warningText;\n          if (field.required) {\n            warningText = field.name + \" is a required field, please also fix missing required subfield(s) below\";\n          } else {\n            warningText = field.name + \" is not a required field, please fix missing required subfield(s) below or remove selected \" + field.name;\n          }\n          that.fieldWarningMsg(field, warningText, mainFieldWarning);\n        };\n\n        field.parseMainFieldVal = function(val) {\n          let optMap = field.data.options;\n          for (let idx = 0; idx < optMap.length; idx++) {\n            let curOpt = optMap[idx];\n            if (curOpt.id === val) {\n              return curOpt.text\n            }\n          }\n        };\n      },\n\n      _deleteDialog: function(field) {\n        let that = this;\n\n        let valMap = field.allSelectedMultipleVal;\n        let valToRemove;\n        if (valMap) {\n          valToRemove = Object.keys(valMap);\n        } else {\n          valToRemove = [];\n        }\n\n\n        let dialogDiv = $(\"<div/>\").addClass(\"plate-modal\");\n        this.container.append(dialogDiv);\n\n        function killDialog() {\n          dialogDiv.hide();\n          dialogDiv.remove();\n        }\n\n        let dialogContent = $(\"<div/>\").addClass(\"plate-modal-content\").css('width', '550px').appendTo(dialogDiv);\n        let tableArea = $(\"<div/>\").appendTo(dialogContent);\n        let buttonRow = $(\"<div/>\").addClass(\"dialog-buttons\").css(\"justify-content\", \"flex-end\").appendTo(dialogContent);\n\n        if (valToRemove.length > 0) {\n          // apply CSS property for table\n          $(\"<p/>\").text(field.name + \" in selected wells: choose items to delete and click the delete button below\").appendTo(tableArea);\n\n          let table = that._deleteDialogTable(field, valMap);\n          table.appendTo(tableArea);\n          table.addClass(\"plate-popout-table\");\n          table.find('td').addClass(\"plate-popout-td\");\n          table.find('th').addClass(\"plate-popout-th\");\n          table.find('tr').addClass(\"plate-popout-tr\");\n          if (!that.readOnly) {\n            let deleteCheckedButton = $(\"<button class='multiple-field-manage-delete-button'>Delete Checked Items</button>\");\n            buttonRow.append(deleteCheckedButton);\n            deleteCheckedButton.click(function() {\n              table.find(\"input:checked\").each(function() {\n                let val = this.value;\n                field.multiOnChange(null, {id: val});\n              });\n              // refresh selected fields after updating the multiplex field value\n              that.decideSelectedFields();\n              killDialog();\n            });\n          }\n\n        } else {\n          $(\"<p/>\").text(\"No \" + field.name + \" in the selected wells\").appendTo(tableArea);\n        }\n\n        let cancelButton = $(\"<button>Cancel</button>\");\n        buttonRow.append(cancelButton);\n        cancelButton.click(killDialog);\n\n        dialogDiv.show();\n\n        window.onclick = function(event) {\n          if (event.target === dialogDiv[0]) {\n            killDialog();\n          }\n        }\n      },\n\n      _deleteDialogTable: function(field, valMap) {\n        let that = this;\n        let colName = [field.name, \"Counts\"]; //Added because it was missing... no idea what the original should have been\n        if (!that.readOnly) {\n          colName.push(\"Delete\");\n        }\n        let table = $('<table/>');\n        let thead = $('<thead/>').appendTo(table);\n        let tr = $('<tr/>').appendTo(thead);\n\n        tr.append(colName.map(function(text) {\n          return $('<th/>').text(text);\n        }));\n\n        let tbody = $(\"<tbody/>\").appendTo(table);\n\n        field.data.options.forEach(function(opt) {\n          if (opt.id in valMap) {\n            let tr = $('<tr/>').appendTo(tbody);\n            let checkbox = $(\"<input type='checkbox'>\").prop(\"value\", opt.id);\n            $(\"<td/>\").text(opt.text).appendTo(tr);\n            $(\"<td/>\").text(valMap[opt.id]).appendTo(tr);\n            if (!that.readOnly) {\n              $(\"<td/>\").append(checkbox).appendTo(tr);\n            }\n          }\n        });\n\n        return table;\n      },\n\n      _createDeleteButton: function(field) {\n        let that = this;\n        let deleteButton = $(\"<button/>\").addClass(\"plate-setup-remove-all-button\");\n        deleteButton.id = field.id + \"Delete\";\n        deleteButton.text(\"Manage \" + field.name + \"...\");\n        let buttonContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-remove-all-button-container\");\n        buttonContainer.append(deleteButton);\n\n        field.deleteButton = deleteButton;\n        field.root.find(\".plate-setup-tab-field-right-side\").append(buttonContainer);\n\n        deleteButton.click(function() {\n          that._deleteDialog(field);\n        });\n      }\n\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.engine = function(THIS) {\n    // Methods which look after data changes and stack up accordingly\n    // Remember THIS points to plateMapWidget and 'this' points to engine\n    // Use THIS to refer parent this.\n    return {\n      engine: {\n\n        derivative: {},\n        colorMap: new Map(),\n        stackUpWithColor: {},\n        stackPointer: 2,\n\n        wellEmpty: function(well) {\n          for (let prop in well) {\n            if (!well.hasOwnProperty(prop)) {\n              continue;\n            }\n            let curVal = well[prop];\n            if (curVal !== null && curVal !== undefined) {\n              if (Array.isArray(curVal)) {\n                if (curVal.length > 0) {\n                  return false;\n                }\n              } else {\n                return false;\n              }\n            }\n          }\n          return true;\n        },\n\n        searchAndStack: function() {\n          // This method search and stack the change we made.\n          this.stackUpWithColor = {};\n          this.stackPointer = 1;\n          let derivativeJson = {};\n          for (let idx in this.derivative) {\n            if (!this.derivative.hasOwnProperty(idx)) {\n              continue;\n            }\n            let data = this.derivative[idx];\n            let wellData = {};\n            for (let i = 0; i < THIS.globalSelectedAttributes.length; i++) {\n              let attr = THIS.globalSelectedAttributes[i];\n\n              if (attr in THIS.globalSelectedMultiplexSubfield) {\n                let selectedSubFields = THIS.globalSelectedMultiplexSubfield[attr];\n                let newMultiplexVal = [];\n                for (let multiplexIdx in data[attr]) {\n                  if (!data[attr].hasOwnProperty(multiplexIdx)) {\n                    continue;\n                  }\n                  let curMultiplexVals = data[attr][multiplexIdx];\n                  let newVal = {};\n                  newVal[attr] = curMultiplexVals[attr];\n                  selectedSubFields.forEach(function(subFieldId) {\n                    newVal[subFieldId] = curMultiplexVals[subFieldId];\n                  });\n                  newMultiplexVal.push(newVal);\n                }\n                wellData[attr] = newMultiplexVal;\n              } else {\n                if (data[attr] != null) {\n                  wellData[attr] = data[attr];\n                }\n              }\n            }\n            if ($.isEmptyObject(wellData)) {\n              derivativeJson[idx] = null;\n            } else {\n              derivativeJson[idx] = JSON.stringify(wellData);\n            }\n          }\n\n          while (!$.isEmptyObject(derivativeJson)) {\n            let keys = Object.keys(derivativeJson).map(parseFloat);\n            keys.sort(function(a, b) {\n              return a - b;\n            });\n\n            let refDerivativeIndex = keys[0];\n            let referenceDerivative = derivativeJson[refDerivativeIndex];\n            let arr = [];\n\n            if (!referenceDerivative) {\n              // if no checked box has value, push it to first spot\n              if (this.stackUpWithColor[0]) {\n                this.stackUpWithColor[0].push(refDerivativeIndex);\n              } else {\n                this.stackUpWithColor[0] = [refDerivativeIndex];\n              }\n\n              delete derivativeJson[refDerivativeIndex];\n            } else {\n              // if checked boxes have values\n              for (let i = 0; i < keys.length; i++) {\n                let idx = keys[i];\n                if (referenceDerivative === derivativeJson[idx]) {\n                  arr.push(idx);\n                  this.stackUpWithColor[this.stackPointer] = arr;\n                  delete derivativeJson[idx];\n                }\n              }\n              if (arr.length > 0)\n                this.stackPointer++;\n            }\n          }\n        },\n\n        applyColors: function() {\n\n          let wholeNoTiles = 0;\n          let wholePercentage = 0;\n\n          THIS.addBottomTableHeadings();\n\n          for (let i = 0; i < THIS.allTiles.length; i++) {\n            let tile = THIS.allTiles[i];\n            THIS.setTileVisible(tile, false);\n          }\n\n          for (let color = 0; color < this.stackPointer; color++) {\n            let arr = this.stackUpWithColor[color];\n            if (arr) {\n              THIS.addBottomTableRow(color, arr);\n\n              for (let i = 0; i < arr.length; i++) {\n                wholeNoTiles++;\n                let index = this.stackUpWithColor[color][i];\n                let tile = THIS.allTiles[index];\n                let well = this.derivative[index];\n                this.colorMap.set(index, color);\n                THIS.setTileColor(tile, color);\n                // Checks if all the required fields are filled\n                let completion = this.checkCompletion(well, tile);\n                THIS.setTileComplete(tile, completion === 1);\n                wholePercentage = wholePercentage + completion;\n              }\n            }\n          }\n\n          wholePercentage = Math.floor(100 * wholePercentage / wholeNoTiles);\n\n          if (isNaN(wholePercentage)) {\n            THIS.overLayTextContainer.text(\"Completion Percentage: 0%\");\n          } else {\n            THIS.overLayTextContainer.text(\"Completion Percentage: \" + wholePercentage + \"%\");\n          }\n          THIS.selectObjectInBottomTab();\n        },\n\n        checkCompletion: function(wellData) {\n          let req = 0;\n          let fill = 0;\n          for (let i = 0; i < THIS.fieldList.length; i++) {\n            let field = THIS.fieldList[i];\n            if (field.checkMultiplexCompletion) {\n              // also apply color\n              let multiplexStatus = field.checkMultiplexCompletion(wellData[field.id]);\n              if (multiplexStatus.include) {\n                fill += multiplexStatus.completionPct;\n                req++;\n              }\n            } else {\n              if (field.required) {\n                req++;\n                if (wellData[field.id] !== null) {\n                  fill++;\n                }\n              }\n            }\n          }\n          if (req === fill) {\n            return 1;\n          }\n          return fill / req;\n        },\n      }\n    }\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\nplateMapWidget.assets = function() {\n  return {\n    _assets: {\n      doImg: '&#10003;',\n      dontImg: '',\n      warningImg: '&#9888;'\n    }\n  };\n};\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.interface = function() {\n    // interface holds all the methods to put the interface in place\n    return {\n\n      _createInterface: function() {\n\n        let divIdentifier = '<div></div>';\n        this.container = this._createElement(divIdentifier).addClass(\"plate-setup-wrapper\");\n        this.topSection = this._createElement(divIdentifier).addClass(\"plate-setup-top-section\");\n\n        this.topLeft = this._createElement(divIdentifier).addClass(\"plate-setup-top-left\");\n        this.topRight = this._createElement(divIdentifier).addClass(\"plate-setup-top-right\");\n\n        this.overLayContainer = this._createElement(divIdentifier).addClass(\"plate-setup-overlay-container\");\n        this.canvasContainer = this._createElement(divIdentifier).addClass(\"plate-setup-canvas-container\");\n\n        this._createOverLay();\n        $(this.topLeft).append(this.overLayContainer);\n        $(this.topLeft).append(this.canvasContainer);\n\n        $(this.topSection).append(this.topLeft);\n        $(this.topSection).append(this.topRight);\n\n        $(this.container).append(this.topSection);\n        $(this.element).append(this.container);\n\n        this._createSvg();\n\n        this._createTabAtRight();\n        this._createTabs();\n\n        this._placePresetTabs();\n        // Bottom of the screen\n        this._bottomScreen();\n\n        this.bottomForFirstTime();\n\n        let that = this;\n        this._setShortcuts();\n        $(document.body).keyup(function(e) {\n          that._handleShortcuts(e);\n        });\n\n        this._configureUndoRedoArray();\n      },\n\n      _createElement: function(element) {\n        return $(element);\n      },\n\n      _setShortcuts: function() {\n        let that = this;\n        window.addEventListener(\"cut\", function(e) {\n          if (document.activeElement === document.body) {\n            that.copyCriteria();\n            that.clearCriteria();\n            e.preventDefault();\n          }\n        });\n        window.addEventListener(\"copy\", function(e) {\n          if (document.activeElement === document.body) {\n            that.copyCriteria();\n            e.preventDefault();\n          }\n        });\n        window.addEventListener(\"paste\", function(e) {\n          if (document.activeElement === document.body) {\n            that.pasteCriteria();\n            e.preventDefault();\n          }\n        });\n      },\n\n      _handleShortcuts: function(e) {\n        if (document.activeElement === document.body) {\n          if (e.keyCode === 46) {\n            this.clearCriteria();\n            e.preventDefault();\n          } else if (e.ctrlKey || e.metaKey) {\n            if (e.keyCode === 90) {\n              if (e.shiftKey) {\n                this.redo();\n              } else {\n                this.undo();\n              }\n              e.preventDefault();\n            } else if (e.keyCode === 89) {\n              this.redo();\n              e.preventDefault();\n            }\n          }\n        }\n      },\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\nplateMapWidget.loadPlate = function() {\n  // Methods which look after data changes and stack up accordingly\n  // Remember THIS points to plateMapWidget and 'this' points to engine\n  return {\n\n    loadPlate: function(data) {\n      //sanitize input\n      let derivative;\n      if (data.hasOwnProperty('wells')) {\n        derivative = {};\n        for (let address in data.wells) {\n          let well = data.wells[address];\n          let index = this.addressToIndex(address);\n          derivative[index] = this.sanitizeWell(well);\n        }\n      } else {\n        derivative = this.derivative;\n      }\n\n      let checkboxes;\n      if (data.hasOwnProperty('checkboxes')) {\n        checkboxes = this.sanitizeCheckboxes(data.checkboxes);\n      } else {\n        checkboxes = this.getCheckboxes();\n      }\n\n      let indices;\n      if (data.hasOwnProperty('selectedAddresses')) {\n        indices = this.sanitizeAddresses(data.selectedAddresses);\n      } else {\n        indices = this.getSelectedIndices();\n      }\n      if (indices.length === 0) {\n        indices = [0];\n      }\n\n      let sanitized = {\n        \"derivative\": derivative,\n        \"checkboxes\": checkboxes,\n        \"selectedIndices\": indices,\n      };\n\n      this.setData(sanitized);\n    },\n\n    sanitizeCheckboxes: function(checkboxes) {\n      checkboxes = checkboxes || [];\n      return this.allCheckboxes.filter(fieldId => checkboxes.indexOf(fieldId) >= 0);\n    },\n\n    sanitizeAddresses: function(selectedAddresses) {\n      selectedAddresses = selectedAddresses || [];\n      let indices = selectedAddresses.map(this.addressToIndex, this);\n      indices.sort();\n      indices = indices.filter((index, i) => indices.indexOf(index) === i);\n      return indices;\n    },\n\n    sanitizeWell: function(well) {\n      let newWell = {};\n      this.fieldList.forEach(function (field) {\n        newWell[field.id] = field.parseValue(well[field.id]);\n      });\n      return newWell;\n    },\n\n    setData: function(data, quiet) {\n      this.engine.derivative = data.derivative;\n      this.setCheckboxes(data.checkboxes, true);\n      this.setSelectedIndices(data.selectedIndices, true);\n      this.derivativeChange();\n      if (!quiet) {\n        this.addToUndoRedo();\n      }\n    },\n\n  }\n};\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.overlay = function() {\n    // overlay holds all the methods to put the part just above the canvas which contains all those\n    // 'completion percentage' annd 'copy Criteria' button etc ...\n    return {\n\n      _createOverLay: function() {\n\n        let that = this;\n        this.overLayTextContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-overlay-text-container\");\n        this.overLayTextContainer.text(\"Completion Percentage:\");\n        this.overLayContainer.append(this.overLayTextContainer);\n        this.overLayButtonContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-overlay-button-container\");\n        this.overLayContainer.append(this.overLayButtonContainer);\n\n        this.clearCriteriaButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.clearCriteriaButton.text(\"Clear\");\n        this.overLayButtonContainer.append(this.clearCriteriaButton);\n\n        this.clearCriteriaButton.click(function() {\n          that.clearCriteria();\n        });\n\n        this.copyCriteriaButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.copyCriteriaButton.text(\"Copy\");\n        this.overLayButtonContainer.append(this.copyCriteriaButton);\n\n        this.copyCriteriaButton.click(function() {\n          that.copyCriteria();\n        });\n\n        this.pasteCriteriaButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.pasteCriteriaButton.text(\"Paste\");\n        this.overLayButtonContainer.append(this.pasteCriteriaButton);\n\n        this.pasteCriteriaButton.click(function() {\n          that.pasteCriteria();\n        });\n\n        this.undoButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.undoButton.text(\"Undo\");\n        this.overLayButtonContainer.append(this.undoButton);\n\n        this.undoButton.click(function() {\n          that.undo();\n        });\n\n        this.redoButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.redoButton.text(\"Redo\");\n        this.overLayButtonContainer.append(this.redoButton);\n\n        this.redoButton.click(function() {\n          that.redo();\n        });\n\n      },\n\n      clearCriteria: function() {\n        if (this.selectedIndices && this.selectedIndices.length) {\n          let hasWellUpdate = false;\n          let selectedIndices = this.selectedIndices;\n          let well;\n          for (let i = 0; i < selectedIndices.length; i++) {\n            let index = selectedIndices[i];\n            if (index in this.engine.derivative) {\n              // handling for clearing well when not allowed to add or delete wells\n              if (this.disableAddDeleteWell) {\n                if (this.engine.derivative.hasOwnProperty(index)) {\n                  well = $.extend(true, {}, this.emptyWellWithDefaultVal);\n                  this.engine.derivative[index] = well;\n                }\n              } else {\n                delete this.engine.derivative[index];\n              }\n              hasWellUpdate = true;\n            }\n          }\n\n          if (hasWellUpdate) {\n            this._colorMixer();\n            this.decideSelectedFields();\n            this.derivativeChange();\n            this.addToUndoRedo();\n          }\n        } else {\n          alert(\"Please select any well\");\n        }\n      },\n\n      copyCriteria: function() {\n        if (this.selectedIndices && this.selectedIndices.length) {\n          let wells = this._getSelectedWells();\n          this.commonData = this._getCommonData(wells);\n        } else {\n          alert(\"Please select any well.\");\n        }\n      },\n\n      pasteCriteria: function() {\n        if (this.commonData) {\n          this._addAllData(this.commonData);\n          this.decideSelectedFields();\n        }\n      }\n    };\n  }\n})(jQuery);","$.widget(\"DNA.plateMap\", {\n\n  plateMapWidget: {},\n\n  options: {\n    value: 0\n  },\n\n  addressToLoc: function(address) {\n    let m = /^([A-Z]+)(\\d+)$/.exec(address.trim().toUpperCase());\n    if (m) {\n      let row_v = m[1];\n      let col = parseInt(m[2]) - 1;\n      let row = 0;\n      for (let i = 0; i < row_v.length; i++) {\n        let c = row_v.charCodeAt(i) - 65;\n        if (i) {\n          row += 1;\n          row *= 26;\n          row += c;\n        } else {\n          row = c;\n        }\n      }\n      return {\n        r: row,\n        c: col\n      };\n    } else {\n      throw address + \" not a proper plate address\";\n    }\n  },\n\n  locToIndex: function(loc, dimensions) {\n    if (!dimensions) {\n      dimensions = this.dimensions;\n    }\n    if (!(loc.r >= 0 && loc.r < dimensions.rows)) {\n      throw \"Row index \" + (loc.r + 1) + \" invalid\";\n    }\n    if (!(loc.c >= 0 && loc.c < dimensions.cols)) {\n      throw \"Column index \" + (loc.c + 1) + \" invalid\";\n    }\n    return loc.r * dimensions.cols + loc.c;\n  },\n\n  addressToIndex: function(address, dimensions) {\n    let loc = this.addressToLoc(address);\n    return this.locToIndex(loc, dimensions);\n  },\n\n  _rowKey: function(i) {\n    let c1 = i % 26;\n    let c2 = (i - c1) / 26;\n    let code = String.fromCharCode(65 + c1);\n    if (c2 > 0) {\n      code = String.fromCharCode(64 + c2) + code;\n    }\n    return code;\n  },\n\n  _colKey: function (i) {\n    return (i+1).toString(10);\n  },\n\n  indexToLoc: function(index, dimensions) {\n    if (!dimensions) {\n      dimensions = this.dimensions;\n    }\n\n    if (index >= dimensions.rows * dimensions.cols) {\n      throw \"Index too high: \" + index.toString(10);\n    }\n    let loc = {};\n    loc.c = index % dimensions.cols;\n    loc.r = (index - loc.c) / dimensions.cols;\n\n    return loc;\n  },\n\n  locToAddress: function(loc) {\n    return this._rowKey(loc.r) + this._colKey(loc.c);\n  },\n\n  indexToAddress: function(index, dimensions) {\n    let loc = this.indexToLoc(index, dimensions);\n    return this.locToAddress(loc);\n  },\n\n  getDimensions: function() {\n    return $.extend(true, {}, this.dimensions);\n  },\n\n  _create: function() {\n    let rows = parseInt(this.options.numRows || 8);\n    let cols = parseInt(this.options.numCols || 12);\n    this.dimensions = {\n      rows: rows,\n      cols: cols\n    };\n    this.rowIndex = [];\n    for (let i = 0; i < rows; i++) {\n      this.rowIndex.push(this._rowKey(i));\n    }\n\n    this.target = (this.element[0].id) ? \"#\" + this.element[0].id : \".\" + this.element[0].className;\n\n    // Import classes from other files.. Here we import it using extend and add it to this\n    // object. internally we add to widget.DNA.getPlates.prototype.\n    // Helpers are methods which return other methods and objects.\n    // add Objects to plateMapWidget and it will be added to this object.\n    // set read only well\n    if (this.options.readOnly) {\n      this.isReadOnly(true);\n    }\n\n    for (let component in plateMapWidget) {\n      if (plateMapWidget.hasOwnProperty(component)) {\n        // Incase some properties has to initialize with data from options hash,\n        // we provide it sending this object.\n        $.extend(this, new plateMapWidget[component](this));\n      }\n    }\n\n    this._createInterface();\n\n    this._trigger(\"created\", null, this);\n\n    return this;\n  },\n\n  _init: function() {\n    // This is invoked when the user use the plugin after _create is called.\n    // The point is _create is invoked for the very first time and for all other\n    // times _init is used.\n  },\n\n  // wellsData follows syntax: {A1:{field1: val1, field2: val2}, A2:{field1: val1, field2: val2}}\n  getTextDerivative: function(wellsData) {\n    let textDerivative = {};\n    let fieldMap = this.fieldMap;\n    for (let address in wellsData) {\n      if (!wellsData.hasOwnProperty(address)) {\n        continue;\n      }\n      let textValWell = {};\n      let textFieldIdWell = {};\n      let curWellData = wellsData[address];\n      for (let fieldId in curWellData) {\n        if (!curWellData.hasOwnProperty(fieldId)) {\n          continue;\n        }\n        if (fieldId in fieldMap) {\n          let field = fieldMap[fieldId];\n          let textVal = field.parseText(curWellData[fieldId]);\n          textFieldIdWell[field.name] = textVal;\n          textValWell[fieldId] = textVal;\n        } else {\n          // do not convert if not a field\n          textFieldIdWell[fieldId] = curWellData[fieldId];\n          textValWell[fieldId] = curWellData[fieldId];\n        }\n      }\n      textDerivative[address] = {\n        textVal: textValWell,\n        textFieldVal: textFieldIdWell\n      };\n    }\n\n    return textDerivative;\n  },\n\n  // wellsData follows syntax: {A1:{field1: val1, field2: val2}, A1:{field1: val1, field2: val2}}\n  getWellsDifferences: function(wellsHash) {\n    let wells = [];\n    for (let wellId in wellsHash) {\n      if (wellsHash.hasOwnProperty(wellId)) {\n        wells.push(wellsHash[wellId]);\n      }\n    }\n    let differentWellsVals = {};\n    if (wells.length > 1) {\n      let commonWell = this._getCommonWell(wells);\n      let allFieldVal = {};\n      for (let fieldIdx in wells[0]) {\n        if (wells[0].hasOwnProperty(fieldIdx)) {\n          allFieldVal[fieldIdx] = [];\n        }\n      }\n      for (let address in wellsHash) {\n        if (!wellsHash.hasOwnProperty(address)) {\n          continue;\n        }\n        let diffWellVal = {};\n        let curWellData = wellsHash[address];\n        for (let fieldId in curWellData) {\n          if (!curWellData.hasOwnProperty(fieldId)) {\n            continue;\n          }\n          let commonVal = commonWell[fieldId];\n          let curVal = curWellData[fieldId];\n          if (commonVal === undefined) {\n            commonVal = null;\n          }\n          if (curVal === undefined) {\n            curVal = null;\n          }\n          let newVal = null;\n          if (Array.isArray(curVal)) {\n            commonVal = commonVal || [];\n            // get uncommonVal\n            newVal = [];\n            for (let idx = 0; idx < curVal.length; idx++) {\n              let curMultiVal = curVal[idx];\n              // multiplex field\n              if (curMultiVal && typeof (curMultiVal) === \"object\") {\n                if (!this.containsObject(curMultiVal, commonVal)) {\n                  newVal.push(curMultiVal);\n                  if (!this.containsObject(curMultiVal, allFieldVal[fieldId])) {\n                    allFieldVal[fieldId].push(curMultiVal);\n                  }\n                }\n              } else {\n                if (commonVal.indexOf(curMultiVal) < 0) {\n                  newVal.push(curMultiVal);\n                  if (!allFieldVal[fieldId].indexOf(curMultiVal) >= 0) {\n                    allFieldVal[fieldId].push(curMultiVal);\n                  }\n                }\n              }\n            }\n          } else if (curVal && typeof (curVal) === \"object\") {\n            if (commonVal && typeof (commonVal) === \"object\") {\n              if (!((curVal.value === commonVal.value) || (curVal.unit === commonVal.unit))) {\n                newVal = curVal;\n                if (!this.containsObject(curVal, allFieldVal[fieldId])) {\n                  allFieldVal[fieldId].push(curVal);\n                }\n              }\n            } else {\n              newVal = curVal;\n              if (!this.containsObject(curVal, allFieldVal[fieldId])) {\n                allFieldVal[fieldId].push(curVal);\n              }\n            }\n          } else if (curVal !== commonVal) {\n            newVal = curVal;\n            if (!allFieldVal[fieldId].indexOf(curVal) >= 0) {\n              allFieldVal[fieldId].push(curVal);\n            }\n          }\n          diffWellVal[fieldId] = newVal;\n        }\n\n        differentWellsVals[address] = diffWellVal;\n      }\n\n      // clean up step for fields that are empty\n      for (let fieldId in allFieldVal) {\n        if (!allFieldVal.hasOwnProperty(fieldId)) {\n          continue;\n        }\n        if (allFieldVal[fieldId].length === 0) {\n          for (let address in differentWellsVals) {\n            if (!differentWellsVals.hasOwnProperty(address)) {\n              continue;\n            }\n            delete differentWellsVals[address][fieldId];\n          }\n        }\n      }\n\n      return differentWellsVals;\n    } else if (wells.length > 0) {\n      let differentWellsVals = {};\n      for (let address in wellsHash) {\n        if (!wellsHash.hasOwnProperty(address)) {\n          continue;\n        }\n        let diffWellVal = {};\n        let curWellData = wellsHash[address];\n        for (let fieldId in curWellData) {\n          if (!curWellData.hasOwnProperty(fieldId)) {\n            continue;\n          }\n          let curVal = curWellData[fieldId];\n          if (Array.isArray(curVal)) {\n            if (curVal.length > 0) {\n              diffWellVal[fieldId] = curVal\n            }\n          } else if (curVal) {\n            diffWellVal[fieldId] = curVal;\n          }\n        }\n        differentWellsVals[address] = diffWellVal;\n      }\n\n      return differentWellsVals;\n    }\n  },\n\n  setFieldsDisabled: function(flag) {\n    this.fieldList.forEach(function(field) {\n      field.disabled(flag);\n    });\n  },\n\n  isReadOnly: function(flag) {\n    this.readOnly = !!flag;\n    this.readOnlyHandler();\n  },\n\n  readOnlyHandler: function() {\n    if (this.readOnly) {\n      this.overLayButtonContainer.css(\"display\", \"none\");\n      $('.multiple-field-manage-delete-button').css(\"display\", \"none\");\n      this.setFieldsDisabled(true);\n    } else {\n      this.overLayButtonContainer.css(\"display\", \"flex\");\n      $('.multiple-field-manage-delete-button').css(\"display\", \"none\");\n      if (!this.disableAddDeleteWell) {\n        this.setFieldsDisabled(false);\n      }\n    }\n  },\n\n  disableAddDeleteWell: null,\n\n  // column_with_default_val will be used to determine empty wells, format: {field_name: default_val}\n  isDisableAddDeleteWell: function(flag, emptyDefaultWell) {\n    if (flag) {\n      let emptyWellWithDefaultVal = $.extend(true, {}, this.defaultWell);\n      if (emptyDefaultWell) {\n        for (let field in emptyDefaultWell) {\n          if (emptyDefaultWell.hasOwnProperty(field)) {\n            if (field in emptyWellWithDefaultVal) {\n              emptyWellWithDefaultVal[field] = emptyDefaultWell[field]\n            } else {\n              console.log(\"No field for key: \" + key + \", please contact support\");\n            }\n          }\n        }\n      }\n      this.disableAddDeleteWell = true;\n      this.addressAllowToEdit = this.getWellSetAddressWithData();\n      // configure undo redo action\n      this.actionPointer = 0;\n      this.undoRedoArray = [this.createState()];\n      this.emptyWellWithDefaultVal = emptyWellWithDefaultVal;\n    } else {\n      this.disableAddDeleteWell = false;\n      this.setFieldsDisabled(false);\n      this.emptyWellWithDefaultVal = null;\n    }\n  },\n\n  selectObjectInBottomTab: function() {\n    let colors = [];\n    let selectedIndices = this.selectedIndices;\n    for (let i = 0; i < selectedIndices.length; i++) {\n      let index = selectedIndices[i];\n      let well = this.engine.derivative[index];\n      if (well) {\n        let color = this.engine.colorMap.get(index);\n        if (colors.indexOf(color) < 0) {\n          colors.push(color);\n        }\n      }\n    }\n    let trs = document.querySelectorAll('table.plate-setup-bottom-table tr');\n    for (let i = 1; i < trs.length; i++) { // start at 1 to skip the table headers\n      let tr = trs[i];\n      let td = tr.children[0];\n      let isSelected = colors.indexOf(Number(td.querySelector('button').innerHTML)) >= 0;\n      tr.classList.toggle(\"selected\", isSelected);\n    }\n  },\n\n  getSelectedIndices: function() {\n    return this.selectedIndices.slice();\n  },\n\n  getSelectedAddresses: function() {\n    return this.selectedIndices.map(function(index) {\n      return this.allTiles[index].address;\n    }, this);\n  },\n\n  setSelectedAddresses: function(addresses, noUndoRedo) {\n    let indices = this.sanitizeAddresses(addresses);\n    this.setSelectedIndices(indices, noUndoRedo);\n  },\n\n  setSelectedIndices: function (indices, noUndoRedo) {\n    if (!indices || indices.length === 0) {\n      indices = [0];\n    }\n    // Indices should be sanitized\n    this.setSelection(indices);\n    //this._colorMixer();\n    this.decideSelectedFields();\n    this._trigger(\"selectedWells\", null, {selectedAddress: this.getSelectedAddresses()});\n    this.selectObjectInBottomTab();\n    if (!noUndoRedo) {\n      this.addToUndoRedo();\n    }\n  }\n\n});\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.preset = function() {\n    // All the preset action goes here\n    return {\n\n      presets: [],\n\n      _placePresetTabs: function() {\n        let presets = this.options.attributes.presets;\n\n        if (presets && presets.length) {\n          this.wellAttrContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-well-attr-container\")\n            .text(\"Checkbox presets\");\n          this.tabContainer.append(this.wellAttrContainer);\n\n          this.presetTabContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-preset-container\");\n          this.tabContainer.append(this.presetTabContainer);\n\n          for (let i = 0; i < presets.length; i++) {\n            let preset = presets[i];\n            let divText = this._createElement(\"<div></div>\").addClass(\"plate-setup-preset-tab-div\")\n              .text(preset.title);\n\n            let presetButton = this._createElement(\"<div></div>\").addClass(\"plate-setup-preset-tab\")\n              .data(\"preset\", preset.fields).append(divText);\n            this.presetTabContainer.append(presetButton);\n\n            let that = this;\n            presetButton.click(function() {\n              let preset = $(this);\n              that._selectPreset(preset);\n            });\n            this.presets.push(presetButton);\n          }\n        }\n      },\n\n      _clearPresetSelection: function() {\n        for (let j = 0; j < this.presets.length; j++) {\n          let p = this.presets[j];\n          p.removeClass(\"plate-setup-preset-tab-selected\")\n            .addClass(\"plate-setup-preset-tab\");\n        }\n      },\n\n      _selectPreset: function(preset) {\n        this.setCheckboxes(preset.data(\"preset\"));\n        preset.removeClass(\"plate-setup-preset-tab\")\n          .addClass(\"plate-setup-preset-tab-selected\");\n      },\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function(SVG) {\n\n  plateMapWidget.svgCreate = function() {\n    //\n    return {\n\n      baseSizes: {\n        spacing: 48,\n        tile_radius: 22,\n        center_radius_complete: 10,\n        center_radius_incomplete: 14,\n        label_size: 14,\n        label_spacing: 24,\n        text_size: 13,\n        stroke: 0.5,\n        gap: 2\n      },\n\n      allTiles: [],\n\n      _createSvg: function() {\n        this.svg = new SVG(this.canvasContainer[0]);\n        this.svg.attr('preserveAspectRatio', 'xMidYMin meet');\n        let ls = this.baseSizes.label_spacing;\n\n        this.svg.viewbox(-ls, -ls, ls + this.dimensions.cols * this.baseSizes.spacing, ls + this.dimensions.rows * this.baseSizes.spacing);\n\n        this.wellShadow = this.svg.gradient('radial', function (stop) {\n          stop.at(0.8, 'rgba(0,0,0,0.1)');\n          stop.at(1, 'rgba(0,0,0,0.2)');\n        }).from(\"50%\", \"50%\").to(\"50%\", \"55%\").radius(\"50%\").attr('id', 'wellShadow');\n\n        this.wellColors = this.colorPairs.map(function (pair, i) {\n            return this.svg.gradient('linear', function (stop) {\n                stop.at(0, pair[0]);\n                stop.at(1, pair[1]);\n            }).from(0, 0).to(0, 1).id('wellColor' + i.toString());\n        }, this);\n\n        this._fixRowAndColumn();\n        this._putCircles();\n        this._svgEvents();\n      },\n\n      _fixRowAndColumn: function () {\n        let cols = this.dimensions.cols;\n        let rows = this.dimensions.rows;\n\n        let rh = this.svg.nested().attr({'x': -this.baseSizes.label_spacing / 2.0}).addClass('rowHead');\n        let ch = this.svg.nested().attr({'y': -this.baseSizes.label_spacing / 2.0}).addClass('colHead');\n\n        for (let i = 0; i < rows; i++) {\n          rh.plain(this._rowKey(i)).attr({y: this.baseSizes.spacing * (i + 0.5)});\n        }\n        for (let i = 0; i < cols; i++) {\n          ch.plain(this._colKey(i)).attr({x: this.baseSizes.spacing * (i + 0.5)});\n        }\n      },\n\n      _putCircles: function () {\n        let cols = this.dimensions.cols;\n        let rows = this.dimensions.rows;\n        this.allTiles = Array(cols * rows);\n\n        for (let row = 0; row < rows; row++) {\n          for (let col = 0; col < cols; col++) {\n            let tile = this._createTile(row, col);\n            this.allTiles[tile.index] = tile;\n          }\n        }\n      },\n\n      _createTile: function (r, c) {\n        let g = this.svg.nested().move(this.baseSizes.spacing * c, this.baseSizes.spacing * r).addClass('tile');\n        let m = this.baseSizes.spacing / 2.0;\n\n        let d = {\"tile\": g};\n        d.r = r;\n        d.c = c;\n        d.index = this.locToIndex(d);\n        d.address = this.locToAddress(d);\n\n        g.rect(this.baseSizes.spacing, this.baseSizes.spacing).addClass('highlight');\n        g.circle(this.baseSizes.tile_radius * 2).center(m, m).addClass('well').fill(this.wellShadow);\n\n        let tf = g.group().addClass('fill');\n        d[\"circle\"] = tf.circle(this.baseSizes.tile_radius * 2).center(m, m).addClass('circle').fill(this.wellColors[0]);\n        tf.circle(this.baseSizes.center_radius_complete * 2).center(m, m).addClass('center');\n        tf.circle(this.baseSizes.center_radius_incomplete * 2).center(m, m).addClass('center_incomplete');\n        d[\"label\"] = tf.plain(\"0\").attr({x: m, y: m}).addClass('label');\n\n        return d;\n      },\n\n      setTileComplete: function (tile, complete) {\n        if (complete) {\n          tile.tile.removeClass('incomplete');\n        } else {\n          tile.tile.addClass('incomplete');\n        }\n      },\n\n      setTileVisible: function (tile, visible) {\n        if (visible) {\n          tile.tile.removeClass('empty');\n        } else {\n          tile.tile.addClass('empty');\n        }\n      },\n\n      setTileColor: function (tile, color) {\n        this.setTileVisible(tile, true);\n        tile.colorIndex = parseInt(color);\n        tile.label.plain(String(tile.colorIndex));\n\n        if (color > 0) {\n          color = ((color - 1) % (this.wellColors.length - 1)) + 1;\n        }\n\n        tile.circle.fill(this.wellColors[color])\n      }\n    };\n  }\n})(SVG);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.svgEvents = function() {\n    // This object contains Menu items and how it works;\n    return {\n      colorToIndex: {},\n      selectedIndices: [],\n\n      _svgEvents: function() {\n        // Set up event handling.\n        let that = this;\n\n        function getMousePosition(evt) {\n          let CTM = that.svg.node.getScreenCTM();\n          return {\n            x: (evt.clientX - CTM.e) / CTM.a,\n            y: (evt.clientY - CTM.f) / CTM.d\n          };\n        }\n\n        function dimCoord(v, max) {\n          max = max - 1;\n          if (v < 0) {\n            return 0;\n          } else if (v >= max) {\n            return max;\n          } else {\n            return Math.trunc(v);\n          }\n        }\n\n        function posToLoc(pos) {\n          let s = that.baseSizes.spacing;\n          let c = dimCoord(pos.x / s, that.dimensions.cols);\n          let r = dimCoord(pos.y / s, that.dimensions.rows);\n          return {r: r, c: c}\n        }\n\n        function selectionBoxPosition(pos0, pos1) {\n          let d0 = posToLoc(pos0);\n          let d1 = posToLoc(pos1);\n          let s = that.baseSizes.spacing;\n\n          let x0 = Math.min(d0.c, d1.c) * s;\n          let y0 = Math.min(d0.r, d1.r) * s;\n\n          if (pos0.x < 0) {\n            d0.c = that.dimensions.cols - 1;\n          }\n          if (pos0.y < 0) {\n            d0.r = that.dimensions.rows - 1;\n          }\n\n          let x1 = (Math.max(d0.c, d1.c) + 1) * s;\n          let y1 = (Math.max(d0.r, d1.r) + 1) * s;\n\n          return {\n            x: x0,\n            y: y0,\n            width: x1 - x0,\n            height: y1 - y0,\n          };\n        }\n\n        function selectTiles(pos0, pos1, secondary) {\n          let d0 = posToLoc(pos0);\n          let d1 = posToLoc(pos1);\n          let extending = true;\n          if (secondary) {\n            // if d0 is already selected, we are deselecting\n            let startIdx = that.locToIndex(d0);\n            extending = that.selectedIndices.indexOf(startIdx) < 0;\n          }\n          let c0 = Math.min(d0.c, d1.c);\n          let r0 = Math.min(d0.r, d1.r);\n\n          if (pos0.x < 0) {\n            d0.c = that.dimensions.cols - 1;\n          }\n          if (pos0.y < 0) {\n            d0.r = that.dimensions.rows - 1;\n          }\n\n          let c1 = Math.max(d0.c, d1.c);\n          let r1 = Math.max(d0.r, d1.r);\n\n          let indices = [];\n\n          for (let r = r0; r <= r1; r++) {\n            for (let c = c0; c <= c1; c++) {\n              let index = that.locToIndex({'r': r, 'c': c});\n              indices.push(index)\n            }\n          }\n          if (secondary) {\n            if (extending) {\n              that.selectedIndices.forEach(function (index) {\n                if (indices.indexOf(index) < 0) {\n                  indices.push(index);\n                }\n              });\n            } else {\n              indices = that.selectedIndices.filter(index => indices.indexOf(index) < 0);\n            }\n          }\n\n          that.setSelectedIndices(indices.sort());\n        }\n\n        let selectionBox;\n\n        function startDrag(evt) {\n          if (selectionBox) {\n            selectionBox.remove();\n          }\n          let pos = getMousePosition(evt);\n          let attrs = selectionBoxPosition(pos, pos);\n          selectionBox = that.svg.rect().attr(attrs).fill('rgba(0, 0, 1, 0.2)');\n          selectionBox.data('origin', pos);\n        }\n\n        function drag(evt) {\n          if (selectionBox) {\n            let pos = getMousePosition(evt);\n            let attrs = selectionBoxPosition(selectionBox.data('origin'), pos);\n            selectionBox.attr(attrs);\n          }\n        }\n\n        function endDrag(evt) {\n          if (selectionBox) {\n            let startPos = selectionBox.data('origin');\n            let pos = getMousePosition(evt);\n            selectTiles(startPos, pos, evt.shiftKey);\n            selectionBox.remove();\n            selectionBox = null;\n          }\n        }\n\n        this.svg.node.addEventListener('mousedown', startDrag);\n        this.svg.node.addEventListener('mousemove', drag);\n        this.svg.node.addEventListener('mouseleave', endDrag);\n        this.svg.node.addEventListener('mouseup', endDrag);\n\n        $(that.target).on(\"loadPlate\", function(evt, data) {\n          // This method should be compatible to redo/undo.\n          that.loadPlate(JSON.parse(data));\n        });\n      },\n\n      setSelection: function(selectedIndices) {\n        this.selectedIndices = selectedIndices;\n        this._setSelectedTiles();\n        document.activeElement.blur();\n      },\n\n      _setSelectedTiles: function() {\n        // Update selected tile display only\n        let selectedIndices = this.selectedIndices;\n        this.allTiles.forEach(function(tile) {\n          let selected = selectedIndices.indexOf(tile.index) >= 0;\n          if (selected) {\n            tile.tile.addClass('selected');\n          } else {\n            tile.tile.removeClass('selected');\n          }\n        })\n      },\n\n      _getSelectedWells: function() {\n        return this.selectedIndices.map(function(index) {\n          let well = this.engine.derivative[index];\n          if (!well) {\n            well = this.defaultWell;\n          }\n          return well;\n        }, this);\n      },\n\n      containsObject: function(obj, list) {\n        function deepEqual (x, y) {\n          if (x === y) {\n            return true;\n          } else if ((typeof x == \"object\" && x != null) && (typeof y == \"object\" && y != null)) {\n            if (Object.keys(x).length !== Object.keys(y).length) {\n              return false;\n            }\n            for (let prop in x) {\n              if (x.hasOwnProperty(prop)) {\n                if (y.hasOwnProperty(prop)) {\n                  if (!deepEqual(x[prop], y[prop])) {\n                    return false;\n                  }\n                } else {\n                  return false;\n                }\n              }\n            }\n            return true;\n          } else {\n            return false;\n          }\n        }\n\n        if (list) {\n          for (let i = 0; i < list.length; i++) {\n            if (deepEqual(obj, list[i])) {\n              return true;\n            }\n          }\n        }\n        return false;\n      },\n\n      _getCommonData: function(wells) {\n        if (wells.length) {\n          let commonData = $.extend(true, {}, wells[0]);\n          for (let i = 1; i < wells.length; i++) {\n            let well = wells[i];\n            for (let field in commonData) {\n              if (!commonData.hasOwnProperty(field)) {\n                continue;\n              }\n              let commonVal = commonData[field];\n              if (commonVal === undefined) {\n                commonVal = null;\n              }\n              let wellVal = well[field];\n              if (wellVal === undefined) {\n                wellVal = null;\n              }\n              if (Array.isArray(commonVal)) {\n                let commonArr = [];\n                for (let i = 0; i < commonVal.length; i++) {\n                  let v = commonVal[i];\n                  // for multiplex field\n                  if (v && typeof (v) === \"object\") {\n                    if (this.containsObject(v, wellVal)) {\n                      commonArr.push(v);\n                    }\n                  } else {\n                    if ($.inArray(v, wellVal) >= 0) {\n                      commonArr.push(v);\n                    }\n                  }\n                }\n                commonData[field] = commonArr;\n              } else {\n                if (wellVal && typeof (wellVal) === \"object\" && commonVal && typeof (commonVal) === \"object\") {\n                  if ((wellVal.value !== commonVal.value) || (wellVal.unit !== commonVal.unit)) {\n                    delete commonData[field];\n                  }\n                } else if (commonVal !== wellVal) {\n                  delete commonData[field];\n                }\n              }\n            }\n          }\n          return commonData;\n        } else {\n          return this.defaultWell;\n        }\n      },\n\n      _getCommonWell: function (wells) {\n        let commonData = this._getCommonData(wells);\n        return this.sanitizeWell(commonData);\n      },\n\n      _getAllMultipleVal: function(wells) {\n        let multipleFieldList = this.multipleFieldList;\n\n        multipleFieldList.forEach(function(multiplexField) {\n          if (wells.length) {\n            let curMultipleVal = {};\n            wells.forEach(function(wellData) {\n              let id = multiplexField.id;\n              if (wellData[id]) {\n                if (wellData[id].length > 0) {\n                  wellData[id].forEach(function(multipleVal) {\n                    if (typeof (multipleVal) === 'object') {\n                      if (multipleVal[id] in curMultipleVal) {\n                        curMultipleVal[multipleVal[id]]++;\n                      } else {\n                        curMultipleVal[multipleVal[id]] = 1;\n                      }\n                    } else {\n                      if (multipleVal in curMultipleVal) {\n                        curMultipleVal[multipleVal]++;\n\n                      } else {\n                        curMultipleVal[multipleVal] = 1;\n                      }\n                    }\n                  })\n                }\n              }\n            });\n            multiplexField.allSelectedMultipleVal = curMultipleVal;\n          } else {\n            multiplexField.allSelectedMultipleVal = null\n          }\n        });\n      },\n\n      decideSelectedFields: function() {\n        let wells = this._getSelectedWells();\n        this._getAllMultipleVal(wells);\n        this.applyFieldWarning(wells);\n        let well = this._getCommonWell(wells);\n        this._addDataToTabFields(well);\n      },\n\n      // get all wells that have data\n      getWellSetAddressWithData: function() {\n        let indices = Object.keys(this.engine.derivative).map(Number).sort();\n        return indices.map(this.indexToAddress, this)\n      }\n\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.tabs = function() {\n    // Tabs create and manage tabs at the right side of widget.\n    return {\n\n      allTabs: [],\n\n      defaultWell: {},\n\n      allDataTabs: [], // To hold all the tab contents. this contains all the tabs and its elements and elements\n      // Settings as a whole. its very useful, when we have units for a specific field.\n      // it goes like tabs-> individual field-> units and checkbox\n\n      _createTabAtRight: function() {\n        this.tabContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-tab-container\");\n        $(this.topRight).append(this.tabContainer);\n      },\n\n      _createTabs: function() {\n        // this could be done using z-index. just imagine few cards stacked up.\n        // Check if options has tab data.\n        // Originally we will be pulling tab data from developer.\n        // Now we are building upon dummy data.\n        this.tabHead = this._createElement(\"<div></div>\").addClass(\"plate-setup-tab-head\");\n        $(this.tabContainer).append(this.tabHead);\n\n        let tabData = this.options.attributes.tabs;\n        let that = this;\n\n        tabData.forEach(function(tab, tabIndex) {\n          that.allTabs[tabIndex] = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab\");\n          $(that.allTabs[tabIndex]).data(\"index\", tabIndex)\n            .text(tab.name);\n\n          $(that.allTabs[tabIndex]).click(function() {\n            that._tabClickHandler(this);\n          });\n\n          $(that.tabHead).append(that.allTabs[tabIndex]);\n        });\n\n        this.tabDataContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-tab-data-container\");\n        $(this.tabContainer).append(this.tabDataContainer);\n\n        this._addDataTabs(tabData);\n\n        $(this.allTabs[0]).click();\n\n        this._addTabData();\n      },\n\n      _tabClickHandler: function(clickedTab) {\n\n        if (this.selectedTab) {\n          $(this.selectedTab).removeClass(\"plate-setup-tab-selected\")\n            .addClass(\"plate-setup-tab\");\n\n          let previouslyClickedTabIndex = $(this.selectedTab).data(\"index\");\n          $(this.allDataTabs[previouslyClickedTabIndex]).css(\"z-index\", 0);\n          this.readOnlyHandler();\n        }\n\n        $(clickedTab).addClass(\"plate-setup-tab-selected\");\n\n        this.selectedTab = clickedTab;\n\n        let clickedTabIndex = $(clickedTab).data(\"index\");\n        $(this.allDataTabs[clickedTabIndex]).css(\"z-index\", 1000);\n      },\n\n      _addDataTabs: function(tabs) {\n        this.allDataTabs = tabs.map(function () {\n          return this._createElement(\"<div></div>\").addClass(\"plate-setup-data-div\").css(\"z-index\", 0);\n        }, this);\n        $(this.tabDataContainer).append(this.allDataTabs);\n      }\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.undoRedoManager = function() {\n\n    return {\n\n      undoRedoArray: [],\n\n      actionPointer: null,\n\n      addToUndoRedo: function() {\n        let state = this.createState();\n        if (this.actionPointer != null) {\n          let i = this.actionPointer + 1;\n          if (i < this.undoRedoArray.length) {\n            this.undoRedoArray.splice(i, this.undoRedoArray.length - i);\n          }\n        }\n        this.actionPointer = null;\n        this.undoRedoArray.push(state);\n      },\n\n      _configureUndoRedoArray: function() {\n\n        let data = {\n          checkboxes: [],\n          derivative: {},\n          selectedIndices: [0]\n        };\n\n        this.undoRedoArray = [];\n        this.actionPointer = null;\n        this.undoRedoArray.push($.extend({}, data));\n      },\n\n      clearHistory: function () {\n        this.undoRedoArray = this.undoRedoArray.slice(-1);\n        this.actionPointer = null;\n      },\n\n      undo: function() {\n        console.log(\"undo\");\n        return this.shiftUndoRedo(-1);\n      },\n\n      redo: function() {\n        console.log(\"redo\");\n        return this.shiftUndoRedo(1);\n      },\n\n      shiftUndoRedo: function(pointerDiff) {\n        let pointer = this.actionPointer;\n        if (pointer == null) {\n          pointer = this.undoRedoArray.length - 1;\n        }\n        pointer += pointerDiff;\n        return this.setUndoRedo(pointer);\n      },\n\n      setUndoRedo: function(pointer) {\n        if (pointer < 0) {\n          return false;\n        }\n        if (pointer >= this.undoRedoArray.length) {\n          return false;\n        }\n        this.actionPointer = pointer;\n        this.setData(this.undoRedoArray[pointer], true);\n        return true;\n      }\n    }\n  };\n\n})(jQuery);"]}