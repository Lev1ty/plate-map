{"version":3,"sources":["add-data-on-change.js","add-data-to-tabs.js","add-tab-data.js","add-warning-msg.js","bottom-table.js","check-box.js","color-manager.js","create-field.js","engine.js","image_assets.js","interface.js","load-plate.js","overlay.js","plate-map.js","preset.js","svg-create.js","svg-events.js","tabs.js","undo-redo-manager.js"],"names":["plateMapWidget","$","addDataOnChange","_addAllData","data","wells","this","selectedIndices","noOfSelectedObjects","length","forEach","index","well","engine","derivative","extend","defaultWell","processWellData","wellEmpty","disableAddDeleteWell","hasOwnProperty","emptyWellWithDefaultVal","_getAllMultipleVal","applyFieldWarning","_colorMixer","derivativeChange","addToUndoRedo","newData","curWell","id","newVal","multi","preData","_getMultiData","JSON","parse","stringify","curData","fieldId","addNew","added","removed","value","add","listIdx","toString","map","val","subFieldId","push","indexOf","removeIndex","removeListIndex","newPreData","idx","parseInt","searchAndStack","applyColors","_trigger","createState","checkboxes","getCheckboxes","slice","requiredField","getPlate","address","indexToAddress","selectedAddresses","getSelectedAddresses","jQuery","addDataToFields","_addDataToTabFields","fieldMap","_applyFieldData","v","undefined","setValue","addTabData","fieldList","autoId","_addTabData","tabData","options","attributes","tabs","that","multiplexFieldArray","tab","tabPointer","tabFields","fieldArray","field","console","log","type","field_val","_makeMultiplexField","_makeRegularField","allDataTabs","multipleFieldList","_makeSubField","wrapperDiv","_createElement","addClass","wrapperDivLeftSide","wrapperDivRightSide","nameContainer","text","name","fieldContainer","append","root","required","checkbox","_addCheckBox","_createField","onChange","getValue","subFieldList","requiredSubField","subFieldKey","multiplexFields","subFieldData","subField","multiplexId","subFields","subfield","mainMultiplexField","mainRefField","curId","singleSelectValue","curVal","returnVal","_changeMultiFieldValue","curDataLs","detailData","addWarningMsg","fieldWarningMsg","include","imgId","img","html","_assets","warningImg","attr","find","prepend","popText","hover","style","display","hide","remove","removeWarningMsg","fieldData","i","applyMultiplexSubFieldColor","Array","bottomTable","_bottomScreen","bottomContainer","bottomTableContainer","bottomTableHead","bottomTableBody","container","addBottomTableHeadings","row","singleField","rowCounter","globalSelectedAttributes","empty","adjustFieldWidth","bottomRow","tileAttrText","tile","getText","addBottomTableRow","color","singleStack","modelTile","allTiles","plateIdDiv","numberText","click","evt","addressToSelect","ctrlKey","setSelectedAddresses","colorPairs","colorStops","css","dataDiv","bottomForFirstTime","createExportButton","downloadCSV","csv","filename","csvFile","downloadLink","Blob","document","createElement","download","href","window","URL","createObjectURL","body","appendChild","exportData","format","rows","querySelectorAll","colorLocMap","colorLocIdxMap","stackUpWithColor","colorIdx","cols","j","innerText","replace","loc","join","overlayContainer","descriptionDiv","buttonContainer","exportButton","resetExportText","classList","setTimeout","clipboardButton","clipboard","ClipboardJS","get","resetClipboardText","on","checkBox","globalSelectedMultiplexSubfield","allCheckboxes","checkImage","dontImg","_applyCheckboxHandler","checkBoxImage","changes","changeCheckboxes","fieldIds","Object","values","subfieldIds","concat","changeSubFieldsCheckboxes","subFieldToInclude","clicked","Boolean","doImg","noUndoRedo","gsa","multiplexCheckedSubField","_clearPresetSelection","setSubFieldCheckboxes","setCheckboxes","colorManager","select2close","ev","params","args","originalEvent","stopPropagation","one","preventDefault","select2fix","input","select2setData","selected","dataAdapter","addOptions","convertToOptions","createField","_createTextField","_createNumericField","_createSelectField","_createMultiSelectField","_createBooleanField","_createMultiplexField","parseValue","String","trim","disabled","bool","prop","parseText","_createOpts","config","opts","allowClear","placeholder","minimumResultsForSearch","data_specified","ajax","optMap","opt","select2","trigger","multiple","_parseOne","_parseMany","vals","multiOnChange","e","_createDeleteButton","units","defaultUnit","unitInput","hasUnits","unitText","unit","setUnitOpts","newUnits","curUnit","cleanUnit","isPlainObject","parseRegularValue","parseUnit","getRegularValue","isNaN","_ret","getUnit","hasMultiplexUnit","unitMap","_loop","unitTypeKey","_typeof","setUnit","setRegularValue","Number","toLowerCase","u","getRegularText","textVal","removeClass","nameContainer1","fieldContainer1","singleSelect","appendTo","multiselectSetValue","setSingleSelectOptions","singleSelectChange","updateSubFieldUnitOpts","curSubField","readOnlyHandler","newSubFieldValue","subFieldName","multiselectValues","newOptions","valMap","_loop2","curOpts","unitOptions","curIds","curOpt","newMultiplexVal","selectList","selectedVal","selectVal","_ret3","checkedSubfields","_loop3","valIdx","subV","subText","optId","x","_loop4","checkMultiplexCompletion","valList","valCount","completionPct","getSubfieldStatus","req","fill","subFieldWarningMap","warningStatus","multiplexVals","multiplexIdx","updateSubFieldWarningMap","mainFieldStatus","warningText","mainFieldWarning","parseMainFieldVal","_deleteDialog","valToRemove","allSelectedMultipleVal","keys","dialogDiv","killDialog","dialogContent","tableArea","buttonRow","table","_deleteDialogTable","readOnly","deleteCheckedButton","each","decideSelectedFields","cancelButton","show","onclick","event","target","colName","thead","tbody","tr","deleteButton","THIS","colorMap","Map","stackPointer","isArray","derivativeJson","wellData","selectedSubFields","_loop5","curMultiplexVals","isEmptyObject","parseFloat","sort","a","b","refDerivativeIndex","referenceDerivative","arr","wholeNoTiles","wholePercentage","setTileVisible","set","setTileColor","completion","checkCompletion","setTileComplete","Math","floor","overLayTextContainer","selectObjectInBottomTab","multiplexStatus","assets","_createInterface","topSection","topLeft","topRight","overLayContainer","canvasContainer","_createOverLay","element","_createSvg","_createTabAtRight","_createTabs","_placePresetTabs","_setShortcuts","keyup","_handleShortcuts","_configureUndoRedoArray","addEventListener","activeElement","copyCriteria","clearCriteria","pasteCriteria","keyCode","metaKey","shiftKey","redo","undo","loadPlate","indices","addressToIndex","sanitizeWell","sanitizeCheckboxes","sanitizeAddresses","getSelectedIndices","sanitized","setData","filter","newWell","quiet","setSelectedIndices","overlay","overLayButtonContainer","clearCriteriaButton","copyCriteriaButton","pasteCriteriaButton","undoButton","redoButton","hasWellUpdate","alert","_getSelectedWells","commonData","_getCommonData","widget","addressToLoc","m","exec","toUpperCase","row_v","col","c","charCodeAt","locToIndex","dimensions","r","c1","c2","code","fromCharCode","_colKey","locToAddress","_rowKey","indexToLoc","getDimensions","_create","numCols","rowIndex","component","className","isReadOnly","_init","getTextDerivative","wellsData","textDerivative","textValWell","textFieldIdWell","curWellData","textFieldVal","getWellsDifferences","wellsHash","wellId","differentWellsVals","commonWell","_getCommonWell","allFieldVal","fieldIdx","diffWellVal","commonVal","curMultiVal","containsObject","setFieldsDisabled","flag","emptyDefaultWell","actionPointer","undoRedoArray","trs","td","children","isSelected","colors","querySelector","innerHTML","addresses","setSelection","selectedAddress","preset","presets","_this","wellAttrContainer","tabContainer","presetTabContainer","_loop6","divText","title","presetButton","fields","_selectPreset","SVG","svgCreate","baseSizes","spacing","tile_radius","center_radius_complete","center_radius_incomplete","label_size","label_spacing","text_size","stroke","gap","svg","ls","viewbox","wellShadow","gradient","stop","at","from","to","radius","wellColors","pair","_fixRowAndColumn","_putCircles","_svgEvents","rh","nested","ch","y","plain","_createTile","g","move","d","rect","circle","center","tf","group","complete","visible","colorIndex","label","svgEvents","colorToIndex","selectionBox","getMousePosition","CTM","node","getScreenCTM","clientX","clientY","f","dimCoord","max","trunc","posToLoc","pos","s","selectionBoxPosition","pos0","pos1","d0","d1","x0","min","y0","width","height","endDrag","secondary","extending","startIdx","c0","r0","r1","selectTiles","attrs","_setSelectedTiles","blur","obj","list","deepEqual","wellVal","commonArr","inArray","multiplexField","curMultipleVal","multipleVal","getWellSetAddressWithData","allTabs","tabHead","tabIndex","_tabClickHandler","tabDataContainer","_addDataTabs","clickedTab","selectedTab","previouslyClickedTabIndex","clickedTabIndex","undoRedoManager","state","splice","clearHistory","shiftUndoRedo","pointerDiff","pointer","setUndoRedo"],"mappings":"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","file":"plate-map.min.js","sourcesContent":["var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.addDataOnChange = function() {\n    // This object is invoked when something in the tab fields change\n    return {\n\n      _addAllData: function(data) {\n        let wells = [];\n        if (this.selectedIndices) {\n          let noOfSelectedObjects = this.selectedIndices.length;\n          this.selectedIndices.forEach(function (index) {\n            let well;\n            if (index in this.engine.derivative) {\n              well = this.engine.derivative[index];\n            } else {\n              well = $.extend(true, {}, this.defaultWell);\n              this.engine.derivative[index] = well;\n            }\n            well = this.processWellData(data, well, noOfSelectedObjects);\n            let empty = this.engine.wellEmpty(well);\n            if (empty) {\n              if (this.disableAddDeleteWell) {\n                if (this.engine.derivative.hasOwnProperty(index)) {\n                  well = $.extend(true, {}, this.emptyWellWithDefaultVal);\n                  this.engine.derivative[index] = well;\n                }\n              } else {\n                delete this.engine.derivative[index];\n              }\n            }\n          }, this);\n        }\n        // update multiplex remove all field\n        this._getAllMultipleVal(wells);\n        this.applyFieldWarning(wells);\n        // create well when default field is sent for the cases when user delete all fields during disabledNewDeleteWell mode\n        this._colorMixer();\n        this.derivativeChange();\n        this.addToUndoRedo();\n      },\n\n      processWellData: function(newData, curWell, noOfSelectedObjects) {\n        for (let id in newData) {\n          if (!newData.hasOwnProperty(id)) {\n            continue;\n          }\n          let newVal = newData[id];\n          if (newVal !== undefined && newVal !== null) {\n            if (newVal.multi) {\n              let preData = curWell[id];\n              newVal = this._getMultiData(preData, newVal, id, noOfSelectedObjects);\n            }\n            newVal = JSON.parse(JSON.stringify(newVal));\n          } else {\n            newVal = null;\n          }\n          curWell[id] = newVal;\n        }\n\n        return curWell\n      },\n\n      _getMultiData: function(preData, curData, fieldId, noOfSelectedObjects) {\n        let addNew = curData.added;\n        let removed = curData.removed;\n        if (addNew) {\n          if (preData) {\n            if (addNew.value) {\n              let add = true;\n              for (let listIdx in preData) {\n                if (!preData.hasOwnProperty(listIdx)) {\n                  continue;\n                }\n                let multiplexData = preData[listIdx];\n                // for cases when the add new data exist in well\n                if (multiplexData[fieldId].toString() === addNew.id.toString()) {\n                  add = false;\n                  // update subfield value\n                  preData = preData.map(function(val) {\n                    if (val[fieldId].toString() === addNew.id.toString()) {\n                      for (let subFieldId in val) {\n                        if (!val.hasOwnProperty(subFieldId)) {\n                          continue;\n                        }\n                        // over write previous data if only one well is selected\n                        if (subFieldId in addNew.value && subFieldId !== fieldId) {\n                          if (noOfSelectedObjects === 1) {\n                            val[subFieldId] = addNew.value[subFieldId];\n                          } else if (addNew.value[subFieldId]) {\n                            val[subFieldId] = addNew.value[subFieldId];\n                          }\n                        }\n                      }\n                    }\n                    return val;\n                  })\n                }\n              }\n              if (add) {\n                preData.push(addNew.value);\n              }\n            } else if (preData.indexOf(addNew) < 0) {\n              preData.push(addNew);\n            }\n          } else {\n            preData = [];\n            if (addNew.value) {\n              preData.push(addNew.value);\n            } else if (addNew) {\n              preData.push(addNew);\n            }\n          }\n        }\n\n        let removeListIndex = function(preData, removeIndex) {\n          let newPreData = [];\n          for (let idx in preData) {\n            if (!preData.hasOwnProperty(idx)) {\n              continue;\n            }\n            if (parseInt(idx) !== parseInt(removeIndex)) {\n              newPreData.push(preData[idx]);\n            }\n          }\n          return newPreData;\n        };\n\n        if (removed) {\n          let removeIndex;\n          // for multiplex field\n          if (removed.value) {\n            for (let listIdx in preData) {\n              let multiplexData = preData[listIdx];\n              if (multiplexData[fieldId].toString() === removed.id.toString()) {\n                removeIndex = listIdx;\n              }\n            }\n            // remove nested element\n            preData = removeListIndex(preData, removeIndex);\n          } else {\n            if (preData) {\n              removeIndex = preData.indexOf(removed);\n              if (removeIndex >= 0) {\n                preData = removeListIndex(preData, removeIndex);\n              }\n            }\n          }\n        }\n        if (preData && (preData.length === 0)) {\n          preData = null;\n        }\n        return preData\n      },\n\n      _colorMixer: function() {\n        this.engine.searchAndStack();\n        this.engine.applyColors();\n      },\n\n      derivativeChange: function() {\n        this._trigger(\"updateWells\", null, this);\n      },\n\n      createState: function() {\n        let derivative = $.extend(true, {}, this.engine.derivative);\n        let checkboxes = this.getCheckboxes();\n        let selectedIndices = this.selectedIndices.slice();\n\n        return {\n          \"derivative\": derivative,\n          \"checkboxes\": checkboxes,\n          \"selectedIndices\": selectedIndices,\n          \"requiredField\": this.requiredField\n        };\n      },\n\n      getPlate: function() {\n        let wells = {};\n        let derivative = this.engine.derivative;\n        for (let index in derivative) {\n          if (!derivative.hasOwnProperty(index)) {\n            continue;\n          }\n\n          let address = this.indexToAddress(index);\n          let well = derivative[index];\n          wells[address] = $.extend(true, {}, well);\n        }\n        let checkboxes = this.getCheckboxes();\n        let selectedAddresses = this.getSelectedAddresses();\n\n        return {\n          \"wells\": wells,\n          \"checkboxes\": checkboxes,\n          \"selectedAddresses\": selectedAddresses,\n          \"requiredField\": this.requiredField\n        };\n      }\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\nplateMapWidget.addDataToFields = function() {\n\n  return {\n\n    _addDataToTabFields: function(well) {\n      // Configure how data is added to tab fields\n      for (let id in this.fieldMap) {\n        if (this.fieldMap.hasOwnProperty(id)) {\n          this._applyFieldData(id, well[id]);\n        }\n      }\n    },\n\n    _applyFieldData: function(id, v) {\n      if (v === undefined) {\n        v = null;\n      }\n      this.fieldMap[id].setValue(v);\n    }\n  }\n};\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.addTabData = function() {\n\n    return {\n\n      fieldList: [],\n      fieldMap: {},\n      autoId: 1,\n\n      _addTabData: function() {\n        // Here we may need more changes because attributes format likely to change\n        let tabData = this.options.attributes.tabs;\n        let that = this;\n        this.requiredField = [];\n        let multiplexFieldArray = [];\n        tabData.forEach(function(tab, tabPointer) {\n          if (tab[\"fields\"]) {\n            let tabFields = tab[\"fields\"];\n            let fieldArray = [];\n            // Now we look for fields in the json\n            for (let field in tabFields) {\n              if (!tabFields.hasOwnProperty(field)) {\n                continue;\n              }\n              let data = tabFields[field];\n\n              if (!data.id) {\n                data.id = \"Auto\" + that.autoId++;\n                console.log(\"Field autoassigned id \" + data.id);\n              }\n              if (!data.type) {\n                data.type = \"text\";\n                console.log(\"Field \" + data.id + \" autoassigned type \" + data.type);\n              }\n\n              let field_val;\n              if (data.type === \"multiplex\") {\n                field_val = that._makeMultiplexField(data, tabPointer, fieldArray);\n                multiplexFieldArray.push(field_val);\n              } else {\n                field_val = that._makeRegularField(data, tabPointer, fieldArray, true);\n                if (data.type === \"multiselect\") {\n                  multiplexFieldArray.push(field_val);\n                }\n              }\n            }\n\n            that.allDataTabs[tabPointer][\"fields\"] = fieldArray;\n          } else {\n            console.log(\"unknown format in field initialization\");\n          }\n        });\n        that.multipleFieldList = multiplexFieldArray;\n      },\n\n      _makeSubField: function(data, tabPointer, fieldArray) {\n        let that = this;\n        if (!data.id) {\n          data.id = \"Auto\" + that.autoId++;\n          console.log(\"Field autoassigned id \" + data.id);\n        }\n        if (!data.type) {\n          data.type = \"text\";\n          console.log(\"Field \" + data.id + \" autoassigned type \" + data.type);\n        }\n        let wrapperDiv = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-default-field\");\n        let wrapperDivLeftSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-left-side\");\n        let wrapperDivRightSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-right-side\");\n        let nameContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-name\").text(data.name);\n        let fieldContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-container\");\n\n        $(wrapperDivRightSide).append(nameContainer);\n        $(wrapperDivRightSide).append(fieldContainer);\n        $(wrapperDiv).append(wrapperDivLeftSide);\n        $(wrapperDiv).append(wrapperDivRightSide);\n        $(that.allDataTabs[tabPointer]).append(wrapperDiv);\n\n        let field = {\n          id: data.id,\n          name: data.name,\n          root: wrapperDiv,\n          data: data,\n          required: data.required || false\n        };\n\n        fieldArray.push(field);\n        that.fieldMap[data.id] = field;\n\n        return field;\n      },\n\n      _makeRegularField: function(data, tabPointer, fieldArray, checkbox) {\n        let that = this;\n        let wrapperDiv = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-default-field\");\n        let wrapperDivLeftSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-left-side\");\n        let wrapperDivRightSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-right-side \");\n        let nameContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-name\").text(data.name);\n        let fieldContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-container\");\n\n        wrapperDivRightSide.append(nameContainer);\n        wrapperDivRightSide.append(fieldContainer);\n        wrapperDiv.append(wrapperDivLeftSide);\n        wrapperDiv.append(wrapperDivRightSide);\n        that.allDataTabs[tabPointer].append(wrapperDiv);\n\n        let field = {\n          id: data.id,\n          name: data.name,\n          root: wrapperDiv,\n          data: data,\n          required: data.required\n        };\n\n        if (field.required) {\n          that.requiredField.push(field.id);\n        }\n\n        fieldArray.push(field);\n        that.fieldList.push(field);\n        that.fieldMap[field.id] = field;\n\n        // Adding checkbox\n        if (checkbox) {\n          that._addCheckBox(field);\n        }\n        that._createField(field);\n\n        field.onChange = function() {\n          let v = field.getValue();\n          let data = {};\n          data[field.id] = v;\n          that._addAllData(data);\n        };\n        return field;\n      },\n\n      _makeMultiplexField: function(data, tabPointer, fieldArray) {\n        let that = this;\n        let wrapperDiv = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-default-field\");\n        let wrapperDivLeftSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-left-side\");\n        let wrapperDivRightSide = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-right-side \");\n        let nameContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-name\").text(data.name);\n        let fieldContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-container\");\n\n        wrapperDivRightSide.append(nameContainer);\n        wrapperDivRightSide.append(fieldContainer);\n        wrapperDiv.append(wrapperDivLeftSide);\n        wrapperDiv.append(wrapperDivRightSide);\n        that.allDataTabs[tabPointer].append(wrapperDiv);\n\n        let field = {\n          id: data.id,\n          name: data.name,\n          root: wrapperDiv,\n          data: data,\n          required: data.required\n        };\n\n        fieldArray.push(field);\n        that.fieldList.push(field);\n        that.fieldMap[data.id] = field;\n\n        let subFieldList = [];\n        //create subfields\n        let requiredSubField = [];\n        for (let subFieldKey in data.multiplexFields) {\n          if (!data.multiplexFields.hasOwnProperty(subFieldKey)) {\n            continue;\n          }\n          let subFieldData = data.multiplexFields[subFieldKey];\n          let subField = that._makeSubField(subFieldData, tabPointer, fieldArray);\n          subFieldList.push(subField);\n\n          // stores required  subField\n          if (subFieldData.required) {\n            requiredSubField.push(subField.id);\n          }\n        }\n\n        //store required field\n        if (field.required || requiredSubField.length) {\n          this.requiredField.push({\n            multiplexId: field.id,\n            subFields: requiredSubField\n          });\n        }\n\n        field.subFieldList = subFieldList;\n        that._createField(field);\n        that._addCheckBox(field);\n\n        subFieldList.forEach(function(subfield) {\n          subfield.mainMultiplexField = field;\n          fieldArray.push(subfield);\n          that._createField(subfield);\n          that._addCheckBox(subfield);\n          delete that.defaultWell[subfield.id];\n          // overwrite subField setvalue\n          subfield.onChange = function() {\n            let v = subfield.getValue();\n            let mainRefField = subfield.mainMultiplexField;\n            let curId = mainRefField.singleSelectValue();\n            //let curDataLs = mainRefField.detailData;\n            let curVal = {};\n            curVal[mainRefField.id] = curId;\n            //append subfields\n            curVal[subfield.id] = v;\n            let returnVal = {\n              id: curId,\n              value: curVal\n            };\n\n            field._changeMultiFieldValue(returnVal, null);\n            let curDataLs = mainRefField.detailData;\n            if (curDataLs !== null) {\n              curId = mainRefField.singleSelectValue();\n              curDataLs = curDataLs.map(function(curData) {\n                if (curData[mainRefField.id] === curId) {\n                  curData[subfield.id] = v;\n                }\n                return curData;\n              });\n            }\n            mainRefField.detailData = curDataLs;\n          };\n\n        });\n\n        return field;\n      }\n    }\n  }\n\n})(jQuery);\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.addWarningMsg = function() {\n    // For those check boxes associated with every field in the tab\n    return {\n      fieldWarningMsg: function(field, text, include) {\n        let that = this;\n        let imgId = \"fieldWarning\" + field.id;\n        let img = $(\"<span>\").html(that._assets.warningImg).attr(\"id\", imgId).addClass(\"plate-field-warning-image\");\n        if (include) {\n          if (field.root.find(\"#\" + imgId).length <= 0) {\n            field.root.find(\".plate-setup-tab-name\").text(\" \" + field.name);\n            field.root.find(\".plate-setup-tab-name\").prepend(img);\n\n            let popText = $(\"<div/>\").addClass(\"pop-out-text\");\n            popText.text(text);\n            field.root.find(\".plate-setup-tab-name\").append(popText);\n\n            $(\"#\" + imgId).hover(function() {\n              popText[0].style.display = 'flex';\n            }, function() {\n              popText.hide();\n            });\n          }\n\n\n        } else {\n          if (field.root.find(\"#\" + imgId).length > 0) {\n            field.root.find(\".plate-setup-tab-name\").text(field.name);\n            $(\"#\" + imgId).remove();\n          }\n        }\n      },\n\n      removeWarningMsg: function(field, text, include) {\n        let that = this;\n        let imgId = \"fieldWarning\" + field.id;\n        let img = $(\"<span>\").html(that._assets.warningImg).attr(\"id\", imgId).addClass(\"plate-field-warning-image\");\n        //field.root.find(\".plate-setup-tab-name\").append('<img id=\"theImg\" src=\"theImg.png\" />')\n        if (include) {\n          field.root.find(\".plate-setup-tab-name\").append(img);\n\n          let popText = $(\"<div/>\").addClass(\"pop-out-text\");\n          popText.text(text);\n          field.root.find(\".plate-setup-tab-name\").append(popText);\n\n          $(\"#\" + imgId).hover(function() {\n            popText[0].style.display = 'inline-block';\n          }, function() {\n            popText.hide();\n          });\n\n        } else {\n          $(\"#\" + imgId).remove();\n          if (field.root.find(\"#\" + imgId).length > 0) {\n            //field.root.find(\".plate-setup-tab-name\").remove(img);\n            $(\"#\" + imgId).remove();\n          }\n        }\n      },\n\n      applyFieldWarning: function(wells) {\n        let that = this;\n        let fieldData = {};\n        that.fieldList.forEach(function(field) {\n          fieldData[field.id] = [];\n        });\n        wells.forEach(function(well) {\n          if (!that.engine.wellEmpty(well)) {\n            for (let fieldId in fieldData) {\n              if (fieldId in well) {\n                fieldData[fieldId].push(well[fieldId]);\n              } else {\n                fieldData[fieldId].push(null);\n              }\n            }\n          }\n        });\n        for (let i = 0; i < that.fieldList.length; i++) {\n          let field = that.fieldList[i];\n          if (field.applyMultiplexSubFieldColor) {\n            field.applyMultiplexSubFieldColor(fieldData[field.id]);\n          } else {\n            if (field.required) {\n              let include = false;\n              fieldData[field.id].forEach(function(val) {\n                // for multiselect\n                if (val instanceof Array) {\n                  if (val.length === 0) {\n                    include = true;\n                  }\n                } else {\n                  if (val === null) {\n                    include = true;\n                  }\n                }\n              });\n              //field.root.find(\".plate-setup-tab-name\").css(\"background\", color);\n              that.fieldWarningMsg(field, \"required field\", include);\n            }\n          }\n        }\n      }\n    }\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.bottomTable = function() {\n    // for bottom table\n    return {\n      _bottomScreen: function() {\n        this.bottomContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-bottom-container\");\n        this.bottomTableContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-bottom-table-container\");\n        this.bottomTable = this._createElement(\"<table></table>\").addClass(\"plate-setup-bottom-table\");\n        this.bottomTableHead = this._createElement(\"<thead></thead>\");\n        this.bottomTableBody = this._createElement(\"<tbody></tbody>\");\n        this.bottomTable.append(this.bottomTableHead);\n        this.bottomTable.append(this.bottomTableBody);\n        this.bottomTableContainer.append(this.bottomTable);\n        this.bottomContainer.append(this.bottomTableContainer);\n        this.container.append(this.bottomContainer);\n      },\n\n      addBottomTableHeadings: function() {\n\n        let row = this._createElement(\"<tr></tr>\");\n\n        let singleField = this._createElement(\"<th></th>\")\n          .text(\"Group\");\n        row.prepend(singleField);\n\n        this.rowCounter = 1;\n\n        for (let i = 0; i < this.globalSelectedAttributes.length; i++) {\n          let attr = this.globalSelectedAttributes[i];\n          let field = this.fieldMap[attr];\n          let singleField = this._createElement(\"<th></th>\").text(field.name);\n          row.append(singleField);\n          this.rowCounter = this.rowCounter + 1;\n        }\n\n        // Now we append all the captions at the place.\n        this.bottomTableBody.empty();\n        this.bottomTableHead.empty();\n        this.bottomTableHead.append(row);\n        this.adjustFieldWidth(this.bottomRow);\n      },\n\n      tileAttrText: function(tile, attr) {\n        let well = this.engine.derivative[tile.index];\n        let field = this.fieldMap[attr];\n        return field.getText(well[attr]);\n      },\n\n      addBottomTableRow: function(color, singleStack) {\n        let that = this;\n        let modelTile = this.allTiles[singleStack[0]];\n        let row = this._createElement(\"<tr></tr>\");\n        let plateIdDiv = this._createElement(\"<td></td>\").addClass(\"plate-setup-bottom-id\");\n        let numberText = this._createElement(\"<button/>\");\n        numberText.addClass(\"plate-setup-color-text\");\n        numberText.text(color);\n        plateIdDiv.append(numberText);\n\n        numberText.click(function(evt) {\n          let addressToSelect = singleStack.map(that.indexToAddress, that);\n          if (evt.ctrlKey) {\n            that.getSelectedAddresses().forEach(function(val) {\n              if (addressToSelect.indexOf(val) < 0) {\n                addressToSelect.push(val);\n              }\n            })\n          }\n          that.setSelectedAddresses(addressToSelect);\n        });\n\n        if (color > 0) {\n          color = ((color - 1) % (this.colorPairs.length - 1)) + 1;\n        }\n        let colorStops = this.colorPairs[color];\n\n        plateIdDiv.css(\"background\", \"linear-gradient(to right, \" + colorStops[0] + \" , \" + colorStops[1] + \")\");\n\n        row.append(plateIdDiv);\n\n        for (let i = 0; i < this.globalSelectedAttributes.length; i++) {\n          let attr = this.globalSelectedAttributes[i];\n          let text = this.tileAttrText(modelTile, attr);\n          let dataDiv = this._createElement(\"<td></td>\").text(text);\n          row.append(dataDiv);\n        }\n        this.bottomTableBody.append(row);\n        this.adjustFieldWidth(row);\n      },\n\n      bottomForFirstTime: function() {\n        this.addBottomTableHeadings();\n        // This is executed for the very first time.. !\n        let row = this._createElement(\"<tr></tr>\");\n\n        let colorStops = this.colorPairs[0];\n        let plateIdDiv = this._createElement(\"<td></td>\");\n        plateIdDiv.css(\"background\", \"-webkit-linear-gradient(left, \" + colorStops[0] + \" , \" + colorStops[1] + \")\");\n        row.append(plateIdDiv);\n        this.bottomTableBody.append(row);\n        this.createExportButton();\n      },\n\n      adjustFieldWidth: function(row) {\n\n        let length = this.rowCounter;\n        if ((length) * 150 > 1024) {\n          row.css(\"width\", (length) * 152 + \"px\");\n        }\n      },\n\n      downloadCSV: function(csv, filename) {\n        let csvFile;\n        let downloadLink;\n\n        // CSV file\n        csvFile = new Blob([csv], {\n          type: \"text/csv\"\n        });\n\n        // Download link\n        downloadLink = document.createElement(\"a\");\n\n        // File name\n        downloadLink.download = filename;\n\n        // Create a link to the file\n        downloadLink.href = window.URL.createObjectURL(csvFile);\n\n        // Hide download link\n        downloadLink.style.display = \"none\";\n\n        // Add the link to DOM\n        document.body.appendChild(downloadLink);\n\n        // Click download link\n        downloadLink.click();\n      },\n\n      exportData: function(format) {\n        let data = [];\n        let rows = document.querySelectorAll(\"table tr\");\n\n        let colorLocMap = {};\n        let colorLocIdxMap = this.engine.stackUpWithColor;\n        for (let colorIdx in colorLocIdxMap) {\n          if (colorLocIdxMap.hasOwnProperty(colorIdx)) {\n            colorLocMap[colorIdx] = colorLocIdxMap[colorIdx].map(this.indexToAddress, this);\n          }\n        }\n\n        for (let i = 0; i < rows.length; i++) {\n          let row = [],\n            cols = rows[i].querySelectorAll(\"td, th\");\n\n          for (let j = 0; j < cols.length; j++) {\n            let v = \"\";\n            if (cols[j].innerText) {\n              if (format === \"csv\") {\n                v = '\"' + cols[j].innerText.replace(/\"/g, '\"\"') + '\"';\n              } else {\n                v = cols[j].innerText;\n              }\n            }\n            row.push(v);\n\n            // add location column\n            if (i === 0 && j === 0) {\n              if (format === \"csv\") {\n                row.push('\"Location\"');\n              } else if (format === 'clipboard') {\n                row.push(\"Location\");\n              }\n\n            }\n            if (i !== 0 && j === 0) {\n              let loc = '';\n              if (colorLocMap[parseInt(cols[j].innerText)]) {\n                if (format === \"csv\") {\n                  loc = '\"' + colorLocMap[parseInt(cols[j].innerText)].join(\",\") + '\"';\n                } else if (format === 'clipboard') {\n                  loc = colorLocMap[parseInt(cols[j].innerText)].join(\",\");\n                }\n              }\n              row.push(loc);\n            }\n          }\n\n          if (format === \"csv\") {\n            data.push(row.join(\",\"));\n          } else if (format === 'clipboard') {\n            data.push(row.join(\"\\t\"));\n            //data.push(row);   // for text type\n          }\n\n        }\n        if (format === \"csv\") {\n          // Download CSV file\n          this.downloadCSV(data.join(\"\\n\"), 'table.csv');\n        } else if (format === 'clipboard') {\n          //return formatTableToString(data);   // for text type\n          return data.join(\"\\n\");\n        }\n      },\n\n      createExportButton: function() {\n        let that = this;\n        let overlayContainer = $(\"<div>\").addClass(\"plate-setup-bottom-control-container\");\n\n        let descriptionDiv = $(\"<div>\").addClass(\"plate-setup-overlay-text-container\");\n        descriptionDiv.text(\"Color groups\");\n        overlayContainer.append(descriptionDiv);\n\n        let buttonContainer = $(\"<div>\").addClass(\"plate-setup-overlay-bottom-button-container\");\n\n        // create export csv option\n        let exportButton = $(\"<button/>\").addClass(\"plate-setup-button\");\n        exportButton.text(\"Export CSV\");\n        buttonContainer.append(exportButton);\n\n        exportButton.click(function() {\n          that.exportData('csv');\n          exportButton.text(\"Exported\");\n          exportButton[0].classList.remove(\"plate-setup-button\");\n          exportButton.addClass(\"plate-setup-clicked-button\");\n          setTimeout(resetExportText, 3000);\n        });\n\n        function resetExportText() {\n          exportButton.text(\"Export CSV\");\n          exportButton[0].classList.remove(\"plate-setup-clicked-button\");\n          exportButton.addClass(\"plate-setup-button\");\n        }\n\n        // creat clipboard option, CLipboard is an external js file located in vendor/asset/javascripts\n        let clipboardButton = $(\"<button/>\").addClass(\"plate-setup-button\");\n        clipboardButton.text(\"Copy To Clipboard\");\n        buttonContainer.append(clipboardButton);\n\n        let clipboard = new ClipboardJS(clipboardButton.get(0), {\n          text: function() {\n            return that.exportData(\"clipboard\");\n          }\n        });\n\n        clipboard.on('success', function() {\n          clipboardButton.text(\"Copied as tab-delimited format\");\n          clipboardButton[0].classList.remove(\"plate-setup-button\");\n          clipboardButton.addClass(\"plate-setup-clicked-button\");\n          setTimeout(resetClipboardText, 3000);\n        });\n\n        function resetClipboardText() {\n          clipboardButton.text(\"Copy To Clipboard\");\n          clipboardButton[0].classList.remove(\"plate-setup-clicked-button\");\n          clipboardButton.addClass(\"plate-setup-button\");\n        }\n\n        clipboard.on('error', function() {\n          clipboardButton.text(\"Failed to copy table to clipboard: browser may be incompatible\");\n          setTimeout(resetClipboardText, 3000);\n        });\n\n        overlayContainer.append(buttonContainer);\n        this.bottomContainer.prepend(overlayContainer);\n      }\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.checkBox = function() {\n    // For those check boxes associated with every field in the tab\n    return {\n\n      globalSelectedAttributes: [],\n      globalSelectedMultiplexSubfield: [],\n      allCheckboxes: [],\n\n      _addCheckBox: function(field) {\n        var checkImage = $(\"<span>\").html(this._assets.dontImg).addClass(\"plate-setup-tab-check-box bg-light\")\n          .data(\"clicked\", false);\n        checkImage.data(\"linkedFieldId\", field.id);\n        field.root.find(\".plate-setup-tab-field-left-side\").empty().append(checkImage);\n        this._applyCheckboxHandler(checkImage); // Adding handler for change the image when clicked\n        field.checkbox = checkImage;\n        this.allCheckboxes.push(field.id);\n      },\n\n      _applyCheckboxHandler: function(checkBoxImage) {\n        var that = this;\n        checkBoxImage.click(function() {\n          var checkBox = $(this);\n\n          var changes = {};\n          changes[checkBox.data(\"linkedFieldId\")] = !checkBox.data(\"clicked\");\n\n          that.changeCheckboxes(changes);\n        });\n      },\n\n      getCheckboxes: function () {\n        var fieldIds = this.globalSelectedAttributes.slice();\n        Object.values(this.globalSelectedMultiplexSubfield).forEach(function (subfieldIds) {\n            fieldIds = fieldIds.concat(subfieldIds);\n        });\n        return fieldIds;\n      },\n\n      changeSubFieldsCheckboxes: function(field, changes) {\n        var that = this;\n        var subFieldToInclude = [];\n\n        field.subFieldList.forEach(function(subField) {\n          var checkImage = subField.checkbox;\n          var fieldId = checkImage.data(\"linkedFieldId\");\n          var clicked = checkImage.data(\"clicked\");\n          if (fieldId in changes) {\n            clicked = Boolean(changes[fieldId]);\n          }\n          checkImage.data(\"clicked\", clicked);\n          if (clicked) {\n            checkImage.html(that._assets.doImg);\n            subFieldToInclude.push(subField.id);\n          } else {\n            checkImage.html(that._assets.dontImg);\n          }\n        });\n        return subFieldToInclude;\n      },\n\n      changeCheckboxes: function(changes, noUndoRedo) {\n        var gsa = [];\n        var multiplexCheckedSubField = {};\n        for (var i = 0; i < this.fieldList.length; i++) {\n          var field = this.fieldList[i];\n          if (field.checkbox) {\n            if (field.subFieldList) {\n              multiplexCheckedSubField[field.id] = this.changeSubFieldsCheckboxes(field, changes);\n            }\n\n            var checkImage = field.checkbox;\n            var fieldId = checkImage.data(\"linkedFieldId\");\n            var clicked = checkImage.data(\"clicked\");\n            if (fieldId in changes) {\n              clicked = Boolean(changes[fieldId]);\n            }\n            checkImage.data(\"clicked\", clicked);\n            if (clicked) {\n              gsa.push(fieldId);\n              checkImage.html(this._assets.doImg);\n            } else {\n              checkImage.html(this._assets.dontImg);\n            }\n          }\n        }\n        this.globalSelectedMultiplexSubfield = multiplexCheckedSubField;\n        this.globalSelectedAttributes = gsa;\n        this._clearPresetSelection();\n        this._colorMixer();\n        if (!noUndoRedo) {\n          this.addToUndoRedo();\n        }\n      },\n\n      setSubFieldCheckboxes: function(field, fieldIds) {\n        var that = this;\n        var subFieldToInclude = [];\n        field.subFieldList.forEach(function(subField) {\n          var checkImage = subField.checkbox;\n          var fieldId = checkImage.data(\"linkedFieldId\");\n          var clicked = fieldIds.indexOf(fieldId) >= 0;\n          checkImage.data(\"clicked\", clicked);\n          if (clicked) {\n            checkImage.html(that._assets.doImg);\n            subFieldToInclude.push(subField.id);\n          } else {\n            checkImage.html(that._assets.dontImg);\n          }\n        });\n        return subFieldToInclude;\n      },\n\n      setCheckboxes: function(fieldIds, noUndoRedo) {\n        fieldIds = fieldIds || [];\n        var gsa = [];\n        var multiplexCheckedSubField = {};\n\n        for (var i = 0; i < this.fieldList.length; i++) {\n          var field = this.fieldList[i];\n          if (field.checkbox) {\n            // special handling for multiplex field\n            if (field.subFieldList) {\n              multiplexCheckedSubField[field.id] = this.setSubFieldCheckboxes(field, fieldIds);\n            }\n\n            var checkImage = field.checkbox;\n            var fieldId = checkImage.data(\"linkedFieldId\");\n            var clicked = fieldIds.indexOf(fieldId) >= 0;\n            checkImage.data(\"clicked\", clicked);\n            if (clicked) {\n              gsa.push(fieldId);\n              checkImage.html(this._assets.doImg);\n            } else {\n\n              checkImage.html(this._assets.dontImg);\n            }\n          }\n        }\n        this.globalSelectedMultiplexSubfield = multiplexCheckedSubField;\n        this.globalSelectedAttributes = gsa;\n        this._clearPresetSelection();\n        this._colorMixer();\n        if (!noUndoRedo) {\n          this.addToUndoRedo();\n        }\n      }\n\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\nplateMapWidget.colorManager = function() {\n\n  return {\n    // See these are color pairs for the gradient.\n    colorPairs: [\n      [\"#e6e6e6\", \"#808080\"],\n      [\"#66e8ff\", \"#0082c8\"],\n      [\"#ff7fb1\", \"#e6194b\"],\n      [\"#a2ffb1\", \"#3cb44b\"],\n      [\"#f784ff\", \"#911eb4\"],\n      [\"#ffe897\", \"#f58231\"],\n      [\"#6666ff\", \"#0000FF\"],\n      [\"#ffff7f\", \"#ffe119\"],\n      [\"#acffff\", \"#46f0f0\"],\n      [\"#ff98ff\", \"#f032e6\"],\n      [\"#ffffa2\", \"#d2f53c\"],\n      [\"#ffffff\", \"#fabebe\"],\n      [\"#66e6e6\", \"#008080\"],\n      [\"#ffffff\", \"#e6beff\"],\n      [\"#ffd48e\", \"#aa6e28\"],\n      [\"#e66666\", \"#800000\"],\n      [\"#ffffff\", \"#aaffc3\"],\n      [\"#e6e666\", \"#808000\"],\n      [\"#ffffff\", \"#ffd8b1\"],\n      [\"#66a9ef\", \"#004389\"],\n      [\"#ff6672\", \"#a7000c\"],\n      [\"#66db72\", \"#00750c\"],\n      [\"#b866db\", \"#520075\"],\n      [\"#ffa966\", \"#b64300\"],\n      [\"#ffff66\", \"#c0a200\"],\n      [\"#6dffff\", \"#07b1b1\"],\n      [\"#ff66ff\", \"#b100a7\"],\n      [\"#f9ff66\", \"#93b600\"],\n      [\"#ffe5e5\", \"#bb7f7f\"],\n      [\"#66a7a7\", \"#004141\"],\n      [\"#ffe5ff\", \"#a77fc0\"],\n      [\"#d19566\", \"#6b2f00\"],\n      [\"#ffffef\", \"#c0bb89\"],\n      [\"#d1ffea\", \"#6bc084\"],\n      [\"#a7a766\", \"#414100\"],\n      [\"#ffffd8\", \"#c09972\"],\n      [\"#a5ffff\", \"#3fc1ff\"],\n      [\"#ffbef0\", \"#ff588a\"],\n      [\"#e1fff0\", \"#7bf38a\"],\n      [\"#ffc3ff\", \"#d05df3\"],\n      [\"#ffffd6\", \"#ffc170\"],\n      [\"#a5a5ff\", \"#3f3fff\"],\n      [\"#ffffbe\", \"#ffff58\"],\n      [\"#ebffff\", \"#85ffff\"],\n      [\"#ffd7ff\", \"#ff71ff\"],\n      [\"#a5ffff\", \"#3fbfbf\"],\n      [\"#ffffcd\", \"#e9ad67\"],\n      [\"#ffa5a5\", \"#bf3f3f\"],\n      [\"#ffffa5\", \"#bfbf3f\"]\n    ]\n  }\n};\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  function select2close(ev) {\n    if (ev.params.args.originalEvent) {\n      // When unselecting (in multiple mode)\n      ev.params.args.originalEvent.stopPropagation();\n    } else {\n      // When clearing (in single mode)\n      $(this).one('select2:opening', function(ev) { ev.preventDefault(); });\n    }\n  }\n\n  function select2fix(input) {\n    // prevents select2 open on clear as of v4.0.8\n    input.on('select2:unselecting', select2close);\n  }\n\n  function select2setData(input, data, selected) {\n    input.empty();\n    let dataAdapter = input.data('select2').dataAdapter;\n    dataAdapter.addOptions(dataAdapter.convertToOptions(data));\n    input.val(selected);\n  }\n\n  plateMapWidget.createField = function() {\n    // It creates those fields in the tab , there is 4 types of them.\n    return {\n\n      _createField: function(field) {\n        switch (field.data.type) {\n          case \"text\":\n            this._createTextField(field);\n            break;\n\n          case \"numeric\":\n            this._createNumericField(field);\n            break;\n\n          case \"select\":\n            this._createSelectField(field);\n            break;\n\n          case \"multiselect\":\n            this._createMultiSelectField(field);\n            break;\n\n          case \"boolean\":\n            this._createBooleanField(field);\n            break;\n\n          case \"multiplex\":\n            this._createMultiplexField(field);\n            break;\n        }\n      },\n\n      _createTextField: function(field) {\n        let id = field.id;\n        let that = this;\n        let input = this._createElement(\"<input>\").attr(\"id\", id)\n          .addClass(\"plate-setup-tab-input\");\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n        that.defaultWell[id] = null;\n\n        field.parseValue = function(v) {\n          if (v) {\n            v = String(v);\n          } else {\n            v = null;\n          }\n          return v;\n        };\n\n        field.getValue = function() {\n          return input.val().trim() || null;\n        };\n\n        field.setValue = function(v) {\n          input.val(v);\n        };\n\n        field.getText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          return v;\n        };\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n        };\n\n        field.parseText = field.parseValue;\n\n        input.on(\"input\", function() {\n          field.onChange();\n        });\n\n        field.input = input;\n      },\n\n      _createOpts: function(config) {\n        let opts = {\n          allowClear: true,\n          placeholder: \"select\",\n          minimumResultsForSearch: 10\n        };\n        let data_specified = false;\n\n        if (config.options) {\n          opts.data = config.options;\n          data_specified = true;\n        }\n        if (config.ajax) {\n          opts.ajax = ajax;\n          data_specified = true;\n        }\n        if (!data_specified) {\n          throw \"Must specify data or ajax\";\n        }\n        return opts;\n      },\n\n      _createSelectField: function(field) {\n        let id = field.id;\n        let that = this;\n        let input = this._createElement(\"<select/>\").attr(\"id\", id)\n          .addClass(\"plate-setup-tab-select-field\");\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n        that.defaultWell[id] = null;\n\n        let opts = that._createOpts(field.data);\n        let optMap = {};\n        opts.data.forEach(function(opt) {\n          optMap[String(opt.id)] = opt;\n        });\n\n        input.select2(opts);\n        select2fix(input);\n\n        field.parseValue = function(value) {\n          let v = value;\n\n          if (v === \"\") {\n            v = null;\n          }\n          if (v == null) {\n            return null;\n          }\n          v = String(v);\n          if (v in optMap) {\n            return optMap[v].id;\n          } else {\n            throw \"Invalid value \" + value + \" for select field \" + id;\n          }\n        };\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n        };\n\n        field.getValue = function() {\n          return field.parseValue(input.val());\n        };\n\n        field.setValue = function(v) {\n          input.val(v);\n          input.trigger(\"change.select2\")\n        };\n\n        field.getText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          return optMap[String(v)].text;\n        };\n\n        field.parseText = function(value) {\n          let v = value;\n\n          if (v === \"\") {\n            v = null;\n          }\n          if (v == null) {\n            return null;\n          }\n          v = String(v);\n          if (v in optMap) {\n            return optMap[v].text;\n          } else {\n            throw \"Invalid text value \" + value + \" for select field \" + id;\n          }\n        };\n\n        input.on(\"change\", function() {\n          field.onChange();\n        });\n\n        field.input = input;\n      },\n\n      _createMultiSelectField: function(field) {\n        let id = field.id;\n        let that = this;\n        let input = this._createElement(\"<select/>\").attr(\"id\", id)\n          .addClass(\"plate-setup-tab-multiselect-field\");\n        input.attr(\"multiple\", \"multiple\");\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n        that.defaultWell[id] = null;\n\n        let opts = that._createOpts(field.data);\n        opts.multiple = true;\n        let optMap = {};\n        opts.data.forEach(function(opt) {\n          optMap[String(opt.id)] = opt;\n        });\n        input.select2(opts);\n        select2fix(input);\n\n        field.disabled = function(bool) {\n          input.prop(\"disabled\", bool);\n        };\n\n        field._parseOne = function(val) {\n          val = String(val);\n          if (val in optMap) {\n            return optMap[val].id;\n          } else {\n            throw \"Invalid value \" + val + \" for multiselect field \" + id;\n          }\n        };\n\n        field._parseMany = function(vals) {\n          if (vals && vals.length) {\n            vals = vals.map(field._parseOne, this);\n          } else {\n            vals = null;\n          }\n          return vals;\n        };\n\n        field.parseValue = function(value) {\n          return field._parseMany(value);\n        };\n\n        field.getValue = function() {\n          return field._parseMany(input.val());\n        };\n\n        field.setValue = function(v) {\n          v = v || [];\n          input.val(v);\n          input.trigger(\"change.select2\");\n        };\n\n        field.getText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          if (v.length > 0) {\n            return v.map(v => optMap[String(v)].text).join(\"; \");\n          }\n          return \"\";\n        };\n\n        field.multiOnChange = function(added, removed) {\n          if (added) {\n            added = added.id;\n          }\n          if (removed) {\n            removed = removed.id;\n          }\n          let data = {};\n          data[field.id] = {\n            multi: true,\n            added: added,\n            removed: removed\n          };\n          that._addAllData(data);\n        };\n\n        field.parseText = function(value) {\n          let v = value;\n          if (v && v.length) {\n            v = v.map(function(opt) {\n              opt = String(opt);\n              if (opt in optMap) {\n                return optMap[opt].text;\n              } else {\n                throw \"Invalid text value \" + opt + \" for multiselect field \" + id;\n              }\n            });\n          } else {\n            v = null;\n          }\n          return v;\n        };\n\n        input.on(\"select2:select\", function (e) {\n          let v = field._parseOne(e.params.data.id);\n          v = {id: v};\n          field.multiOnChange(v, null);\n        });\n\n        input.on(\"select2:unselect\", function (e) {\n          let v = field._parseOne(e.params.data.id);\n          v = {id: v};\n          field.multiOnChange(null, v);\n        });\n\n        field.input = input;\n\n        that._createDeleteButton(field);\n      },\n\n      _createNumericField: function(field) {\n        let id = field.id;\n        let data = field.data;\n        let that = this;\n        let input = this._createElement(\"<input>\").addClass(\"plate-setup-tab-input\")\n          .attr(\"placeholder\", data.placeholder || \"\").attr(\"id\", id);\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n        that.defaultWell[id] = null;\n\n        // Adding unit\n        let units = data.units || [];\n        let defaultUnit = data.defaultUnit || null;\n        let unitInput = null;\n        if (defaultUnit) {\n          if (units.length) {\n            if (units.indexOf(defaultUnit) < 0) {\n              defaultUnit = units[0];\n            }\n          } else {\n            units = [defaultUnit];\n          }\n        } else {\n          if (units.length) {\n            defaultUnit = units[0];\n          }\n        }\n\n        if (units.length) {\n          field.units = units;\n          field.hasUnits = true;\n          field.defaultUnit = defaultUnit;\n          if (units.length === 1) {\n            let unitText = $(\"<div></div>\").addClass(\"plate-setup-tab-unit\");\n            unitText.text(defaultUnit);\n            field.root.find(\".plate-setup-tab-field-container\").append(unitText);\n          } else {\n            unitInput = this._createElement(\"<select/>\").attr(\"id\", id)\n              .addClass(\"plate-setup-tab-label-select-field\");\n\n            field.root.find(\".plate-setup-tab-field-container\").append(unitInput);\n\n            let selected = null;\n            let unitData = units.map(function(unit) {\n              let o = {\n                id: unit,\n                text: unit\n              };\n              if (unit === defaultUnit) {\n                selected = unit;\n              }\n              return o;\n            });\n\n            let opts = {\n              data: unitData,\n              allowClear: false,\n              minimumResultsForSearch: 10\n            };\n\n            unitInput.select2(opts);\n            unitInput.val(selected);\n          }\n        }\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n          if (unitInput) {\n            unitInput.prop(\"disabled\", bool);\n          }\n        };\n\n        field.setUnitOpts = function(opts) {\n          field.units = opts || null;\n          field.defaultUnit = null;\n\n          let newUnits = [];\n          let selected = null;\n          if (field.units && field.units.length) {\n            field.defaultUnit = field.units[0];\n            newUnits = field.units.map(function(curUnit) {\n              let cleanUnit = {\n                id: curUnit,\n                text: curUnit\n              };\n              if (curUnit === field.defaultUnit) {\n                selected = curUnit;\n              }\n              return cleanUnit;\n            });\n          }\n\n          select2setData(unitInput, newUnits, selected);\n        };\n\n        field.parseValue = function(value) {\n          let v;\n          if ($.isPlainObject(value)) {\n            if (field.hasUnits) {\n              v = field.parseRegularValue(value.value);\n              if (v === null) {\n                return null;\n              }\n              return {\n                value: v,\n                unit: field.parseUnit(value.unit)\n              };\n            } else {\n              throw \"Value must be plain numeric for numeric field \" + id;\n            }\n          } else {\n            if (field.hasUnits) {\n              v = field.parseRegularValue(value);\n              if (v === null) {\n                return null;\n              }\n              return {\n                value: v,\n                unit: field.defaultUnit\n              };\n            } else {\n              return field.parseRegularValue(value);\n            }\n          }\n        };\n\n        field.getValue = function() {\n          let v = field.getRegularValue();\n\n          if ((v === null) || isNaN(v)) {\n            return null;\n          } else if (field.hasUnits) {\n            let returnVal = {\n              value: v,\n              unit: field.getUnit()\n            };\n\n            if (field.data.hasMultiplexUnit) {\n              // include unitTypeId and UnitId to returnVal\n              let unitMap = field.data.unitMap;\n              for (let unitTypeKey in unitMap) {\n                if (!unitMap.hasOwnProperty(unitTypeKey)) {\n                  continue;\n                }\n                let unitTypeUnits = unitMap[unitTypeKey];\n                unitTypeUnits.forEach(function(unit) {\n                  if (unit.text === returnVal.unit) {\n                    returnVal['unitTypeId'] = unitTypeKey;\n                    returnVal['unitId'] = unit.id;\n                  }\n                })\n              }\n            }\n            return returnVal;\n          } else {\n            return v;\n          }\n        };\n\n        field.setValue = function(value) {\n          if (field.hasUnits) {\n            if ($.isPlainObject(value)) {\n              field.setUnit(value.unit || field.defaultUnit);\n              field.setRegularValue(value.value);\n\n            } else {\n              field.setRegularValue(value);\n              field.setUnit(field.defaultUnit)\n            }\n          } else {\n            field.setRegularValue(value);\n          }\n        };\n\n        field.parseRegularValue = function(value) {\n          if (value == null) {\n            return null;\n          }\n          let v = String(value).trim();\n          if (v === \"\") {\n            return null;\n          }\n          v = Number(value);\n          if (isNaN(v)) {\n            throw \"Invalid value \" + value + \" for numeric field \" + id;\n          }\n          return v;\n        };\n\n        field.getRegularValue = function() {\n          let v = input.val().trim();\n          if (v === \"\") {\n            v = null;\n          } else {\n            v = Number(v);\n          }\n          return v;\n        };\n\n        field.setRegularValue = function(value) {\n          input.val(value);\n        };\n\n        field.parseUnit = function(unit) {\n          if (unit == null || unit === \"\") {\n            return field.defaultUnit;\n          }\n          for (let i = 0; i < units.length; i++) {\n            if (unit.toLowerCase() === units[i].toLowerCase()) {\n              return units[i];\n            }\n          }\n          throw \"Invalid unit \" + unit + \" for field \" + id;\n        };\n\n        field.getUnit = function() {\n          if (unitInput) {\n            return unitInput.val();\n          } else {\n            return field.defaultUnit;\n          }\n        };\n\n        field.setUnit = function(unit) {\n          if (unitInput) {\n            unit = unit || field.defaultUnit;\n            unitInput.val(unit);\n            unitInput.trigger(\"change.select2\");\n          }\n        };\n\n        // val now contains unit\n        field.getText = function(val) {\n          if (typeof (val) === 'object' && val) {\n            let v = val.value;\n            let u = val.unit;\n            if (v == null) {\n              return \"\";\n            }\n            v = v.toString();\n            if (!u) {\n              u = defaultUnit;\n            }\n            if (u) {\n              v = v + \" \" + u;\n            }\n            return v;\n          } else {\n            return field.getRegularText(val);\n          }\n        };\n\n        field.getRegularText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          v = v.toString();\n          return v;\n        };\n\n        field.parseText = function(v) {\n          let textVal = field.parseValue(v);\n          if (textVal && typeof (textVal) === \"object\") {\n            return textVal.value + textVal.unit;\n          } else if (textVal) {\n            return textVal\n          } else {\n            return null;\n          }\n        };\n\n        input.on(\"input\", function() {\n          let v = field.getRegularValue();\n          if (isNaN(v)) {\n            //flag field as invalid\n            input.addClass(\"invalid\");\n          } else {\n            input.removeClass(\"invalid\");\n          }\n          field.onChange();\n        });\n        if (unitInput) {\n          unitInput.on(\"change\", function() {\n            field.onChange();\n          });\n        }\n\n        field.input = input;\n        field.unitInput = unitInput;\n      },\n\n      _createBooleanField: function(field) {\n        let id = field.id;\n        let that = this;\n        let input = this._createElement(\"<select/>\").attr(\"id\", id)\n          .addClass(\"plate-setup-tab-select-field\");\n        that.defaultWell[id] = null;\n\n        field.root.find(\".plate-setup-tab-field-container\").append(input);\n        let tval = {\n          id: \"true\",\n          text: \"true\"\n        };\n        let fval = {\n          id: \"false\",\n          text: \"false\"\n        };\n        let opts = {\n          data: [tval, fval],\n          placeholder: \"select\",\n          allowClear: true,\n          minimumResultsForSearch: -1\n        };\n\n        input.select2(opts);\n        select2fix(input);\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n        };\n\n        field.parseValue = function(value) {\n          if (value == null) {\n            return null;\n          }\n          let v = String(value).trim().toLowerCase();\n          if (v === \"true\") {\n            v = true;\n          } else if (v === \"false\") {\n            v = false;\n          } else if (v === \"\") {\n            v = null;\n          } else {\n            throw \"Invalid value \" + value + \" for boolean field \" + id;\n          }\n          return v;\n        };\n\n        field.getValue = function() {\n          let v = input.val();\n          switch (v) {\n            case \"true\":\n              return true;\n            case \"false\":\n              return false;\n            default:\n              return null;\n          }\n        };\n\n        field.setValue = function(v) {\n          if (v === 1 || v === true || v === \"true\") {\n            v = \"true\";\n          } else if (v === 0 || v === false || v === \"false\") {\n            v = \"false\";\n          } else {\n            v = null;\n          }\n          input.val(v);\n          input.trigger(\"change.select2\");\n        };\n\n        field.getText = function(v) {\n          if (v == null) {\n            return \"\";\n          }\n          return v.toString();\n        };\n\n        field.parseText = field.parseValue;\n\n        input.on(\"change\", function() {\n          field.onChange();\n        });\n\n        field.input = input;\n      },\n\n      _createMultiplexField: function(field) {\n        let that = this;\n        // make correct multiplex data\n        this._createMultiSelectField(field);\n        // overwrite default well for multiplex field\n        that.defaultWell[field.id] = [];\n\n        // single select\n        let nameContainer1 = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-name-singleSelect\").text(\"Select to edit\");\n        let fieldContainer1 = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab-field-container-singleSelect\");\n        field.root.find(\".plate-setup-tab-field-right-side\").append(nameContainer1, fieldContainer1);\n\n        field.singleSelect = this._createElement(\"<select/>\").attr(\"id\", field.id + \"SingleSelect\")\n          .addClass(\"plate-setup-tab-multiplex-single-select-field\");\n\n        field.singleSelect.appendTo(fieldContainer1);\n        let opts = {\n          allowClear: false,\n          placeholder: \"select\",\n          minimumResultsForSearch: 10,\n          data: []\n        };\n        field.singleSelect.select2(opts);\n        select2fix(field.singleSelect);\n\n        let multiselectSetValue = field.setValue;\n\n        field.singleSelectValue = function() {\n          let v = field.singleSelect.val();\n          if (v === \"\") {\n            return null;\n          }\n          if (v == null) {\n            return null;\n          }\n          return field._parseOne(v)\n        };\n\n        let setSingleSelectOptions = function(data, selected) {\n          data = data || [];\n\n          if (!selected) {\n            if (data.length) {\n              selected = data[0].id;\n            } else {\n              selected = null;\n            }\n          }\n          select2setData(field.singleSelect, data, selected);\n          field.singleSelect.prop(\"disabled\", data.length === 0);\n          field.singleSelect.trigger(\"change.select2\");\n        };\n\n        let singleSelectChange = function() {\n          let v = field.singleSelectValue();\n\n          field.updateSubFieldUnitOpts(v);\n\n          let curData = field.detailData || [];\n          let curSubField = null;\n          curData.forEach(function(val) {\n            if (val[field.id] === v) {\n              curSubField = val;\n            }\n          });\n\n          if (curSubField) {\n            // setvalue for subfield\n            field.subFieldList.forEach(function(subField) {\n              subField.disabled(false);\n              subField.setValue(curSubField[subField.id]);\n            });\n          } else {\n            field.subFieldList.forEach(function(subField) {\n              subField.disabled(true);\n              subField.setValue(null);\n            });\n          }\n          that.readOnlyHandler();\n        };\n\n        setSingleSelectOptions([]);\n        field.singleSelect.on(\"change.select2\", singleSelectChange);\n\n        field._changeMultiFieldValue = function(added, removed) {\n          let newSubFieldValue = {};\n          for (let subFieldName in field.data.multiplexFields) {\n            if (field.data.multiplexFields.hasOwnProperty(subFieldName)) {\n              let subFieldId = field.data.multiplexFields[subFieldName].id;\n              newSubFieldValue[subFieldId] = null;\n            }\n          }\n\n          let val;\n          if (added) {\n            if (added.value) {\n              val = added.value;\n            } else {\n              newSubFieldValue[field.id] = added.id;\n              val = newSubFieldValue;\n            }\n            added = {\n              id: added.id,\n              value: val\n            };\n          }\n\n          if (removed) {\n            if (removed.value) {\n              val = removed.value;\n            } else {\n              newSubFieldValue[field.id] = removed.id;\n              val = newSubFieldValue;\n            }\n            removed = {\n              id: removed.id,\n              value: val\n            };\n          }\n\n          let data = {};\n          data[field.id] = {\n            multi: true,\n            added: added,\n            removed: removed\n          };\n          that._addAllData(data);\n        };\n\n        // overwrite multiplex set value\n        field.setValue = function(v) {\n          // used to keep track of initially loaded multiplex data\n          field.detailData = v;\n          let multiselectValues = null;\n          if (v && v.length) {\n            multiselectValues = v.map(val => val[field.id]);\n          }\n\n          multiselectSetValue(multiselectValues);\n          let newOptions = field.input.select2('data') || [];\n          setSingleSelectOptions(newOptions);\n          singleSelectChange();\n        };\n\n        field.disabled = function(bool) {\n          field.input.prop(\"disabled\", bool);\n          field.subFieldList.forEach(function(subField) {\n            subField.disabled(bool);\n          });\n          if (bool) {\n            nameContainer1.text(\"Select to inspect\");\n          } else {\n            nameContainer1.text(\"Select to edit\");\n          }\n        };\n\n        field.parseValue = function(value) {\n          let v = value;\n          if (v && v.length) {\n            v = v.map(function(opt) {\n              let valMap = {};\n              valMap[field.id] = opt[field.id];\n              for (let subFieldId in opt) {\n                if (opt.hasOwnProperty(subFieldId)) {\n                  field.subFieldList.forEach(function(subField) {\n                    if (subField.id === subFieldId) {\n                      valMap[subField.id] = subField.parseValue(opt[subFieldId]);\n                    }\n                  });\n                }\n              }\n              return valMap;\n            });\n          } else {\n            v = null;\n          }\n          return v;\n        };\n\n        field.updateSubFieldUnitOpts = function(val) {\n          let curOpts;\n          field.data.options.forEach(function(opt) {\n            if (opt.id === val) {\n              curOpts = opt;\n            }\n          });\n          field.subFieldList.forEach(function(subField) {\n            if (subField.data.hasMultiplexUnit) {\n              if (curOpts && curOpts.hasOwnProperty(\"unitOptions\")) {\n                subField.setUnitOpts(curOpts.unitOptions[subField.id]);\n              } else {\n                subField.setUnitOpts(null);\n              }\n            }\n          })\n        };\n\n        field.multiOnChange = function(added, removed) {\n          field._changeMultiFieldValue(added, removed);\n          let v = field.getValue();\n          let curData = field.detailData;\n          let curIds = [];\n          let curOpt = null;\n          //reshape data for saveback\n          if (curData) {\n            curIds = curData.map(val => val[field.id]);\n          }\n\n          let newMultiplexVal = [];\n          let selectList = [];\n          if (v) {\n            v.forEach(function(selectedVal) {\n              if (curData) {\n                curData.forEach(function(val) {\n                  if (val[field.id] === selectedVal) {\n                    newMultiplexVal.push(val)\n                  }\n                });\n              }\n              // cases when adding new data\n              if (curIds.indexOf(selectedVal) < 0) {\n                let newVal = {};\n                newVal[field.id] = selectedVal;\n\n                field.updateSubFieldUnitOpts(selectedVal);\n                field.subFieldList.forEach(function(subfield) {\n                  // special handling for subfield which has multiplexUnit\n                  if (subfield.hasUnits) {\n                    if (subfield.data.hasMultiplexUnit) {\n                      subfield.disabled(false);\n                      field.data.options.forEach(function(opt) {\n                        if (opt.id === selectedVal) {\n                          let val = {\n                            value: null,\n                            unit: subfield.units[0]\n                          };\n                          newVal[subfield.id] = subfield.parseValue(val);\n                        }\n                      });\n                    } else {\n                      if (subfield.data.units) {\n                        if (subfield.data.units.length > 1) {\n                          subfield.disabled(false);\n                        }\n                      }\n                      let val = {\n                        value: null,\n                        unit: subfield.defaultUnit\n                      };\n                      newVal[subfield.id] = subfield.parseValue(val);\n                    }\n                  } else {\n                    newVal[subfield.id] = subfield.parseValue(null);\n                  }\n                });\n                newMultiplexVal.push(newVal);\n              }\n            });\n\n            // make data for single select options\n            v.forEach(function(selectVal) {\n              field.data.options.forEach(function(opt) {\n                if (opt.id === selectVal) {\n                  selectList.push(opt);\n                }\n              });\n            });\n\n            let selected = field.singleSelectValue();\n            for (let i = 0; i < v.length; i++) {\n              if (added && (added.id === v[i])) {\n                curOpt = v[i];\n                break;\n              } else if (i === 0) {\n                curOpt = v[i];\n              } else if (v[i] === selected) {\n                curOpt = v[i];\n              }\n            }\n          }\n\n          field.detailData = newMultiplexVal;\n          setSingleSelectOptions(selectList, curOpt);\n          singleSelectChange();\n        };\n\n        field.getText = function(v) {\n          if (v === null) {\n            return \"\";\n          }\n          // get subfields that is selected from the checkbox\n          if (field.id in that.globalSelectedMultiplexSubfield) {\n            let checkedSubfields = that.globalSelectedMultiplexSubfield[field.id];\n            let returnVal = [];\n            for (let valIdx in v) {\n              if (!v.hasOwnProperty(valIdx)) {\n                continue;\n              }\n              let subV = v[valIdx];\n              let subText = [];\n              for (let optId in field.data.options) {\n                if (field.data.options.hasOwnProperty(optId)) {\n                  let opt = field.data.options[optId];\n                  if (opt.id === subV[field.id]) {\n                    subText.push(opt.text);\n                  }\n                }\n              }\n              field.subFieldList.forEach(function(subField) {\n                if (checkedSubfields.indexOf(subField.id) >= 0) {\n                  let x = subField.getText(subV[subField.id]);\n                  subText.push(subField.name + \": \" + x);\n                }\n              });\n              returnVal.push(\"{\" + subText.join(\", \") + \"}\");\n            }\n            return returnVal.join(\";\");\n          }\n        };\n\n        field.parseText = function(v) {\n          if (v === null) {\n            return \"\";\n          } else {\n            let returnVal = [];\n            for (let valIdx in v) {\n              if (!v.hasOwnProperty(valIdx)) {\n                continue;\n              }\n              let subV = v[valIdx];\n              let subText = [];\n              for (let optId in field.data.options) {\n                if (field.data.options.hasOwnProperty(optId)) {\n                  let opt = field.data.options[optId];\n                  if (opt.id === subV[field.id]) {\n                    subText.push(opt.text);\n                  }\n                }\n              }\n              field.subFieldList.forEach(function(subField) {\n                let x = subField.getText(subV[subField.id]);\n                if (x) {\n                  subText.push(x);\n                }\n              });\n              returnVal.push(subText);\n            }\n            return returnVal;\n          }\n        };\n\n        field.checkMultiplexCompletion = function(valList) {\n          let valCount = 0;\n          let completionPct = 0;\n          let include = false;\n\n          function getSubfieldStatus(vals) {\n            let req = 0;\n            let fill = 0;\n            for (let subFieldId in field.subFieldList) {\n              if (!field.subFieldList.hasOwnProperty(subFieldId)) {\n                continue;\n              }\n              let subField = field.subFieldList[subFieldId];\n              let curVal = vals[subField.id];\n              if (subField.required) {\n                include = true;\n                req++;\n                if (typeof curVal === 'object' && curVal) {\n                  if (curVal.value) {\n                    fill++;\n                  }\n                } else if (curVal) {\n                  fill++;\n                }\n              }\n            }\n            return fill / req;\n          }\n\n          // for cases has value in multiplex field\n          if (valList) {\n            if (valList.length > 0) {\n              for (let idx in valList) {\n                if (valList.hasOwnProperty(idx)) {\n                  valCount++;\n                  let vals = valList[idx];\n                  completionPct += getSubfieldStatus(vals);\n                }\n              }\n            } else if (field.required) {\n              include = true;\n              valCount = 1;\n            }\n          } else if (field.required) {\n            include = true;\n            valCount = 1;\n          }\n\n          return {\n            include: include,\n            completionPct: completionPct / valCount\n          };\n        };\n\n        // valList contains all of the vals for selected val\n        field.applyMultiplexSubFieldColor = function(valList) {\n          function updateSubFieldWarningMap(vals) {\n            for (let subFieldId in field.subFieldList) {\n              if (!field.subFieldList.hasOwnProperty(subFieldId)) {\n                continue;\n              }\n              let subField = field.subFieldList[subFieldId];\n              // loop through each well's multiplexval list\n              if (vals === null) {\n                if (field.required && subField.required) {\n                  subFieldWarningMap[subField.id].warningStatus.push(true);\n                }\n              } else if (typeof (vals) === \"object\") {\n                if (vals.length === 0) {\n                  if (field.required && subField.required) {\n                    subFieldWarningMap[subField.id].warningStatus.push(true);\n                  }\n                } else {\n                  for (let multiplexIdx in vals) {\n                    if (!vals.hasOwnProperty(multiplexIdx)) {\n                      continue;\n                    }\n                    let curVal = vals[multiplexIdx][subField.id];\n                    if (subField.required) {\n                      if (typeof (curVal) === 'object' && curVal) {\n                        if (!curVal.value) {\n                          subFieldWarningMap[subField.id].warningStatus.push(true);\n                        } else {\n                          subFieldWarningMap[subField.id].warningStatus.push(false);\n                        }\n                      } else if (!curVal) {\n                        subFieldWarningMap[subField.id].warningStatus.push(true);\n                      } else {\n                        subFieldWarningMap[subField.id].warningStatus.push(false);\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n          let subFieldWarningMap = {};\n          field.subFieldList.forEach(function(subField) {\n            if (subField.required) {\n              subFieldWarningMap[subField.id] = {\n                field: subField,\n                warningStatus: []\n              };\n            }\n          });\n\n          valList.forEach(function(multiplexVals) {\n            updateSubFieldWarningMap(multiplexVals);\n          });\n          // turn off main field when all subfield are filled\n\n          let mainFieldStatus = [];\n          for (let subFieldId in subFieldWarningMap) {\n            if (!subFieldWarningMap.hasOwnProperty(subFieldId)) {\n              continue;\n            }\n            let subField = subFieldWarningMap[subFieldId].field;\n            if (subFieldWarningMap[subFieldId].warningStatus.indexOf(true) >= 0) {\n              let text = subField.name + \" is a required subfield for \" + field.name + \", please make sure all \" + field.name + \" have \" + subField.name;\n              if (field.required) {\n                that.fieldWarningMsg(subField, text, true);\n                mainFieldStatus.push(true);\n              } else {\n                that.fieldWarningMsg(subField, text, true);\n                mainFieldStatus.push(true);\n              }\n            } else {\n              that.fieldWarningMsg(subField, \"none\", false);\n              mainFieldStatus.push(false);\n            }\n          }\n          let mainFieldWarning = mainFieldStatus.indexOf(true) >= 0;\n          let warningText;\n          if (field.required) {\n            warningText = field.name + \" is a required field, please also fix missing required subfield(s) below\";\n          } else {\n            warningText = field.name + \" is not a required field, please fix missing required subfield(s) below or remove selected \" + field.name;\n          }\n          that.fieldWarningMsg(field, warningText, mainFieldWarning);\n        };\n\n        field.parseMainFieldVal = function(val) {\n          let optMap = field.data.options;\n          for (let idx = 0; idx < optMap.length; idx++) {\n            let curOpt = optMap[idx];\n            if (curOpt.id === val) {\n              return curOpt.text\n            }\n          }\n        };\n      },\n\n      _deleteDialog: function(field) {\n        let that = this;\n\n        let valMap = field.allSelectedMultipleVal;\n        let valToRemove;\n        if (valMap) {\n          valToRemove = Object.keys(valMap);\n        } else {\n          valToRemove = [];\n        }\n\n\n        let dialogDiv = $(\"<div/>\").addClass(\"plate-modal\");\n        this.container.append(dialogDiv);\n\n        function killDialog() {\n          dialogDiv.hide();\n          dialogDiv.remove();\n        }\n\n        let dialogContent = $(\"<div/>\").addClass(\"plate-modal-content\").css('width', '550px').appendTo(dialogDiv);\n        let tableArea = $(\"<div/>\").appendTo(dialogContent);\n        let buttonRow = $(\"<div/>\").addClass(\"dialog-buttons\").css(\"justify-content\", \"flex-end\").appendTo(dialogContent);\n\n        if (valToRemove.length > 0) {\n          // apply CSS property for table\n          $(\"<p/>\").text(field.name + \" in selected wells: choose items to delete and click the delete button below\").appendTo(tableArea);\n\n          let table = that._deleteDialogTable(field, valMap);\n          table.appendTo(tableArea);\n          table.addClass(\"plate-popout-table\");\n          table.find('td').addClass(\"plate-popout-td\");\n          table.find('th').addClass(\"plate-popout-th\");\n          table.find('tr').addClass(\"plate-popout-tr\");\n          if (!that.readOnly) {\n            let deleteCheckedButton = $(\"<button class='multiple-field-manage-delete-button'>Delete Checked Items</button>\");\n            buttonRow.append(deleteCheckedButton);\n            deleteCheckedButton.click(function() {\n              table.find(\"input:checked\").each(function() {\n                let val = this.value;\n                field.multiOnChange(null, {id: val});\n              });\n              // refresh selected fields after updating the multiplex field value\n              that.decideSelectedFields();\n              killDialog();\n            });\n          }\n\n        } else {\n          $(\"<p/>\").text(\"No \" + field.name + \" in the selected wells\").appendTo(tableArea);\n        }\n\n        let cancelButton = $(\"<button>Cancel</button>\");\n        buttonRow.append(cancelButton);\n        cancelButton.click(killDialog);\n\n        dialogDiv.show();\n\n        window.onclick = function(event) {\n          if (event.target === dialogDiv[0]) {\n            killDialog();\n          }\n        }\n      },\n\n      _deleteDialogTable: function(field, valMap) {\n        let that = this;\n        let colName = [field.name, \"Counts\"]; //Added because it was missing... no idea what the original should have been\n        if (!that.readOnly) {\n          colName.push(\"Delete\");\n        }\n        let table = $('<table/>');\n        let thead = $('<thead/>').appendTo(table);\n        let tr = $('<tr/>').appendTo(thead);\n\n        tr.append(colName.map(function(text) {\n          return $('<th/>').text(text);\n        }));\n\n        let tbody = $(\"<tbody/>\").appendTo(table);\n\n        field.data.options.forEach(function(opt) {\n          if (opt.id in valMap) {\n            let tr = $('<tr/>').appendTo(tbody);\n            let checkbox = $(\"<input type='checkbox'>\").prop(\"value\", opt.id);\n            $(\"<td/>\").text(opt.text).appendTo(tr);\n            $(\"<td/>\").text(valMap[opt.id]).appendTo(tr);\n            if (!that.readOnly) {\n              $(\"<td/>\").append(checkbox).appendTo(tr);\n            }\n          }\n        });\n\n        return table;\n      },\n\n      _createDeleteButton: function(field) {\n        let that = this;\n        let deleteButton = $(\"<button/>\").addClass(\"plate-setup-remove-all-button\");\n        deleteButton.id = field.id + \"Delete\";\n        deleteButton.text(\"Manage \" + field.name + \"...\");\n        let buttonContainer = that._createElement(\"<div></div>\").addClass(\"plate-setup-remove-all-button-container\");\n        buttonContainer.append(deleteButton);\n\n        field.deleteButton = deleteButton;\n        field.root.find(\".plate-setup-tab-field-right-side\").append(buttonContainer);\n\n        deleteButton.click(function() {\n          that._deleteDialog(field);\n        });\n      }\n\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.engine = function(THIS) {\n    // Methods which look after data changes and stack up accordingly\n    // Remember THIS points to plateMapWidget and 'this' points to engine\n    // Use THIS to refer parent this.\n    return {\n      engine: {\n\n        derivative: {},\n        colorMap: new Map(),\n        stackUpWithColor: {},\n        stackPointer: 2,\n\n        wellEmpty: function(well) {\n          for (let prop in well) {\n            if (!well.hasOwnProperty(prop)) {\n              continue;\n            }\n            let curVal = well[prop];\n            if (curVal !== null && curVal !== undefined) {\n              if (Array.isArray(curVal)) {\n                if (curVal.length > 0) {\n                  return false;\n                }\n              } else {\n                return false;\n              }\n            }\n          }\n          return true;\n        },\n\n        searchAndStack: function() {\n          // This method search and stack the change we made.\n          this.stackUpWithColor = {};\n          this.stackPointer = 1;\n          let derivativeJson = {};\n          for (let idx in this.derivative) {\n            if (!this.derivative.hasOwnProperty(idx)) {\n              continue;\n            }\n            let data = this.derivative[idx];\n            let wellData = {};\n            for (let i = 0; i < THIS.globalSelectedAttributes.length; i++) {\n              let attr = THIS.globalSelectedAttributes[i];\n\n              if (attr in THIS.globalSelectedMultiplexSubfield) {\n                let selectedSubFields = THIS.globalSelectedMultiplexSubfield[attr];\n                let newMultiplexVal = [];\n                for (let multiplexIdx in data[attr]) {\n                  if (!data[attr].hasOwnProperty(multiplexIdx)) {\n                    continue;\n                  }\n                  let curMultiplexVals = data[attr][multiplexIdx];\n                  let newVal = {};\n                  newVal[attr] = curMultiplexVals[attr];\n                  selectedSubFields.forEach(function(subFieldId) {\n                    newVal[subFieldId] = curMultiplexVals[subFieldId];\n                  });\n                  newMultiplexVal.push(newVal);\n                }\n                wellData[attr] = newMultiplexVal;\n              } else {\n                if (data[attr] != null) {\n                  wellData[attr] = data[attr];\n                }\n              }\n            }\n            if ($.isEmptyObject(wellData)) {\n              derivativeJson[idx] = null;\n            } else {\n              derivativeJson[idx] = JSON.stringify(wellData);\n            }\n          }\n\n          while (!$.isEmptyObject(derivativeJson)) {\n            let keys = Object.keys(derivativeJson).map(parseFloat);\n            keys.sort(function(a, b) {\n              return a - b;\n            });\n\n            let refDerivativeIndex = keys[0];\n            let referenceDerivative = derivativeJson[refDerivativeIndex];\n            let arr = [];\n\n            if (!referenceDerivative) {\n              // if no checked box has value, push it to first spot\n              if (this.stackUpWithColor[0]) {\n                this.stackUpWithColor[0].push(refDerivativeIndex);\n              } else {\n                this.stackUpWithColor[0] = [refDerivativeIndex];\n              }\n\n              delete derivativeJson[refDerivativeIndex];\n            } else {\n              // if checked boxes have values\n              for (let i = 0; i < keys.length; i++) {\n                let idx = keys[i];\n                if (referenceDerivative === derivativeJson[idx]) {\n                  arr.push(idx);\n                  this.stackUpWithColor[this.stackPointer] = arr;\n                  delete derivativeJson[idx];\n                }\n              }\n              if (arr.length > 0)\n                this.stackPointer++;\n            }\n          }\n        },\n\n        applyColors: function() {\n\n          let wholeNoTiles = 0;\n          let wholePercentage = 0;\n\n          THIS.addBottomTableHeadings();\n\n          for (let i = 0; i < THIS.allTiles.length; i++) {\n            let tile = THIS.allTiles[i];\n            THIS.setTileVisible(tile, false);\n          }\n\n          for (let color = 0; color < this.stackPointer; color++) {\n            let arr = this.stackUpWithColor[color];\n            if (arr) {\n              THIS.addBottomTableRow(color, arr);\n\n              for (let i = 0; i < arr.length; i++) {\n                wholeNoTiles++;\n                let index = this.stackUpWithColor[color][i];\n                let tile = THIS.allTiles[index];\n                let well = this.derivative[index];\n                this.colorMap.set(index, color);\n                THIS.setTileColor(tile, color);\n                // Checks if all the required fields are filled\n                let completion = this.checkCompletion(well, tile);\n                THIS.setTileComplete(tile, completion === 1);\n                wholePercentage = wholePercentage + completion;\n              }\n            }\n          }\n\n          wholePercentage = Math.floor(100 * wholePercentage / wholeNoTiles);\n\n          if (isNaN(wholePercentage)) {\n            THIS.overLayTextContainer.text(\"Completion Percentage: 0%\");\n          } else {\n            THIS.overLayTextContainer.text(\"Completion Percentage: \" + wholePercentage + \"%\");\n          }\n          THIS.selectObjectInBottomTab();\n        },\n\n        checkCompletion: function(wellData) {\n          let req = 0;\n          let fill = 0;\n          for (let i = 0; i < THIS.fieldList.length; i++) {\n            let field = THIS.fieldList[i];\n            if (field.checkMultiplexCompletion) {\n              // also apply color\n              let multiplexStatus = field.checkMultiplexCompletion(wellData[field.id]);\n              if (multiplexStatus.include) {\n                fill += multiplexStatus.completionPct;\n                req++;\n              }\n            } else {\n              if (field.required) {\n                req++;\n                if (wellData[field.id] !== null) {\n                  fill++;\n                }\n              }\n            }\n          }\n          if (req === fill) {\n            return 1;\n          }\n          return fill / req;\n        },\n      }\n    }\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\nplateMapWidget.assets = function() {\n  return {\n    _assets: {\n      doImg: '&#10003;',\n      dontImg: '',\n      warningImg: '&#9888;'\n    }\n  };\n};\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.interface = function() {\n    // interface holds all the methods to put the interface in place\n    return {\n\n      _createInterface: function() {\n\n        let divIdentifier = '<div></div>';\n        this.container = this._createElement(divIdentifier).addClass(\"plate-setup-wrapper\");\n        this.topSection = this._createElement(divIdentifier).addClass(\"plate-setup-top-section\");\n\n        this.topLeft = this._createElement(divIdentifier).addClass(\"plate-setup-top-left\");\n        this.topRight = this._createElement(divIdentifier).addClass(\"plate-setup-top-right\");\n\n        this.overLayContainer = this._createElement(divIdentifier).addClass(\"plate-setup-overlay-container\");\n        this.canvasContainer = this._createElement(divIdentifier).addClass(\"plate-setup-canvas-container\");\n\n        this._createOverLay();\n        $(this.topLeft).append(this.overLayContainer);\n        $(this.topLeft).append(this.canvasContainer);\n\n        $(this.topSection).append(this.topLeft);\n        $(this.topSection).append(this.topRight);\n\n        $(this.container).append(this.topSection);\n        $(this.element).append(this.container);\n\n        this._createSvg();\n\n        this._createTabAtRight();\n        this._createTabs();\n\n        this._placePresetTabs();\n        // Bottom of the screen\n        this._bottomScreen();\n\n        this.bottomForFirstTime();\n\n        let that = this;\n        this._setShortcuts();\n        $(document.body).keyup(function(e) {\n          that._handleShortcuts(e);\n        });\n\n        this._configureUndoRedoArray();\n      },\n\n      _createElement: function(element) {\n        return $(element);\n      },\n\n      _setShortcuts: function() {\n        let that = this;\n        window.addEventListener(\"cut\", function(e) {\n          if (document.activeElement === document.body) {\n            that.copyCriteria();\n            that.clearCriteria();\n            e.preventDefault();\n          }\n        });\n        window.addEventListener(\"copy\", function(e) {\n          if (document.activeElement === document.body) {\n            that.copyCriteria();\n            e.preventDefault();\n          }\n        });\n        window.addEventListener(\"paste\", function(e) {\n          if (document.activeElement === document.body) {\n            that.pasteCriteria();\n            e.preventDefault();\n          }\n        });\n      },\n\n      _handleShortcuts: function(e) {\n        if (document.activeElement === document.body) {\n          if (e.keyCode === 46) {\n            this.clearCriteria();\n            e.preventDefault();\n          } else if (e.ctrlKey || e.metaKey) {\n            if (e.keyCode === 90) {\n              if (e.shiftKey) {\n                this.redo();\n              } else {\n                this.undo();\n              }\n              e.preventDefault();\n            } else if (e.keyCode === 89) {\n              this.redo();\n              e.preventDefault();\n            }\n          }\n        }\n      },\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\nplateMapWidget.loadPlate = function() {\n  // Methods which look after data changes and stack up accordingly\n  // Remember THIS points to plateMapWidget and 'this' points to engine\n  return {\n\n    loadPlate: function(data) {\n      //sanitize input\n      let derivative;\n      if (data.hasOwnProperty('wells')) {\n        derivative = {};\n        for (let address in data.wells) {\n          let well = data.wells[address];\n          let index = this.addressToIndex(address);\n          derivative[index] = this.sanitizeWell(well);\n        }\n      } else {\n        derivative = this.derivative;\n      }\n\n      let checkboxes;\n      if (data.hasOwnProperty('checkboxes')) {\n        checkboxes = this.sanitizeCheckboxes(data.checkboxes);\n      } else {\n        checkboxes = this.getCheckboxes();\n      }\n\n      let indices;\n      if (data.hasOwnProperty('selectedAddresses')) {\n        indices = this.sanitizeAddresses(data.selectedAddresses);\n      } else {\n        indices = this.getSelectedIndices();\n      }\n      if (indices.length === 0) {\n        indices = [0];\n      }\n\n      let sanitized = {\n        \"derivative\": derivative,\n        \"checkboxes\": checkboxes,\n        \"selectedIndices\": indices,\n      };\n\n      this.setData(sanitized);\n    },\n\n    sanitizeCheckboxes: function(checkboxes) {\n      checkboxes = checkboxes || [];\n      return this.allCheckboxes.filter(fieldId => checkboxes.indexOf(fieldId) >= 0);\n    },\n\n    sanitizeAddresses: function(selectedAddresses) {\n      selectedAddresses = selectedAddresses || [];\n      let indices = selectedAddresses.map(this.addressToIndex, this);\n      indices.sort();\n      indices = indices.filter((index, i) => indices.indexOf(index) === i);\n      return indices;\n    },\n\n    sanitizeWell: function(well) {\n      let newWell = {};\n      this.fieldList.forEach(function (field) {\n        newWell[field.id] = field.parseValue(well[field.id]);\n      });\n      return newWell;\n    },\n\n    setData: function(data, quiet) {\n      this.engine.derivative = data.derivative;\n      this.setCheckboxes(data.checkboxes, true);\n      this.setSelectedIndices(data.selectedIndices, true);\n      this.derivativeChange();\n      if (!quiet) {\n        this.addToUndoRedo();\n      }\n    },\n\n  }\n};\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.overlay = function() {\n    // overlay holds all the methods to put the part just above the canvas which contains all those\n    // 'completion percentage' annd 'copy Criteria' button etc ...\n    return {\n\n      _createOverLay: function() {\n\n        let that = this;\n        this.overLayTextContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-overlay-text-container\");\n        this.overLayTextContainer.text(\"Completion Percentage:\");\n        this.overLayContainer.append(this.overLayTextContainer);\n        this.overLayButtonContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-overlay-button-container\");\n        this.overLayContainer.append(this.overLayButtonContainer);\n\n        this.clearCriteriaButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.clearCriteriaButton.text(\"Clear\");\n        this.overLayButtonContainer.append(this.clearCriteriaButton);\n\n        this.clearCriteriaButton.click(function() {\n          that.clearCriteria();\n        });\n\n        this.copyCriteriaButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.copyCriteriaButton.text(\"Copy\");\n        this.overLayButtonContainer.append(this.copyCriteriaButton);\n\n        this.copyCriteriaButton.click(function() {\n          that.copyCriteria();\n        });\n\n        this.pasteCriteriaButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.pasteCriteriaButton.text(\"Paste\");\n        this.overLayButtonContainer.append(this.pasteCriteriaButton);\n\n        this.pasteCriteriaButton.click(function() {\n          that.pasteCriteria();\n        });\n\n        this.undoButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.undoButton.text(\"Undo\");\n        this.overLayButtonContainer.append(this.undoButton);\n\n        this.undoButton.click(function() {\n          that.undo();\n        });\n\n        this.redoButton = this._createElement(\"<button />\").addClass(\"plate-setup-button\");\n        this.redoButton.text(\"Redo\");\n        this.overLayButtonContainer.append(this.redoButton);\n\n        this.redoButton.click(function() {\n          that.redo();\n        });\n\n      },\n\n      clearCriteria: function() {\n        if (this.selectedIndices && this.selectedIndices.length) {\n          let hasWellUpdate = false;\n          let selectedIndices = this.selectedIndices;\n          let well;\n          for (let i = 0; i < selectedIndices.length; i++) {\n            let index = selectedIndices[i];\n            if (index in this.engine.derivative) {\n              // handling for clearing well when not allowed to add or delete wells\n              if (this.disableAddDeleteWell) {\n                if (this.engine.derivative.hasOwnProperty(index)) {\n                  well = $.extend(true, {}, this.emptyWellWithDefaultVal);\n                  this.engine.derivative[index] = well;\n                }\n              } else {\n                delete this.engine.derivative[index];\n              }\n              hasWellUpdate = true;\n            }\n          }\n\n          if (hasWellUpdate) {\n            this._colorMixer();\n            this.decideSelectedFields();\n            this.derivativeChange();\n            this.addToUndoRedo();\n          }\n        } else {\n          alert(\"Please select any well\");\n        }\n      },\n\n      copyCriteria: function() {\n        if (this.selectedIndices && this.selectedIndices.length) {\n          let wells = this._getSelectedWells();\n          this.commonData = this._getCommonData(wells);\n        } else {\n          alert(\"Please select any well.\");\n        }\n      },\n\n      pasteCriteria: function() {\n        if (this.commonData) {\n          this._addAllData(this.commonData);\n          this.decideSelectedFields();\n        }\n      }\n    };\n  }\n})(jQuery);","$.widget(\"DNA.plateMap\", {\n\n  plateMapWidget: {},\n\n  options: {\n    value: 0\n  },\n\n  addressToLoc: function(address) {\n    let m = /^([A-Z]+)(\\d+)$/.exec(address.trim().toUpperCase());\n    if (m) {\n      let row_v = m[1];\n      let col = parseInt(m[2]) - 1;\n      let row = 0;\n      for (let i = 0; i < row_v.length; i++) {\n        let c = row_v.charCodeAt(i) - 65;\n        if (i) {\n          row += 1;\n          row *= 26;\n          row += c;\n        } else {\n          row = c;\n        }\n      }\n      return {\n        r: row,\n        c: col\n      };\n    } else {\n      throw address + \" not a proper plate address\";\n    }\n  },\n\n  locToIndex: function(loc, dimensions) {\n    if (!dimensions) {\n      dimensions = this.dimensions;\n    }\n    if (!(loc.r >= 0 && loc.r < dimensions.rows)) {\n      throw \"Row index \" + (loc.r + 1) + \" invalid\";\n    }\n    if (!(loc.c >= 0 && loc.c < dimensions.cols)) {\n      throw \"Column index \" + (loc.c + 1) + \" invalid\";\n    }\n    return loc.r * dimensions.cols + loc.c;\n  },\n\n  addressToIndex: function(address, dimensions) {\n    let loc = this.addressToLoc(address);\n    return this.locToIndex(loc, dimensions);\n  },\n\n  _rowKey: function(i) {\n    let c1 = i % 26;\n    let c2 = (i - c1) / 26;\n    let code = String.fromCharCode(65 + c1);\n    if (c2 > 0) {\n      code = String.fromCharCode(64 + c2) + code;\n    }\n    return code;\n  },\n\n  _colKey: function (i) {\n    return (i+1).toString(10);\n  },\n\n  indexToLoc: function(index, dimensions) {\n    if (!dimensions) {\n      dimensions = this.dimensions;\n    }\n\n    if (index >= dimensions.rows * dimensions.cols) {\n      throw \"Index too high: \" + index.toString(10);\n    }\n    let loc = {};\n    loc.c = index % dimensions.cols;\n    loc.r = (index - loc.c) / dimensions.cols;\n\n    return loc;\n  },\n\n  locToAddress: function(loc) {\n    return this._rowKey(loc.r) + this._colKey(loc.c);\n  },\n\n  indexToAddress: function(index, dimensions) {\n    let loc = this.indexToLoc(index, dimensions);\n    return this.locToAddress(loc);\n  },\n\n  getDimensions: function() {\n    return $.extend(true, {}, this.dimensions);\n  },\n\n  _create: function() {\n    let rows = parseInt(this.options.numRows || 8);\n    let cols = parseInt(this.options.numCols || 12);\n    this.dimensions = {\n      rows: rows,\n      cols: cols\n    };\n    this.rowIndex = [];\n    for (let i = 0; i < rows; i++) {\n      this.rowIndex.push(this._rowKey(i));\n    }\n\n    this.target = (this.element[0].id) ? \"#\" + this.element[0].id : \".\" + this.element[0].className;\n\n    // Import classes from other files.. Here we import it using extend and add it to this\n    // object. internally we add to widget.DNA.getPlates.prototype.\n    // Helpers are methods which return other methods and objects.\n    // add Objects to plateMapWidget and it will be added to this object.\n    // set read only well\n    if (this.options.readOnly) {\n      this.isReadOnly(true);\n    }\n\n    for (let component in plateMapWidget) {\n      if (plateMapWidget.hasOwnProperty(component)) {\n        // Incase some properties has to initialize with data from options hash,\n        // we provide it sending this object.\n        $.extend(this, new plateMapWidget[component](this));\n      }\n    }\n\n    this._createInterface();\n\n    this._trigger(\"created\", null, this);\n\n    return this;\n  },\n\n  _init: function() {\n    // This is invoked when the user use the plugin after _create is called.\n    // The point is _create is invoked for the very first time and for all other\n    // times _init is used.\n  },\n\n  // wellsData follows syntax: {A1:{field1: val1, field2: val2}, A2:{field1: val1, field2: val2}}\n  getTextDerivative: function(wellsData) {\n    let textDerivative = {};\n    let fieldMap = this.fieldMap;\n    for (let address in wellsData) {\n      if (!wellsData.hasOwnProperty(address)) {\n        continue;\n      }\n      let textValWell = {};\n      let textFieldIdWell = {};\n      let curWellData = wellsData[address];\n      for (let fieldId in curWellData) {\n        if (!curWellData.hasOwnProperty(fieldId)) {\n          continue;\n        }\n        if (fieldId in fieldMap) {\n          let field = fieldMap[fieldId];\n          let textVal = field.parseText(curWellData[fieldId]);\n          textFieldIdWell[field.name] = textVal;\n          textValWell[fieldId] = textVal;\n        } else {\n          // do not convert if not a field\n          textFieldIdWell[fieldId] = curWellData[fieldId];\n          textValWell[fieldId] = curWellData[fieldId];\n        }\n      }\n      textDerivative[address] = {\n        textVal: textValWell,\n        textFieldVal: textFieldIdWell\n      };\n    }\n\n    return textDerivative;\n  },\n\n  // wellsData follows syntax: {A1:{field1: val1, field2: val2}, A1:{field1: val1, field2: val2}}\n  getWellsDifferences: function(wellsHash) {\n    let wells = [];\n    for (let wellId in wellsHash) {\n      if (wellsHash.hasOwnProperty(wellId)) {\n        wells.push(wellsHash[wellId]);\n      }\n    }\n    let differentWellsVals = {};\n    if (wells.length > 1) {\n      let commonWell = this._getCommonWell(wells);\n      let allFieldVal = {};\n      for (let fieldIdx in wells[0]) {\n        if (wells[0].hasOwnProperty(fieldIdx)) {\n          allFieldVal[fieldIdx] = [];\n        }\n      }\n      for (let address in wellsHash) {\n        if (!wellsHash.hasOwnProperty(address)) {\n          continue;\n        }\n        let diffWellVal = {};\n        let curWellData = wellsHash[address];\n        for (let fieldId in curWellData) {\n          if (!curWellData.hasOwnProperty(fieldId)) {\n            continue;\n          }\n          let commonVal = commonWell[fieldId];\n          let curVal = curWellData[fieldId];\n          if (commonVal === undefined) {\n            commonVal = null;\n          }\n          if (curVal === undefined) {\n            curVal = null;\n          }\n          let newVal = null;\n          if (Array.isArray(curVal)) {\n            commonVal = commonVal || [];\n            // get uncommonVal\n            newVal = [];\n            for (let idx = 0; idx < curVal.length; idx++) {\n              let curMultiVal = curVal[idx];\n              // multiplex field\n              if (curMultiVal && typeof (curMultiVal) === \"object\") {\n                if (!this.containsObject(curMultiVal, commonVal)) {\n                  newVal.push(curMultiVal);\n                  if (!this.containsObject(curMultiVal, allFieldVal[fieldId])) {\n                    allFieldVal[fieldId].push(curMultiVal);\n                  }\n                }\n              } else {\n                if (commonVal.indexOf(curMultiVal) < 0) {\n                  newVal.push(curMultiVal);\n                  if (!allFieldVal[fieldId].indexOf(curMultiVal) >= 0) {\n                    allFieldVal[fieldId].push(curMultiVal);\n                  }\n                }\n              }\n            }\n          } else if (curVal && typeof (curVal) === \"object\") {\n            if (commonVal && typeof (commonVal) === \"object\") {\n              if (!((curVal.value === commonVal.value) || (curVal.unit === commonVal.unit))) {\n                newVal = curVal;\n                if (!this.containsObject(curVal, allFieldVal[fieldId])) {\n                  allFieldVal[fieldId].push(curVal);\n                }\n              }\n            } else {\n              newVal = curVal;\n              if (!this.containsObject(curVal, allFieldVal[fieldId])) {\n                allFieldVal[fieldId].push(curVal);\n              }\n            }\n          } else if (curVal !== commonVal) {\n            newVal = curVal;\n            if (!allFieldVal[fieldId].indexOf(curVal) >= 0) {\n              allFieldVal[fieldId].push(curVal);\n            }\n          }\n          diffWellVal[fieldId] = newVal;\n        }\n\n        differentWellsVals[address] = diffWellVal;\n      }\n\n      // clean up step for fields that are empty\n      for (let fieldId in allFieldVal) {\n        if (!allFieldVal.hasOwnProperty(fieldId)) {\n          continue;\n        }\n        if (allFieldVal[fieldId].length === 0) {\n          for (let address in differentWellsVals) {\n            if (!differentWellsVals.hasOwnProperty(address)) {\n              continue;\n            }\n            delete differentWellsVals[address][fieldId];\n          }\n        }\n      }\n\n      return differentWellsVals;\n    } else if (wells.length > 0) {\n      let differentWellsVals = {};\n      for (let address in wellsHash) {\n        if (!wellsHash.hasOwnProperty(address)) {\n          continue;\n        }\n        let diffWellVal = {};\n        let curWellData = wellsHash[address];\n        for (let fieldId in curWellData) {\n          if (!curWellData.hasOwnProperty(fieldId)) {\n            continue;\n          }\n          let curVal = curWellData[fieldId];\n          if (Array.isArray(curVal)) {\n            if (curVal.length > 0) {\n              diffWellVal[fieldId] = curVal\n            }\n          } else if (curVal) {\n            diffWellVal[fieldId] = curVal;\n          }\n        }\n        differentWellsVals[address] = diffWellVal;\n      }\n\n      return differentWellsVals;\n    }\n  },\n\n  setFieldsDisabled: function(flag) {\n    this.fieldList.forEach(function(field) {\n      field.disabled(flag);\n    });\n  },\n\n  isReadOnly: function(flag) {\n    this.readOnly = !!flag;\n    this.readOnlyHandler();\n  },\n\n  readOnlyHandler: function() {\n    if (this.readOnly) {\n      this.overLayButtonContainer.css(\"display\", \"none\");\n      $('.multiple-field-manage-delete-button').css(\"display\", \"none\");\n      this.setFieldsDisabled(true);\n    } else {\n      this.overLayButtonContainer.css(\"display\", \"flex\");\n      $('.multiple-field-manage-delete-button').css(\"display\", \"none\");\n      if (!this.disableAddDeleteWell) {\n        this.setFieldsDisabled(false);\n      }\n    }\n  },\n\n  disableAddDeleteWell: null,\n\n  // column_with_default_val will be used to determine empty wells, format: {field_name: default_val}\n  isDisableAddDeleteWell: function(flag, emptyDefaultWell) {\n    if (flag) {\n      let emptyWellWithDefaultVal = $.extend(true, {}, this.defaultWell);\n      if (emptyDefaultWell) {\n        for (let field in emptyDefaultWell) {\n          if (emptyDefaultWell.hasOwnProperty(field)) {\n            if (field in emptyWellWithDefaultVal) {\n              emptyWellWithDefaultVal[field] = emptyDefaultWell[field]\n            } else {\n              console.log(\"No field for key: \" + key + \", please contact support\");\n            }\n          }\n        }\n      }\n      this.disableAddDeleteWell = true;\n      this.addressAllowToEdit = this.getWellSetAddressWithData();\n      // configure undo redo action\n      this.actionPointer = 0;\n      this.undoRedoArray = [this.createState()];\n      this.emptyWellWithDefaultVal = emptyWellWithDefaultVal;\n    } else {\n      this.disableAddDeleteWell = false;\n      this.setFieldsDisabled(false);\n      this.emptyWellWithDefaultVal = null;\n    }\n  },\n\n  selectObjectInBottomTab: function() {\n    let colors = [];\n    let selectedIndices = this.selectedIndices;\n    for (let i = 0; i < selectedIndices.length; i++) {\n      let index = selectedIndices[i];\n      let well = this.engine.derivative[index];\n      if (well) {\n        let color = this.engine.colorMap.get(index);\n        if (colors.indexOf(color) < 0) {\n          colors.push(color);\n        }\n      }\n    }\n    let trs = document.querySelectorAll('table.plate-setup-bottom-table tr');\n    for (let i = 1; i < trs.length; i++) { // start at 1 to skip the table headers\n      let tr = trs[i];\n      let td = tr.children[0];\n      let isSelected = colors.indexOf(Number(td.querySelector('button').innerHTML)) >= 0;\n      tr.classList.toggle(\"selected\", isSelected);\n    }\n  },\n\n  getSelectedIndices: function() {\n    return this.selectedIndices.slice();\n  },\n\n  getSelectedAddresses: function() {\n    return this.selectedIndices.map(function(index) {\n      return this.allTiles[index].address;\n    }, this);\n  },\n\n  setSelectedAddresses: function(addresses, noUndoRedo) {\n    let indices = this.sanitizeAddresses(addresses);\n    this.setSelectedIndices(indices, noUndoRedo);\n  },\n\n  setSelectedIndices: function (indices, noUndoRedo) {\n    if (!indices || indices.length === 0) {\n      indices = [0];\n    }\n    // Indices should be sanitized\n    this.setSelection(indices);\n    //this._colorMixer();\n    this.decideSelectedFields();\n    this._trigger(\"selectedWells\", null, {selectedAddress: this.getSelectedAddresses()});\n    this.selectObjectInBottomTab();\n    if (!noUndoRedo) {\n      this.addToUndoRedo();\n    }\n  }\n\n});\n","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.preset = function() {\n    // All the preset action goes here\n    return {\n\n      presets: [],\n\n      _placePresetTabs: function() {\n        let presets = this.options.attributes.presets;\n\n        if (presets && presets.length) {\n          this.wellAttrContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-well-attr-container\")\n            .text(\"Checkbox presets\");\n          this.tabContainer.append(this.wellAttrContainer);\n\n          this.presetTabContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-preset-container\");\n          this.tabContainer.append(this.presetTabContainer);\n\n          for (let i = 0; i < presets.length; i++) {\n            let preset = presets[i];\n            let divText = this._createElement(\"<div></div>\").addClass(\"plate-setup-preset-tab-div\")\n              .text(preset.title);\n\n            let presetButton = this._createElement(\"<div></div>\").addClass(\"plate-setup-preset-tab\")\n              .data(\"preset\", preset.fields).append(divText);\n            this.presetTabContainer.append(presetButton);\n\n            let that = this;\n            presetButton.click(function() {\n              let preset = $(this);\n              that._selectPreset(preset);\n            });\n            this.presets.push(presetButton);\n          }\n        }\n      },\n\n      _clearPresetSelection: function() {\n        for (let j = 0; j < this.presets.length; j++) {\n          let p = this.presets[j];\n          p.removeClass(\"plate-setup-preset-tab-selected\")\n            .addClass(\"plate-setup-preset-tab\");\n        }\n      },\n\n      _selectPreset: function(preset) {\n        this.setCheckboxes(preset.data(\"preset\"));\n        preset.removeClass(\"plate-setup-preset-tab\")\n          .addClass(\"plate-setup-preset-tab-selected\");\n      },\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function(SVG) {\n\n  plateMapWidget.svgCreate = function() {\n    //\n    return {\n\n      baseSizes: {\n        spacing: 48,\n        tile_radius: 22,\n        center_radius_complete: 10,\n        center_radius_incomplete: 14,\n        label_size: 14,\n        label_spacing: 24,\n        text_size: 13,\n        stroke: 0.5,\n        gap: 2\n      },\n\n      allTiles: [],\n\n      _createSvg: function() {\n        this.svg = new SVG(this.canvasContainer[0]);\n        this.svg.attr('preserveAspectRatio', 'xMidYMin meet');\n        let ls = this.baseSizes.label_spacing;\n\n        this.svg.viewbox(-ls, -ls, ls + this.dimensions.cols * this.baseSizes.spacing, ls + this.dimensions.rows * this.baseSizes.spacing);\n\n        this.wellShadow = this.svg.gradient('radial', function (stop) {\n          stop.at(0.8, 'rgba(0,0,0,0.1)');\n          stop.at(1, 'rgba(0,0,0,0.2)');\n        }).from(\"50%\", \"50%\").to(\"50%\", \"55%\").radius(\"50%\").attr('id', 'wellShadow');\n\n        this.wellColors = this.colorPairs.map(function (pair, i) {\n            return this.svg.gradient('linear', function (stop) {\n                stop.at(0, pair[0]);\n                stop.at(1, pair[1]);\n            }).from(0, 0).to(0, 1).id('wellColor' + i.toString());\n        }, this);\n\n        this._fixRowAndColumn();\n        this._putCircles();\n        this._svgEvents();\n      },\n\n      _fixRowAndColumn: function () {\n        let cols = this.dimensions.cols;\n        let rows = this.dimensions.rows;\n\n        let rh = this.svg.nested().attr({'x': -this.baseSizes.label_spacing / 2.0}).addClass('rowHead');\n        let ch = this.svg.nested().attr({'y': -this.baseSizes.label_spacing / 2.0}).addClass('colHead');\n\n        for (let i = 0; i < rows; i++) {\n          rh.plain(this._rowKey(i)).attr({y: this.baseSizes.spacing * (i + 0.5)});\n        }\n        for (let i = 0; i < cols; i++) {\n          ch.plain(this._colKey(i)).attr({x: this.baseSizes.spacing * (i + 0.5)});\n        }\n      },\n\n      _putCircles: function () {\n        let cols = this.dimensions.cols;\n        let rows = this.dimensions.rows;\n        this.allTiles = Array(cols * rows);\n\n        for (let row = 0; row < rows; row++) {\n          for (let col = 0; col < cols; col++) {\n            let tile = this._createTile(row, col);\n            this.allTiles[tile.index] = tile;\n          }\n        }\n      },\n\n      _createTile: function (r, c) {\n        let g = this.svg.nested().move(this.baseSizes.spacing * c, this.baseSizes.spacing * r).addClass('tile');\n        let m = this.baseSizes.spacing / 2.0;\n\n        let d = {\"tile\": g};\n        d.r = r;\n        d.c = c;\n        d.index = this.locToIndex(d);\n        d.address = this.locToAddress(d);\n\n        g.rect(this.baseSizes.spacing, this.baseSizes.spacing).addClass('highlight');\n        g.circle(this.baseSizes.tile_radius * 2).center(m, m).addClass('well').fill(this.wellShadow);\n\n        let tf = g.group().addClass('fill');\n        d[\"circle\"] = tf.circle(this.baseSizes.tile_radius * 2).center(m, m).addClass('circle').fill(this.wellColors[0]);\n        tf.circle(this.baseSizes.center_radius_complete * 2).center(m, m).addClass('center');\n        tf.circle(this.baseSizes.center_radius_incomplete * 2).center(m, m).addClass('center_incomplete');\n        d[\"label\"] = tf.plain(\"0\").attr({x: m, y: m}).addClass('label');\n\n        return d;\n      },\n\n      setTileComplete: function (tile, complete) {\n        if (complete) {\n          tile.tile.removeClass('incomplete');\n        } else {\n          tile.tile.addClass('incomplete');\n        }\n      },\n\n      setTileVisible: function (tile, visible) {\n        if (visible) {\n          tile.tile.removeClass('empty');\n        } else {\n          tile.tile.addClass('empty');\n        }\n      },\n\n      setTileColor: function (tile, color) {\n        this.setTileVisible(tile, true);\n        tile.colorIndex = parseInt(color);\n        tile.label.plain(String(tile.colorIndex));\n\n        if (color > 0) {\n          color = ((color - 1) % (this.wellColors.length - 1)) + 1;\n        }\n\n        tile.circle.fill(this.wellColors[color])\n      }\n    };\n  }\n})(SVG);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.svgEvents = function() {\n    // This object contains Menu items and how it works;\n    return {\n      colorToIndex: {},\n      selectedIndices: [],\n\n      _svgEvents: function() {\n        // Set up event handling.\n        let that = this;\n\n        function getMousePosition(evt) {\n          let CTM = that.svg.node.getScreenCTM();\n          return {\n            x: (evt.clientX - CTM.e) / CTM.a,\n            y: (evt.clientY - CTM.f) / CTM.d\n          };\n        }\n\n        function dimCoord(v, max) {\n          max = max - 1;\n          if (v < 0) {\n            return 0;\n          } else if (v >= max) {\n            return max;\n          } else {\n            return Math.trunc(v);\n          }\n        }\n\n        function posToLoc(pos) {\n          let s = that.baseSizes.spacing;\n          let c = dimCoord(pos.x / s, that.dimensions.cols);\n          let r = dimCoord(pos.y / s, that.dimensions.rows);\n          return {r: r, c: c}\n        }\n\n        function selectionBoxPosition(pos0, pos1) {\n          let d0 = posToLoc(pos0);\n          let d1 = posToLoc(pos1);\n          let s = that.baseSizes.spacing;\n\n          let x0 = Math.min(d0.c, d1.c) * s;\n          let y0 = Math.min(d0.r, d1.r) * s;\n\n          if (pos0.x < 0) {\n            d0.c = that.dimensions.cols - 1;\n          }\n          if (pos0.y < 0) {\n            d0.r = that.dimensions.rows - 1;\n          }\n\n          let x1 = (Math.max(d0.c, d1.c) + 1) * s;\n          let y1 = (Math.max(d0.r, d1.r) + 1) * s;\n\n          return {\n            x: x0,\n            y: y0,\n            width: x1 - x0,\n            height: y1 - y0,\n          };\n        }\n\n        function selectTiles(pos0, pos1, secondary) {\n          let d0 = posToLoc(pos0);\n          let d1 = posToLoc(pos1);\n          let extending = true;\n          if (secondary) {\n            // if d0 is already selected, we are deselecting\n            let startIdx = that.locToIndex(d0);\n            extending = that.selectedIndices.indexOf(startIdx) < 0;\n          }\n          let c0 = Math.min(d0.c, d1.c);\n          let r0 = Math.min(d0.r, d1.r);\n\n          if (pos0.x < 0) {\n            d0.c = that.dimensions.cols - 1;\n          }\n          if (pos0.y < 0) {\n            d0.r = that.dimensions.rows - 1;\n          }\n\n          let c1 = Math.max(d0.c, d1.c);\n          let r1 = Math.max(d0.r, d1.r);\n\n          let indices = [];\n\n          for (let r = r0; r <= r1; r++) {\n            for (let c = c0; c <= c1; c++) {\n              let index = that.locToIndex({'r': r, 'c': c});\n              indices.push(index)\n            }\n          }\n          if (secondary) {\n            if (extending) {\n              that.selectedIndices.forEach(function (index) {\n                if (indices.indexOf(index) < 0) {\n                  indices.push(index);\n                }\n              });\n            } else {\n              indices = that.selectedIndices.filter(index => indices.indexOf(index) < 0);\n            }\n          }\n\n          that.setSelectedIndices(indices.sort());\n        }\n\n        let selectionBox;\n\n        function startDrag(evt) {\n          if (selectionBox) {\n            selectionBox.remove();\n          }\n          let pos = getMousePosition(evt);\n          let attrs = selectionBoxPosition(pos, pos);\n          selectionBox = that.svg.rect().attr(attrs).fill('rgba(0, 0, 1, 0.2)');\n          selectionBox.data('origin', pos);\n        }\n\n        function drag(evt) {\n          if (selectionBox) {\n            let pos = getMousePosition(evt);\n            let attrs = selectionBoxPosition(selectionBox.data('origin'), pos);\n            selectionBox.attr(attrs);\n          }\n        }\n\n        function endDrag(evt) {\n          if (selectionBox) {\n            let startPos = selectionBox.data('origin');\n            let pos = getMousePosition(evt);\n            selectTiles(startPos, pos, evt.shiftKey);\n            selectionBox.remove();\n            selectionBox = null;\n          }\n        }\n\n        this.svg.node.addEventListener('mousedown', startDrag);\n        this.svg.node.addEventListener('mousemove', drag);\n        this.svg.node.addEventListener('mouseleave', endDrag);\n        this.svg.node.addEventListener('mouseup', endDrag);\n\n        $(that.target).on(\"loadPlate\", function(evt, data) {\n          // This method should be compatible to redo/undo.\n          that.loadPlate(JSON.parse(data));\n        });\n      },\n\n      setSelection: function(selectedIndices) {\n        this.selectedIndices = selectedIndices;\n        this._setSelectedTiles();\n        document.activeElement.blur();\n      },\n\n      _setSelectedTiles: function() {\n        // Update selected tile display only\n        let selectedIndices = this.selectedIndices;\n        this.allTiles.forEach(function(tile) {\n          let selected = selectedIndices.indexOf(tile.index) >= 0;\n          if (selected) {\n            tile.tile.addClass('selected');\n          } else {\n            tile.tile.removeClass('selected');\n          }\n        })\n      },\n\n      _getSelectedWells: function() {\n        return this.selectedIndices.map(function(index) {\n          let well = this.engine.derivative[index];\n          if (!well) {\n            well = this.defaultWell;\n          }\n          return well;\n        }, this);\n      },\n\n      containsObject: function(obj, list) {\n        function deepEqual (x, y) {\n          if (x === y) {\n            return true;\n          } else if ((typeof x == \"object\" && x != null) && (typeof y == \"object\" && y != null)) {\n            if (Object.keys(x).length !== Object.keys(y).length) {\n              return false;\n            }\n            for (let prop in x) {\n              if (x.hasOwnProperty(prop)) {\n                if (y.hasOwnProperty(prop)) {\n                  if (!deepEqual(x[prop], y[prop])) {\n                    return false;\n                  }\n                } else {\n                  return false;\n                }\n              }\n            }\n            return true;\n          } else {\n            return false;\n          }\n        }\n\n        if (list) {\n          for (let i = 0; i < list.length; i++) {\n            if (deepEqual(obj, list[i])) {\n              return true;\n            }\n          }\n        }\n        return false;\n      },\n\n      _getCommonData: function(wells) {\n        if (wells.length) {\n          let commonData = $.extend(true, {}, wells[0]);\n          for (let i = 1; i < wells.length; i++) {\n            let well = wells[i];\n            for (let field in commonData) {\n              if (!commonData.hasOwnProperty(field)) {\n                continue;\n              }\n              let commonVal = commonData[field];\n              if (commonVal === undefined) {\n                commonVal = null;\n              }\n              let wellVal = well[field];\n              if (wellVal === undefined) {\n                wellVal = null;\n              }\n              if (Array.isArray(commonVal)) {\n                let commonArr = [];\n                for (let i = 0; i < commonVal.length; i++) {\n                  let v = commonVal[i];\n                  // for multiplex field\n                  if (v && typeof (v) === \"object\") {\n                    if (this.containsObject(v, wellVal)) {\n                      commonArr.push(v);\n                    }\n                  } else {\n                    if ($.inArray(v, wellVal) >= 0) {\n                      commonArr.push(v);\n                    }\n                  }\n                }\n                commonData[field] = commonArr;\n              } else {\n                if (wellVal && typeof (wellVal) === \"object\" && commonVal && typeof (commonVal) === \"object\") {\n                  if ((wellVal.value !== commonVal.value) || (wellVal.unit !== commonVal.unit)) {\n                    delete commonData[field];\n                  }\n                } else if (commonVal !== wellVal) {\n                  delete commonData[field];\n                }\n              }\n            }\n          }\n          return commonData;\n        } else {\n          return this.defaultWell;\n        }\n      },\n\n      _getCommonWell: function (wells) {\n        let commonData = this._getCommonData(wells);\n        return this.sanitizeWell(commonData);\n      },\n\n      _getAllMultipleVal: function(wells) {\n        let multipleFieldList = this.multipleFieldList;\n\n        multipleFieldList.forEach(function(multiplexField) {\n          if (wells.length) {\n            let curMultipleVal = {};\n            wells.forEach(function(wellData) {\n              let id = multiplexField.id;\n              if (wellData[id]) {\n                if (wellData[id].length > 0) {\n                  wellData[id].forEach(function(multipleVal) {\n                    if (typeof (multipleVal) === 'object') {\n                      if (multipleVal[id] in curMultipleVal) {\n                        curMultipleVal[multipleVal[id]]++;\n                      } else {\n                        curMultipleVal[multipleVal[id]] = 1;\n                      }\n                    } else {\n                      if (multipleVal in curMultipleVal) {\n                        curMultipleVal[multipleVal]++;\n\n                      } else {\n                        curMultipleVal[multipleVal] = 1;\n                      }\n                    }\n                  })\n                }\n              }\n            });\n            multiplexField.allSelectedMultipleVal = curMultipleVal;\n          } else {\n            multiplexField.allSelectedMultipleVal = null\n          }\n        });\n      },\n\n      decideSelectedFields: function() {\n        let wells = this._getSelectedWells();\n        this._getAllMultipleVal(wells);\n        this.applyFieldWarning(wells);\n        let well = this._getCommonWell(wells);\n        this._addDataToTabFields(well);\n      },\n\n      // get all wells that have data\n      getWellSetAddressWithData: function() {\n        let indices = Object.keys(this.engine.derivative).map(Number).sort();\n        return indices.map(this.indexToAddress, this)\n      }\n\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.tabs = function() {\n    // Tabs create and manage tabs at the right side of widget.\n    return {\n\n      allTabs: [],\n\n      defaultWell: {},\n\n      allDataTabs: [], // To hold all the tab contents. this contains all the tabs and its elements and elements\n      // Settings as a whole. its very useful, when we have units for a specific field.\n      // it goes like tabs-> individual field-> units and checkbox\n\n      _createTabAtRight: function() {\n        this.tabContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-tab-container\");\n        $(this.topRight).append(this.tabContainer);\n      },\n\n      _createTabs: function() {\n        // this could be done using z-index. just imagine few cards stacked up.\n        // Check if options has tab data.\n        // Originally we will be pulling tab data from developer.\n        // Now we are building upon dummy data.\n        this.tabHead = this._createElement(\"<div></div>\").addClass(\"plate-setup-tab-head\");\n        $(this.tabContainer).append(this.tabHead);\n\n        let tabData = this.options.attributes.tabs;\n        let that = this;\n\n        tabData.forEach(function(tab, tabIndex) {\n          that.allTabs[tabIndex] = that._createElement(\"<div></div>\").addClass(\"plate-setup-tab\");\n          $(that.allTabs[tabIndex]).data(\"index\", tabIndex)\n            .text(tab.name);\n\n          $(that.allTabs[tabIndex]).click(function() {\n            that._tabClickHandler(this);\n          });\n\n          $(that.tabHead).append(that.allTabs[tabIndex]);\n        });\n\n        this.tabDataContainer = this._createElement(\"<div></div>\").addClass(\"plate-setup-tab-data-container\");\n        $(this.tabContainer).append(this.tabDataContainer);\n\n        this._addDataTabs(tabData);\n\n        $(this.allTabs[0]).click();\n\n        this._addTabData();\n      },\n\n      _tabClickHandler: function(clickedTab) {\n\n        if (this.selectedTab) {\n          $(this.selectedTab).removeClass(\"plate-setup-tab-selected\")\n            .addClass(\"plate-setup-tab\");\n\n          let previouslyClickedTabIndex = $(this.selectedTab).data(\"index\");\n          $(this.allDataTabs[previouslyClickedTabIndex]).css(\"z-index\", 0);\n          this.readOnlyHandler();\n        }\n\n        $(clickedTab).addClass(\"plate-setup-tab-selected\");\n\n        this.selectedTab = clickedTab;\n\n        let clickedTabIndex = $(clickedTab).data(\"index\");\n        $(this.allDataTabs[clickedTabIndex]).css(\"z-index\", 1000);\n      },\n\n      _addDataTabs: function(tabs) {\n        this.allDataTabs = tabs.map(function () {\n          return this._createElement(\"<div></div>\").addClass(\"plate-setup-data-div\").css(\"z-index\", 0);\n        }, this);\n        $(this.tabDataContainer).append(this.allDataTabs);\n      }\n    };\n  }\n})(jQuery);","var plateMapWidget = plateMapWidget || {};\n\n(function($) {\n\n  plateMapWidget.undoRedoManager = function() {\n\n    return {\n\n      undoRedoArray: [],\n\n      actionPointer: null,\n\n      addToUndoRedo: function() {\n        var state = this.createState();\n        if (this.actionPointer != null) {\n          var i = this.actionPointer + 1;\n          if (i < this.undoRedoArray.length) {\n            this.undoRedoArray.splice(i, this.undoRedoArray.length - i);\n          }\n        }\n        this.actionPointer = null;\n        this.undoRedoArray.push(state);\n      },\n\n      _configureUndoRedoArray: function() {\n\n        var data = {\n          checkboxes: [],\n          derivative: {},\n          selectedIndices: [0]\n        };\n\n        this.undoRedoArray = [];\n        this.actionPointer = null;\n        this.undoRedoArray.push($.extend({}, data));\n      },\n\n      clearHistory: function () {\n        this.undoRedoArray = this.undoRedoArray.slice(-1);\n        this.actionPointer = null;\n      },\n\n      undo: function() {\n        console.log(\"undo\");\n        return this.shiftUndoRedo(-1);\n      },\n\n      redo: function() {\n        console.log(\"redo\");\n        return this.shiftUndoRedo(1);\n      },\n\n      shiftUndoRedo: function(pointerDiff) {\n        var pointer = this.actionPointer;\n        if (pointer == null) {\n          pointer = this.undoRedoArray.length - 1;\n        }\n        pointer += pointerDiff;\n        return this.setUndoRedo(pointer);\n      },\n\n      setUndoRedo: function(pointer) {\n        if (pointer < 0) {\n          return false;\n        }\n        if (pointer >= this.undoRedoArray.length) {\n          return false;\n        }\n        this.actionPointer = pointer;\n        this.setData(this.undoRedoArray[pointer], true);\n        return true;\n      }\n    }\n  };\n\n})(jQuery);"]}